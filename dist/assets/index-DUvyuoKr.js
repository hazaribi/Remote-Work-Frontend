var Gm=e=>{throw TypeError(e)};var Ir=(e,t,n)=>t.has(e)?Gm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function Km(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zd={exports:{}},bs={},ef={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=Symbol.for("react.element"),Qm=Symbol.for("react.portal"),Jm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),og=Symbol.for("react.memo"),ig=Symbol.for("react.lazy"),mu=Symbol.iterator;function sg(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nf=Object.assign,rf={};function jr(e,t,n){this.props=e,this.context=t,this.refs=rf,this.updater=n||tf}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function of(){}of.prototype=jr.prototype;function rc(e,t,n){this.props=e,this.context=t,this.refs=rf,this.updater=n||tf}var oc=rc.prototype=new of;oc.constructor=rc;nf(oc,jr.prototype);oc.isPureReactComponent=!0;var gu=Array.isArray,sf=Object.prototype.hasOwnProperty,ic={current:null},af={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)sf.call(t,r)&&!af.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Bo,type:e,key:i,ref:s,props:o,_owner:ic.current}}function ag(e,t){return{$$typeof:Bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bo}function lg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yu=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lg(""+e.key):t.toString(36)}function xi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bo:case Qm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Xs(s,0):r,gu(o)?(n="",e!=null&&(n=e.replace(yu,"$&/")+"/"),xi(o,t,n,"",function(c){return c})):o!=null&&(sc(o)&&(o=ag(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(yu,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",gu(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Xs(i,a);s+=xi(i,t,n,l,o)}else if(l=sg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Xs(i,a++),s+=xi(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ko(e,t,n){if(e==null)return e;var r=[],o=0;return xi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function cg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},ki={transition:null},ug={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ki,ReactCurrentOwner:ic};function cf(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ko,forEach:function(e,t,n){Ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ko(e,function(){t++}),t},toArray:function(e){return Ko(e,function(t){return t})||[]},only:function(e){if(!sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=jr;X.Fragment=Jm;X.Profiler=Zm;X.PureComponent=rc;X.StrictMode=qm;X.Suspense=rg;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;X.act=cf;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ic.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)sf.call(t,l)&&!af.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bo,type:e.type,key:o,ref:i,props:r,_owner:s}};X.createContext=function(e){return e={$$typeof:tg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eg,_context:e},e.Consumer=e};X.createElement=lf;X.createFactory=function(e){var t=lf.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:ng,render:e}};X.isValidElement=sc;X.lazy=function(e){return{$$typeof:ig,_payload:{_status:-1,_result:e},_init:cg}};X.memo=function(e,t){return{$$typeof:og,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ki.transition;ki.transition={};try{e()}finally{ki.transition=t}};X.unstable_act=cf;X.useCallback=function(e,t){return We.current.useCallback(e,t)};X.useContext=function(e){return We.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return We.current.useDeferredValue(e)};X.useEffect=function(e,t){return We.current.useEffect(e,t)};X.useId=function(){return We.current.useId()};X.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return We.current.useMemo(e,t)};X.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};X.useRef=function(e){return We.current.useRef(e)};X.useState=function(e){return We.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return We.current.useTransition()};X.version="18.3.1";ef.exports=X;var v=ef.exports;const dg=qd(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=v,hg=Symbol.for("react.element"),pg=Symbol.for("react.fragment"),mg=Object.prototype.hasOwnProperty,gg=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yg={key:!0,ref:!0,__self:!0,__source:!0};function uf(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)mg.call(t,r)&&!yg.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:hg,type:e,key:i,ref:s,props:o,_owner:gg.current}}bs.Fragment=pg;bs.jsx=uf;bs.jsxs=uf;Zd.exports=bs;var u=Zd.exports,Aa={},df={exports:{}},st={},ff={exports:{}},hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,z){var W=M.length;M.push(z);e:for(;0<W;){var E=W-1>>>1,D=M[E];if(0<o(D,z))M[E]=z,M[W]=D,W=E;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],W=M.pop();if(W!==z){M[0]=W;e:for(var E=0,D=M.length,S=D>>>1;E<S;){var T=2*(E+1)-1,R=M[T],P=T+1,F=M[P];if(0>o(R,W))P<D&&0>o(F,R)?(M[E]=F,M[P]=W,E=P):(M[E]=R,M[T]=W,E=T);else if(P<D&&0>o(F,W))M[E]=F,M[P]=W,E=P;else break e}}return z}function o(M,z){var W=M.sortIndex-z.sortIndex;return W!==0?W:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,y=!1,x=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(M){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=M)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function _(M){if(k=!1,p(M),!x)if(n(l)!==null)x=!0,Se(b);else{var z=n(c);z!==null&&Be(_,z.startTime-M)}}function b(M,z){x=!1,k&&(k=!1,g(j),j=-1),y=!0;var W=h;try{for(p(z),f=n(l);f!==null&&(!(f.expirationTime>z)||M&&!U());){var E=f.callback;if(typeof E=="function"){f.callback=null,h=f.priorityLevel;var D=E(f.expirationTime<=z);z=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),p(z)}else r(l);f=n(l)}if(f!==null)var S=!0;else{var T=n(c);T!==null&&Be(_,T.startTime-z),S=!1}return S}finally{f=null,h=W,y=!1}}var C=!1,w=null,j=-1,I=5,B=-1;function U(){return!(e.unstable_now()-B<I)}function se(){if(w!==null){var M=e.unstable_now();B=M;var z=!0;try{z=w(!0,M)}finally{z?ee():(C=!1,w=null)}}else C=!1}var ee;if(typeof m=="function")ee=function(){m(se)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Te=Ce.port2;Ce.port1.onmessage=se,ee=function(){Te.postMessage(null)}}else ee=function(){N(se,0)};function Se(M){w=M,C||(C=!0,ee())}function Be(M,z){j=N(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,Se(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return M()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return z()}finally{h=W}},e.unstable_scheduleCallback=function(M,z,W){var E=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?E+W:E):W=E,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,M={id:d++,callback:z,priorityLevel:M,startTime:W,expirationTime:D,sortIndex:-1},W>E?(M.sortIndex=W,t(c,M),n(l)===null&&M===n(c)&&(k?(g(j),j=-1):k=!0,Be(_,W-E))):(M.sortIndex=D,t(l,M),x||y||(x=!0,Se(b))),M},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(M){var z=h;return function(){var W=h;h=z;try{return M.apply(this,arguments)}finally{h=W}}}})(hf);ff.exports=hf;var vg=ff.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=v,it=vg;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,ko={};function Wn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(ko[e]=t,e=0;e<t.length;e++)pf.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},xu={};function _g(e){return $a.call(xu,e)?!0:$a.call(vu,e)?!1:kg.test(e)?xu[e]=!0:(vu[e]=!0,!1)}function Cg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sg(e,t,n,r){if(t===null||typeof t>"u"||Cg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,lc);Pe[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,lc);Pe[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,lc);Pe[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function cc(e,t,n,r){var o=Pe.hasOwnProperty(t)?Pe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sg(t,n,o,r)&&(n=null),r||o===null?_g(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),ku=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=ku&&e[ku]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Gs;function Gr(e){if(Gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||""}return`
`+Gs+e}var Ks=!1;function Qs(e,t){if(!e||Ks)return"";Ks=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ks=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gr(e):""}function wg(e){switch(e.tag){case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 2:case 15:return e=Qs(e.type,!1),e;case 11:return e=Qs(e.type.render,!1),e;case 1:return e=Qs(e.type,!0),e;default:return""}}function Ua(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case Ba:return"Profiler";case uc:return"StrictMode";case za:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gf:return(e.displayName||"Context")+".Consumer";case mf:return(e._context.displayName||"Context")+".Provider";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:Ua(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Ua(e(t))}catch{}}return null}function bg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ua(t);case 8:return t===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eg(e){var t=vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=Eg(e))}function xf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Va(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _u(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kf(e,t){t=t.checked,t!=null&&cc(e,"checked",t,!1)}function Wa(e,t){kf(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ha(e,t,n){(t!=="number"||Xi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kr=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Kr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function _f(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,Sf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _o(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(e){Tg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ro[t]=ro[e]})});function wf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ro.hasOwnProperty(e)&&ro[e]?(""+t).trim():t+"px"}function bf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Rg=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(e,t){if(t){if(Rg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,mr=null,gr=null;function bu(e){if(e=Uo(e)){if(typeof Ja!="function")throw Error(L(280));var t=e.stateNode;t&&(t=js(t),Ja(e.stateNode,e.type,t))}}function Ef(e){mr?gr?gr.push(e):gr=[e]:mr=e}function Tf(){if(mr){var e=mr,t=gr;if(gr=mr=null,bu(e),t)for(e=0;e<t.length;e++)bu(t[e])}}function Rf(e,t){return e(t)}function Nf(){}var Js=!1;function jf(e,t,n){if(Js)return e(t,n);Js=!0;try{return Rf(e,t,n)}finally{Js=!1,(mr!==null||gr!==null)&&(Nf(),Tf())}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var r=js(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var qa=!1;if(Ht)try{var $r={};Object.defineProperty($r,"passive",{get:function(){qa=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{qa=!1}function Ng(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var oo=!1,Gi=null,Ki=!1,Za=null,jg={onError:function(e){oo=!0,Gi=e}};function Pg(e,t,n,r,o,i,s,a,l){oo=!1,Gi=null,Ng.apply(jg,arguments)}function Lg(e,t,n,r,o,i,s,a,l){if(Pg.apply(this,arguments),oo){if(oo){var c=Gi;oo=!1,Gi=null}else throw Error(L(198));Ki||(Ki=!0,Za=c)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eu(e){if(Hn(e)!==e)throw Error(L(188))}function Dg(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Eu(o),e;if(i===r)return Eu(o),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Lf(e){return e=Dg(e),e!==null?Df(e):null}function Df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Df(e);if(t!==null)return t;e=e.sibling}return null}var Of=it.unstable_scheduleCallback,Tu=it.unstable_cancelCallback,Og=it.unstable_shouldYield,Mg=it.unstable_requestPaint,pe=it.unstable_now,Ig=it.unstable_getCurrentPriorityLevel,pc=it.unstable_ImmediatePriority,Mf=it.unstable_UserBlockingPriority,Qi=it.unstable_NormalPriority,Ag=it.unstable_LowPriority,If=it.unstable_IdlePriority,Es=null,Nt=null;function $g(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Fg,Bg=Math.log,zg=Math.LN2;function Fg(e){return e>>>=0,e===0?32:31-(Bg(e)/zg|0)|0}var Zo=64,ei=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Qr(a):(i&=s,i!==0&&(r=Qr(i)))}else s=n&~o,s!==0?r=Qr(s):i!==0&&(r=Qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),o=1<<n,r|=e[n],t&=~o;return r}function Ug(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-St(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=Ug(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Af(){var e=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),e}function qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Wg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-St(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var q=0;function $f(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bf,gc,zf,Ff,Uf,tl=!1,ti=[],fn=null,hn=null,pn=null,So=new Map,wo=new Map,on=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function Br(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Uo(t),t!==null&&gc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Yg(e,t,n,r,o){switch(t){case"focusin":return fn=Br(fn,e,t,n,r,o),!0;case"dragenter":return hn=Br(hn,e,t,n,r,o),!0;case"mouseover":return pn=Br(pn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return So.set(i,Br(So.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,wo.set(i,Br(wo.get(i)||null,e,t,n,r,o)),!0}return!1}function Vf(e){var t=Dn(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Pf(n),t!==null){e.blockedOn=t,Uf(e.priority,function(){zf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qa=r,n.target.dispatchEvent(r),Qa=null}else return t=Uo(n),t!==null&&gc(t),e.blockedOn=n,!1;t.shift()}return!0}function Nu(e,t,n){_i(e)&&n.delete(t)}function Xg(){tl=!1,fn!==null&&_i(fn)&&(fn=null),hn!==null&&_i(hn)&&(hn=null),pn!==null&&_i(pn)&&(pn=null),So.forEach(Nu),wo.forEach(Nu)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Xg)))}function bo(e){function t(o){return zr(o,e)}if(0<ti.length){zr(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fn!==null&&zr(fn,e),hn!==null&&zr(hn,e),pn!==null&&zr(pn,e),So.forEach(t),wo.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)Vf(n),n.blockedOn===null&&on.shift()}var yr=Jt.ReactCurrentBatchConfig,qi=!0;function Gg(e,t,n,r){var o=q,i=yr.transition;yr.transition=null;try{q=1,yc(e,t,n,r)}finally{q=o,yr.transition=i}}function Kg(e,t,n,r){var o=q,i=yr.transition;yr.transition=null;try{q=4,yc(e,t,n,r)}finally{q=o,yr.transition=i}}function yc(e,t,n,r){if(qi){var o=nl(e,t,n,r);if(o===null)la(e,t,r,Zi,n),Ru(e,r);else if(Yg(o,e,t,n,r))r.stopPropagation();else if(Ru(e,r),t&4&&-1<Hg.indexOf(e)){for(;o!==null;){var i=Uo(o);if(i!==null&&Bf(i),i=nl(e,t,n,r),i===null&&la(e,t,r,Zi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else la(e,t,r,null,n)}}var Zi=null;function nl(e,t,n,r){if(Zi=null,e=hc(r),e=Dn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zi=e,null}function Wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ig()){case pc:return 1;case Mf:return 4;case Qi:case Ag:return 16;case If:return 536870912;default:return 16}default:return 16}}var ln=null,vc=null,Ci=null;function Hf(){if(Ci)return Ci;var e,t=vc,n=t.length,r,o="value"in ln?ln.value:ln.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ci=o.slice(e,1<r?1-r:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function ju(){return!1}function at(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ni:ju,this.isPropagationStopped=ju,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=at(Pr),Fo=de({},Pr,{view:0,detail:0}),Qg=at(Fo),Zs,ea,Fr,Ts=de({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(Zs=e.screenX-Fr.screenX,ea=e.screenY-Fr.screenY):ea=Zs=0,Fr=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Pu=at(Ts),Jg=de({},Ts,{dataTransfer:0}),qg=at(Jg),Zg=de({},Fo,{relatedTarget:0}),ta=at(Zg),e0=de({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=at(e0),n0=de({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r0=at(n0),o0=de({},Pr,{data:0}),Lu=at(o0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a0[e])?!!t[e]:!1}function kc(){return l0}var c0=de({},Fo,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=at(c0),d0=de({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=at(d0),f0=de({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),h0=at(f0),p0=de({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=at(p0),g0=de({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y0=at(g0),v0=[9,13,27,32],_c=Ht&&"CompositionEvent"in window,io=null;Ht&&"documentMode"in document&&(io=document.documentMode);var x0=Ht&&"TextEvent"in window&&!io,Yf=Ht&&(!_c||io&&8<io&&11>=io),Ou=" ",Mu=!1;function Xf(e,t){switch(e){case"keyup":return v0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function k0(e,t){switch(e){case"compositionend":return Gf(t);case"keypress":return t.which!==32?null:(Mu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Mu?null:e;default:return null}}function _0(e,t){if(rr)return e==="compositionend"||!_c&&Xf(e,t)?(e=Hf(),Ci=vc=ln=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yf&&t.locale!=="ko"?null:t.data;default:return null}}var C0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C0[e.type]:t==="textarea"}function Kf(e,t,n,r){Ef(r),t=es(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var so=null,Eo=null;function S0(e){sh(e,0)}function Rs(e){var t=sr(e);if(xf(t))return e}function w0(e,t){if(e==="change")return t}var Qf=!1;if(Ht){var na;if(Ht){var ra="oninput"in document;if(!ra){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),ra=typeof Au.oninput=="function"}na=ra}else na=!1;Qf=na&&(!document.documentMode||9<document.documentMode)}function $u(){so&&(so.detachEvent("onpropertychange",Jf),Eo=so=null)}function Jf(e){if(e.propertyName==="value"&&Rs(Eo)){var t=[];Kf(t,Eo,e,hc(e)),jf(S0,t)}}function b0(e,t,n){e==="focusin"?($u(),so=t,Eo=n,so.attachEvent("onpropertychange",Jf)):e==="focusout"&&$u()}function E0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(Eo)}function T0(e,t){if(e==="click")return Rs(t)}function R0(e,t){if(e==="input"||e==="change")return Rs(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:N0;function To(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$a.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function Bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=Bu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bu(n)}}function qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zf(){for(var e=window,t=Xi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xi(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function j0(e){var t=Zf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qf(n.ownerDocument.documentElement,n)){if(r!==null&&Cc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=zu(n,i);var s=zu(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P0=Ht&&"documentMode"in document&&11>=document.documentMode,or=null,rl=null,ao=null,ol=!1;function Fu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ol||or==null||or!==Xi(r)||(r=or,"selectionStart"in r&&Cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ao&&To(ao,r)||(ao=r,r=es(rl,"onSelect"),0<r.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},oa={},eh={};Ht&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Ns(e){if(oa[e])return oa[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eh)return oa[e]=t[n];return e}var th=Ns("animationend"),nh=Ns("animationiteration"),rh=Ns("animationstart"),oh=Ns("transitionend"),ih=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){ih.set(e,t),Wn(t,[e])}for(var ia=0;ia<Uu.length;ia++){var sa=Uu[ia],L0=sa.toLowerCase(),D0=sa[0].toUpperCase()+sa.slice(1);wn(L0,"on"+D0)}wn(th,"onAnimationEnd");wn(nh,"onAnimationIteration");wn(rh,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(oh,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Vu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lg(r,t,void 0,e),e.currentTarget=null}function sh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Vu(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Vu(o,a,c),i=l}}}if(Ki)throw e=Za,Ki=!1,Za=null,e}function ne(e,t){var n=t[cl];n===void 0&&(n=t[cl]=new Set);var r=e+"__bubble";n.has(r)||(ah(t,e,2,!1),n.add(r))}function aa(e,t,n){var r=0;t&&(r|=4),ah(n,e,r,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[oi]){e[oi]=!0,pf.forEach(function(n){n!=="selectionchange"&&(O0.has(n)||aa(n,!1,e),aa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,aa("selectionchange",!1,t))}}function ah(e,t,n,r){switch(Wf(t)){case 1:var o=Gg;break;case 4:o=Kg;break;default:o=yc}n=o.bind(null,t,n,e),o=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function la(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Dn(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}jf(function(){var c=i,d=hc(n),f=[];e:{var h=ih.get(e);if(h!==void 0){var y=xc,x=e;switch(e){case"keypress":if(Si(n)===0)break e;case"keydown":case"keyup":y=u0;break;case"focusin":x="focus",y=ta;break;case"focusout":x="blur",y=ta;break;case"beforeblur":case"afterblur":y=ta;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=h0;break;case th:case nh:case rh:y=t0;break;case oh:y=m0;break;case"scroll":y=Qg;break;case"wheel":y=y0;break;case"copy":case"cut":case"paste":y=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Du}var k=(t&4)!==0,N=!k&&e==="scroll",g=k?h!==null?h+"Capture":null:h;k=[];for(var m=c,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Co(m,g),_!=null&&k.push(No(m,_,p)))),N)break;m=m.return}0<k.length&&(h=new y(h,x,null,n,d),f.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Qa&&(x=n.relatedTarget||n.fromElement)&&(Dn(x)||x[Yt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?Dn(x):null,x!==null&&(N=Hn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(k=Pu,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=Du,_="onPointerLeave",g="onPointerEnter",m="pointer"),N=y==null?h:sr(y),p=x==null?h:sr(x),h=new k(_,m+"leave",y,n,d),h.target=N,h.relatedTarget=p,_=null,Dn(d)===c&&(k=new k(g,m+"enter",x,n,d),k.target=p,k.relatedTarget=N,_=k),N=_,y&&x)t:{for(k=y,g=x,m=0,p=k;p;p=Jn(p))m++;for(p=0,_=g;_;_=Jn(_))p++;for(;0<m-p;)k=Jn(k),m--;for(;0<p-m;)g=Jn(g),p--;for(;m--;){if(k===g||g!==null&&k===g.alternate)break t;k=Jn(k),g=Jn(g)}k=null}else k=null;y!==null&&Wu(f,h,y,k,!1),x!==null&&N!==null&&Wu(f,N,x,k,!0)}}e:{if(h=c?sr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var b=w0;else if(Iu(h))if(Qf)b=R0;else{b=E0;var C=b0}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=T0);if(b&&(b=b(e,c))){Kf(f,b,n,d);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ha(h,"number",h.value)}switch(C=c?sr(c):window,e){case"focusin":(Iu(C)||C.contentEditable==="true")&&(or=C,rl=c,ao=null);break;case"focusout":ao=rl=or=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Fu(f,n,d);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":Fu(f,n,d)}var w;if(_c)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rr?Xf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Yf&&n.locale!=="ko"&&(rr||j!=="onCompositionStart"?j==="onCompositionEnd"&&rr&&(w=Hf()):(ln=d,vc="value"in ln?ln.value:ln.textContent,rr=!0)),C=es(c,j),0<C.length&&(j=new Lu(j,e,null,n,d),f.push({event:j,listeners:C}),w?j.data=w:(w=Gf(n),w!==null&&(j.data=w)))),(w=x0?k0(e,n):_0(e,n))&&(c=es(c,"onBeforeInput"),0<c.length&&(d=new Lu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}sh(f,t)})}function No(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Co(e,n),i!=null&&r.unshift(No(e,i,o)),i=Co(e,t),i!=null&&r.push(No(e,i,o))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Co(n,i),l!=null&&s.unshift(No(n,l,a))):o||(l=Co(n,i),l!=null&&s.push(No(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var M0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function Hu(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(I0,"")}function ii(e,t,n){if(t=Hu(t),Hu(e)!==t&&n)throw Error(L(425))}function ts(){}var il=null,sl=null;function al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(B0)}:ll;function B0(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);bo(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Lr,jo="__reactProps$"+Lr,Yt="__reactContainer$"+Lr,cl="__reactEvents$"+Lr,z0="__reactListeners$"+Lr,F0="__reactHandles$"+Lr;function Dn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xu(e);e!==null;){if(n=e[Rt])return n;e=Xu(e)}return t}e=n,n=e.parentNode}return null}function Uo(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function js(e){return e[jo]||null}var ul=[],ar=-1;function bn(e){return{current:e}}function re(e){0>ar||(e.current=ul[ar],ul[ar]=null,ar--)}function Z(e,t){ar++,ul[ar]=e.current,e.current=t}var Sn={},Ae=bn(Sn),Je=bn(!1),Bn=Sn;function Sr(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function qe(e){return e=e.childContextTypes,e!=null}function ns(){re(Je),re(Ae)}function Gu(e,t,n){if(Ae.current!==Sn)throw Error(L(168));Z(Ae,t),Z(Je,n)}function lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(L(108,bg(e)||"Unknown",o));return de({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Bn=Ae.current,Z(Ae,e),Z(Je,Je.current),!0}function Ku(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=lh(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,re(Je),re(Ae),Z(Ae,e)):re(Je),Z(Je,n)}var Bt=null,Ps=!1,ua=!1;function ch(e){Bt===null?Bt=[e]:Bt.push(e)}function U0(e){Ps=!0,ch(e)}function En(){if(!ua&&Bt!==null){ua=!0;var e=0,t=q;try{var n=Bt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Ps=!1}catch(o){throw Bt!==null&&(Bt=Bt.slice(e+1)),Of(pc,En),o}finally{q=t,ua=!1}}return null}var lr=[],cr=0,os=null,is=0,ct=[],ut=0,zn=null,zt=1,Ft="";function Nn(e,t){lr[cr++]=is,lr[cr++]=os,os=e,is=t}function uh(e,t,n){ct[ut++]=zt,ct[ut++]=Ft,ct[ut++]=zn,zn=e;var r=zt;e=Ft;var o=32-St(r)-1;r&=~(1<<o),n+=1;var i=32-St(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,zt=1<<32-St(t)+o|n<<o|r,Ft=i+e}else zt=1<<i|n<<o|r,Ft=e}function Sc(e){e.return!==null&&(Nn(e,1),uh(e,1,0))}function wc(e){for(;e===os;)os=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null;for(;e===zn;)zn=ct[--ut],ct[ut]=null,Ft=ct[--ut],ct[ut]=null,zt=ct[--ut],ct[ut]=null}var ot=null,rt=null,ie=!1,Ct=null;function dh(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,rt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:zt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,rt=null,!0):!1;default:return!1}}function dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fl(e){if(ie){var t=rt;if(t){var n=t;if(!Qu(e,t)){if(dl(e))throw Error(L(418));t=mn(n.nextSibling);var r=ot;t&&Qu(e,t)?dh(r,n):(e.flags=e.flags&-4097|2,ie=!1,ot=e)}}else{if(dl(e))throw Error(L(418));e.flags=e.flags&-4097|2,ie=!1,ot=e}}}function Ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function si(e){if(e!==ot)return!1;if(!ie)return Ju(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!al(e.type,e.memoizedProps)),t&&(t=rt)){if(dl(e))throw fh(),Error(L(418));for(;t;)dh(e,t),t=mn(t.nextSibling)}if(Ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=ot?mn(e.stateNode.nextSibling):null;return!0}function fh(){for(var e=rt;e;)e=mn(e.nextSibling)}function wr(){rt=ot=null,ie=!1}function bc(e){Ct===null?Ct=[e]:Ct.push(e)}var V0=Jt.ReactCurrentBatchConfig;function Ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qu(e){var t=e._init;return t(e._payload)}function hh(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function o(g,m){return g=xn(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,p,_){return m===null||m.tag!==6?(m=ya(p,g.mode,_),m.return=g,m):(m=o(m,p),m.return=g,m)}function l(g,m,p,_){var b=p.type;return b===nr?d(g,m,p.props.children,_,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tn&&qu(b)===m.type)?(_=o(m,p.props),_.ref=Ur(g,m,p),_.return=g,_):(_=ji(p.type,p.key,p.props,null,g.mode,_),_.ref=Ur(g,m,p),_.return=g,_)}function c(g,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=va(p,g.mode,_),m.return=g,m):(m=o(m,p.children||[]),m.return=g,m)}function d(g,m,p,_,b){return m===null||m.tag!==7?(m=An(p,g.mode,_,b),m.return=g,m):(m=o(m,p),m.return=g,m)}function f(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ya(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qo:return p=ji(m.type,m.key,m.props,null,g.mode,p),p.ref=Ur(g,null,m),p.return=g,p;case tr:return m=va(m,g.mode,p),m.return=g,m;case tn:var _=m._init;return f(g,_(m._payload),p)}if(Kr(m)||Ar(m))return m=An(m,g.mode,p,null),m.return=g,m;ai(g,m)}return null}function h(g,m,p,_){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(g,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qo:return p.key===b?l(g,m,p,_):null;case tr:return p.key===b?c(g,m,p,_):null;case tn:return b=p._init,h(g,m,b(p._payload),_)}if(Kr(p)||Ar(p))return b!==null?null:d(g,m,p,_,null);ai(g,p)}return null}function y(g,m,p,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,a(m,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qo:return g=g.get(_.key===null?p:_.key)||null,l(m,g,_,b);case tr:return g=g.get(_.key===null?p:_.key)||null,c(m,g,_,b);case tn:var C=_._init;return y(g,m,p,C(_._payload),b)}if(Kr(_)||Ar(_))return g=g.get(p)||null,d(m,g,_,b,null);ai(m,_)}return null}function x(g,m,p,_){for(var b=null,C=null,w=m,j=m=0,I=null;w!==null&&j<p.length;j++){w.index>j?(I=w,w=null):I=w.sibling;var B=h(g,w,p[j],_);if(B===null){w===null&&(w=I);break}e&&w&&B.alternate===null&&t(g,w),m=i(B,m,j),C===null?b=B:C.sibling=B,C=B,w=I}if(j===p.length)return n(g,w),ie&&Nn(g,j),b;if(w===null){for(;j<p.length;j++)w=f(g,p[j],_),w!==null&&(m=i(w,m,j),C===null?b=w:C.sibling=w,C=w);return ie&&Nn(g,j),b}for(w=r(g,w);j<p.length;j++)I=y(w,g,j,p[j],_),I!==null&&(e&&I.alternate!==null&&w.delete(I.key===null?j:I.key),m=i(I,m,j),C===null?b=I:C.sibling=I,C=I);return e&&w.forEach(function(U){return t(g,U)}),ie&&Nn(g,j),b}function k(g,m,p,_){var b=Ar(p);if(typeof b!="function")throw Error(L(150));if(p=b.call(p),p==null)throw Error(L(151));for(var C=b=null,w=m,j=m=0,I=null,B=p.next();w!==null&&!B.done;j++,B=p.next()){w.index>j?(I=w,w=null):I=w.sibling;var U=h(g,w,B.value,_);if(U===null){w===null&&(w=I);break}e&&w&&U.alternate===null&&t(g,w),m=i(U,m,j),C===null?b=U:C.sibling=U,C=U,w=I}if(B.done)return n(g,w),ie&&Nn(g,j),b;if(w===null){for(;!B.done;j++,B=p.next())B=f(g,B.value,_),B!==null&&(m=i(B,m,j),C===null?b=B:C.sibling=B,C=B);return ie&&Nn(g,j),b}for(w=r(g,w);!B.done;j++,B=p.next())B=y(w,g,j,B.value,_),B!==null&&(e&&B.alternate!==null&&w.delete(B.key===null?j:B.key),m=i(B,m,j),C===null?b=B:C.sibling=B,C=B);return e&&w.forEach(function(se){return t(g,se)}),ie&&Nn(g,j),b}function N(g,m,p,_){if(typeof p=="object"&&p!==null&&p.type===nr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Qo:e:{for(var b=p.key,C=m;C!==null;){if(C.key===b){if(b=p.type,b===nr){if(C.tag===7){n(g,C.sibling),m=o(C,p.props.children),m.return=g,g=m;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tn&&qu(b)===C.type){n(g,C.sibling),m=o(C,p.props),m.ref=Ur(g,C,p),m.return=g,g=m;break e}n(g,C);break}else t(g,C);C=C.sibling}p.type===nr?(m=An(p.props.children,g.mode,_,p.key),m.return=g,g=m):(_=ji(p.type,p.key,p.props,null,g.mode,_),_.ref=Ur(g,m,p),_.return=g,g=_)}return s(g);case tr:e:{for(C=p.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=o(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=va(p,g.mode,_),m.return=g,g=m}return s(g);case tn:return C=p._init,N(g,m,C(p._payload),_)}if(Kr(p))return x(g,m,p,_);if(Ar(p))return k(g,m,p,_);ai(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=o(m,p),m.return=g,g=m):(n(g,m),m=ya(p,g.mode,_),m.return=g,g=m),s(g)):n(g,m)}return N}var br=hh(!0),ph=hh(!1),ss=bn(null),as=null,ur=null,Ec=null;function Tc(){Ec=ur=as=null}function Rc(e){var t=ss.current;re(ss),e._currentValue=t}function hl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){as=e,Ec=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ec!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(as===null)throw Error(L(308));ur=e,as.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var On=null;function Nc(e){On===null?On=[e]:On.push(e)}function mh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Nc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Xt(e,n)}return o=r.interleaved,o===null?(t.next=t,Nc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Xt(e,n)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}function Zu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var o=e.updateQueue;nn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=c=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,k=a;switch(h=t,y=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=de({},f,h);break e;case 2:nn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Un|=s,e.lanes=s,e.memoizedState=f}}function ed(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(L(191,o));o.call(r)}}}var Vo={},jt=bn(Vo),Po=bn(Vo),Lo=bn(Vo);function Mn(e){if(e===Vo)throw Error(L(174));return e}function Pc(e,t){switch(Z(Lo,t),Z(Po,e),Z(jt,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xa(t,e)}re(jt),Z(jt,t)}function Er(){re(jt),re(Po),re(Lo)}function yh(e){Mn(Lo.current);var t=Mn(jt.current),n=Xa(t,e.type);t!==n&&(Z(Po,e),Z(jt,n))}function Lc(e){Po.current===e&&(re(jt),re(Po))}var le=bn(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function Dc(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var bi=Jt.ReactCurrentDispatcher,fa=Jt.ReactCurrentBatchConfig,Fn=0,ce=null,ke=null,be=null,us=!1,lo=!1,Do=0,W0=0;function Le(){throw Error(L(321))}function Oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Mc(e,t,n,r,o,i){if(Fn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bi.current=e===null||e.memoizedState===null?G0:K0,e=n(r,o),lo){i=0;do{if(lo=!1,Do=0,25<=i)throw Error(L(301));i+=1,be=ke=null,t.updateQueue=null,bi.current=Q0,e=n(r,o)}while(lo)}if(bi.current=ds,t=ke!==null&&ke.next!==null,Fn=0,be=ke=ce=null,us=!1,t)throw Error(L(300));return e}function Ic(){var e=Do!==0;return Do=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=e:be=be.next=e,be}function mt(){if(ke===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=be===null?ce.memoizedState:be.next;if(t!==null)be=t,ke=e;else{if(e===null)throw Error(L(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},be===null?ce.memoizedState=be=e:be=be.next=e}return be}function Oo(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=mt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=ke,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Fn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ce.lanes|=d,Un|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,bt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ce.lanes|=i,Un|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=mt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);bt(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function vh(){}function xh(e,t){var n=ce,r=mt(),o=t(),i=!bt(r.memoizedState,o);if(i&&(r.memoizedState=o,Qe=!0),r=r.queue,Ac(Ch.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Mo(9,_h.bind(null,n,r,o,t),void 0,null),Ee===null)throw Error(L(349));Fn&30||kh(n,t,o)}return o}function kh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _h(e,t,n,r){t.value=n,t.getSnapshot=r,Sh(t)&&wh(e)}function Ch(e,t,n){return n(function(){Sh(t)&&wh(e)})}function Sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function wh(e){var t=Xt(e,1);t!==null&&wt(t,e,1,-1)}function td(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=X0.bind(null,ce,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bh(){return mt().memoizedState}function Ei(e,t,n,r){var o=Tt();ce.flags|=e,o.memoizedState=Mo(1|t,n,void 0,r===void 0?null:r)}function Ls(e,t,n,r){var o=mt();r=r===void 0?null:r;var i=void 0;if(ke!==null){var s=ke.memoizedState;if(i=s.destroy,r!==null&&Oc(r,s.deps)){o.memoizedState=Mo(t,n,i,r);return}}ce.flags|=e,o.memoizedState=Mo(1|t,n,i,r)}function nd(e,t){return Ei(8390656,8,e,t)}function Ac(e,t){return Ls(2048,8,e,t)}function Eh(e,t){return Ls(4,2,e,t)}function Th(e,t){return Ls(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4,4,Rh.bind(null,t,e),n)}function $c(){}function jh(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ph(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lh(e,t,n){return Fn&21?(bt(n,t)||(n=Af(),ce.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function H0(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{q=n,fa.transition=r}}function Dh(){return mt().memoizedState}function Y0(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oh(e))Mh(t,n);else if(n=mh(e,t,n,r),n!==null){var o=Ue();wt(n,e,r,o),Ih(n,t,r)}}function X0(e,t,n){var r=vn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oh(e))Mh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,bt(a,s)){var l=t.interleaved;l===null?(o.next=o,Nc(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=mh(e,t,o,r),n!==null&&(o=Ue(),wt(n,e,r,o),Ih(n,t,r))}}function Oh(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Mh(e,t){lo=us=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ih(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}var ds={readContext:pt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},G0={readContext:pt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:nd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,Rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Y0.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:td,useDebugValue:$c,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=td(!1),t=e[0];return e=H0.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,o=Tt();if(ie){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ee===null)throw Error(L(349));Fn&30||kh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,nd(Ch.bind(null,r,i,e),[e]),r.flags|=2048,Mo(9,_h.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ee.identifierPrefix;if(ie){var n=Ft,r=zt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Do++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=W0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K0={readContext:pt,useCallback:jh,useContext:pt,useEffect:Ac,useImperativeHandle:Nh,useInsertionEffect:Eh,useLayoutEffect:Th,useMemo:Ph,useReducer:ha,useRef:bh,useState:function(){return ha(Oo)},useDebugValue:$c,useDeferredValue:function(e){var t=mt();return Lh(t,ke.memoizedState,e)},useTransition:function(){var e=ha(Oo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:xh,useId:Dh,unstable_isNewReconciler:!1},Q0={readContext:pt,useCallback:jh,useContext:pt,useEffect:Ac,useImperativeHandle:Nh,useInsertionEffect:Eh,useLayoutEffect:Th,useMemo:Ph,useReducer:pa,useRef:bh,useState:function(){return pa(Oo)},useDebugValue:$c,useDeferredValue:function(e){var t=mt();return ke===null?t.memoizedState=e:Lh(t,ke.memoizedState,e)},useTransition:function(){var e=pa(Oo)[0],t=mt().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:xh,useId:Dh,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ds={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=vn(e),i=Ut(r,o);i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,o),t!==null&&(wt(t,e,o,r),wi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=vn(e),i=Ut(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,o),t!==null&&(wt(t,e,o,r),wi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=vn(e),o=Ut(n,r);o.tag=2,t!=null&&(o.callback=t),t=gn(e,o,r),t!==null&&(wt(t,e,r,n),wi(t,e,r))}};function rd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!To(n,r)||!To(o,i):!0}function Ah(e,t,n){var r=!1,o=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(o=qe(t)?Bn:Ae.current,r=t.contextTypes,i=(r=r!=null)?Sr(e,o):Sn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ds,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function od(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ds.enqueueReplaceState(t,t.state,null)}function ml(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},jc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=pt(i):(i=qe(t)?Bn:Ae.current,o.context=Sr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ds.enqueueReplaceState(o,o.state,null),ls(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Tr(e,t){try{var n="",r=t;do n+=wg(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J0=typeof WeakMap=="function"?WeakMap:Map;function $h(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hs||(hs=!0,El=r),gl(e,t)},n}function Bh(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){gl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gl(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=dy.bind(null,e,t,n),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ad(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var q0=Jt.ReactCurrentOwner,Qe=!1;function Fe(e,t,n,r){t.child=e===null?ph(t,null,n,r):br(t,e.child,n,r)}function ld(e,t,n,r,o){n=n.render;var i=t.ref;return vr(t,o),r=Mc(e,t,n,r,i,o),n=Ic(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(ie&&n&&Sc(t),t.flags|=1,Fe(e,t,r,o),t.child)}function cd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Yc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zh(e,t,i,r,o)):(e=ji(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(s,r)&&e.ref===t.ref)return Gt(e,t,o)}return t.flags|=1,e=xn(i,r),e.ref=t.ref,e.return=t,t.child=e}function zh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(To(i,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Gt(e,t,o)}return yl(e,t,n,r,o)}function Fh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(fr,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(fr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(fr,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(fr,nt),nt|=r;return Fe(e,t,o,n),t.child}function Uh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yl(e,t,n,r,o){var i=qe(n)?Bn:Ae.current;return i=Sr(t,i),vr(t,o),n=Mc(e,t,n,r,i,o),r=Ic(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(ie&&r&&Sc(t),t.flags|=1,Fe(e,t,n,o),t.child)}function ud(e,t,n,r,o){if(qe(n)){var i=!0;rs(t)}else i=!1;if(vr(t,o),t.stateNode===null)Ti(e,t),Ah(t,n,r),ml(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=qe(n)?Bn:Ae.current,c=Sr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&od(t,s,r,c),nn=!1;var h=t.memoizedState;s.state=h,ls(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Je.current||nn?(typeof d=="function"&&(pl(t,n,d,r),l=t.memoizedState),(a=nn||rd(t,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,gh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vt(t.type,a),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=qe(n)?Bn:Ae.current,l=Sr(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&od(t,s,r,l),nn=!1,h=t.memoizedState,s.state=h,ls(t,r,s,o);var x=t.memoizedState;a!==f||h!==x||Je.current||nn?(typeof y=="function"&&(pl(t,n,y,r),x=t.memoizedState),(c=nn||rd(t,n,c,r,h,x,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vl(e,t,n,r,i,o)}function vl(e,t,n,r,o,i){Uh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Ku(t,n,!1),Gt(e,t,i);r=t.stateNode,q0.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=br(t,e.child,null,i),t.child=br(t,null,a,i)):Fe(e,t,a,i),t.memoizedState=r.state,o&&Ku(t,n,!0),t.child}function Vh(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),Pc(e,t.containerInfo)}function dd(e,t,n,r,o){return wr(),bc(o),t.flags|=256,Fe(e,t,n,r),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wh(e,t,n){var r=t.pendingProps,o=le.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Z(le,o&1),e===null)return fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Is(s,r,0,null),e=An(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kl(n),t.memoizedState=xl,e):Bc(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Z0(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=xn(a,i):(i=An(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?kl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=xl,r}return i=e.child,e=i.sibling,r=xn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bc(e,t){return t=Is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,r){return r!==null&&bc(r),br(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z0(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ma(Error(L(422))),li(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Is({mode:"visible",children:r.children},o,0,null),i=An(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&br(t,e.child,null,s),t.child.memoizedState=kl(s),t.memoizedState=xl,i);if(!(t.mode&1))return li(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(L(419)),r=ma(i,r,void 0),li(e,t,s,r)}if(a=(s&e.childLanes)!==0,Qe||a){if(r=Ee,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Xt(e,o),wt(r,e,o,-1))}return Hc(),r=ma(Error(L(421))),li(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,rt=mn(o.nextSibling),ot=t,ie=!0,Ct=null,e!==null&&(ct[ut++]=zt,ct[ut++]=Ft,ct[ut++]=zn,zt=e.id,Ft=e.overflow,zn=t),t=Bc(t,r.children),t.flags|=4096,t)}function fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hl(e.return,t,n)}function ga(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,n,t);else if(e.tag===19)fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&cs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ga(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ga(t,!0,n,null,i);break;case"together":ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ey(e,t,n){switch(t.tag){case 3:Vh(t),wr();break;case 5:yh(t);break;case 1:qe(t.type)&&rs(t);break;case 4:Pc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Z(ss,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Wh(e,t,n):(Z(le,le.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Z(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Fh(e,t,n)}return Gt(e,t,n)}var Yh,_l,Xh,Gh;Yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_l=function(){};Xh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Mn(jt.current);var i=null;switch(n){case"input":o=Va(e,o),r=Va(e,r),i=[];break;case"select":o=de({},o,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":o=Ya(e,o),r=Ya(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ts)}Ga(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ko.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ko.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Gh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ty(e,t,n){var r=t.pendingProps;switch(wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return qe(t.type)&&ns(),De(t),null;case 3:return r=t.stateNode,Er(),re(Je),re(Ae),Dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(Nl(Ct),Ct=null))),_l(e,t),De(t),null;case 5:Lc(t);var o=Mn(Lo.current);if(n=t.type,e!==null&&t.stateNode!=null)Xh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return De(t),null}if(e=Mn(jt.current),si(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[jo]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(o=0;o<Jr.length;o++)ne(Jr[o],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":_u(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Su(r,i),ne("invalid",r)}Ga(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,a,e),o=["children",""+a]):ko.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ne("scroll",r)}switch(n){case"input":Jo(r),Cu(r,i,!0);break;case"textarea":Jo(r),wu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ts)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Rt]=t,e[jo]=r,Yh(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ka(n,r),n){case"dialog":ne("cancel",e),ne("close",e),o=r;break;case"iframe":case"object":case"embed":ne("load",e),o=r;break;case"video":case"audio":for(o=0;o<Jr.length;o++)ne(Jr[o],e);o=r;break;case"source":ne("error",e),o=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=r;break;case"details":ne("toggle",e),o=r;break;case"input":_u(e,r),o=Va(e,r),ne("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Su(e,r),o=Ya(e,r),ne("invalid",e);break;default:o=r}Ga(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?bf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_o(e,l):typeof l=="number"&&_o(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&cc(e,i,l,s))}switch(n){case"input":Jo(e),Cu(e,r,!1);break;case"textarea":Jo(e),wu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pr(e,!!r.multiple,i,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Gh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Mn(Lo.current),Mn(jt.current),si(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return De(t),null;case 13:if(re(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&rt!==null&&t.mode&1&&!(t.flags&128))fh(),wr(),t.flags|=98560,i=!1;else if(i=si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Rt]=t}else wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else Ct!==null&&(Nl(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?_e===0&&(_e=3):Hc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Er(),_l(e,t),e===null&&Ro(t.stateNode.containerInfo),De(t),null;case 10:return Rc(t.type._context),De(t),null;case 17:return qe(t.type)&&ns(),De(t),null;case 19:if(re(le),i=t.memoizedState,i===null)return De(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Vr(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=cs(e),s!==null){for(t.flags|=128,Vr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>Rr&&(t.flags|=128,r=!0,Vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=cs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ie)return De(t),null}else 2*pe()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Vr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=le.current,Z(le,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Wc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function ny(e,t){switch(wc(t),t.tag){case 1:return qe(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),re(Je),re(Ae),Dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lc(t),null;case 13:if(re(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(le),null;case 4:return Er(),null;case 10:return Rc(t.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var ci=!1,Ie=!1,ry=typeof WeakSet=="function"?WeakSet:Set,A=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Cl(e,t,n){try{n()}catch(r){he(e,t,r)}}var hd=!1;function oy(e,t){if(il=qi,e=Zf(),Cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++c===o&&(a=s),h===i&&++d===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sl={focusedElem:e,selectionRange:n},qi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,N=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:vt(t.type,k),N);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){he(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return x=hd,hd=!1,x}function co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Cl(t,n,i)}o=o.next}while(o!==r)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kh(e){var t=e.alternate;t!==null&&(e.alternate=null,Kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[jo],delete t[cl],delete t[z0],delete t[F0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qh(e){return e.tag===5||e.tag===3||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ts));else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}var Ne=null,xt=!1;function en(e,t,n){for(n=n.child;n!==null;)Jh(e,t,n),n=n.sibling}function Jh(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Es,n)}catch{}switch(n.tag){case 5:Ie||dr(n,t);case 6:var r=Ne,o=xt;Ne=null,en(e,t,n),Ne=r,xt=o,Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),bo(e)):ca(Ne,n.stateNode));break;case 4:r=Ne,o=xt,Ne=n.stateNode.containerInfo,xt=!0,en(e,t,n),Ne=r,xt=o;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Cl(n,t,s),o=o.next}while(o!==r)}en(e,t,n);break;case 1:if(!Ie&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,en(e,t,n),Ie=r):en(e,t,n);break;default:en(e,t,n)}}function md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ry),t.forEach(function(r){var o=hy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,xt=!1;break e;case 3:Ne=a.stateNode.containerInfo,xt=!0;break e;case 4:Ne=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(Ne===null)throw Error(L(160));Jh(i,s,o),Ne=null,xt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){he(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}function qh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Et(e),r&4){try{co(3,e,e.return),Os(3,e)}catch(k){he(e,e.return,k)}try{co(5,e,e.return)}catch(k){he(e,e.return,k)}}break;case 1:gt(t,e),Et(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(gt(t,e),Et(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var o=e.stateNode;try{_o(o,"")}catch(k){he(e,e.return,k)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kf(o,i),Ka(a,s);var c=Ka(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?bf(o,f):d==="dangerouslySetInnerHTML"?Sf(o,f):d==="children"?_o(o,f):cc(o,d,f,c)}switch(a){case"input":Wa(o,i);break;case"textarea":_f(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?pr(o,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?pr(o,!!i.multiple,i.defaultValue,!0):pr(o,!!i.multiple,i.multiple?[]:"",!1))}o[jo]=i}catch(k){he(e,e.return,k)}}break;case 6:if(gt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(L(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(k){he(e,e.return,k)}}break;case 3:if(gt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(k){he(e,e.return,k)}break;case 4:gt(t,e),Et(e);break;case 13:gt(t,e),Et(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Uc=pe())),r&4&&md(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,gt(t,e),Ie=c):gt(t,e),Et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(f=A=d;A!==null;){switch(h=A,y=h.child,h.tag){case 0:case 11:case 14:case 15:co(4,h,h.return);break;case 1:dr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(k){he(r,n,k)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){yd(f);continue}}y!==null?(y.return=h,A=y):yd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wf("display",s))}catch(k){he(e,e.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){he(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),Et(e),r&4&&md(e);break;case 21:break;default:gt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qh(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(_o(o,""),r.flags&=-33);var i=pd(e);bl(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=pd(e);wl(e,a,s);break;default:throw Error(L(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iy(e,t,n){A=e,Zh(e)}function Zh(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var o=A,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ci;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=ci;var c=Ie;if(ci=s,(Ie=l)&&!c)for(A=o;A!==null;)s=A,l=s.child,s.tag===22&&s.memoizedState!==null?vd(o):l!==null?(l.return=s,A=l):vd(o);for(;i!==null;)A=i,Zh(i),i=i.sibling;A=o,ci=a,Ie=c}gd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,A=i):gd(e)}}function gd(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ed(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ed(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ie||t.flags&512&&Sl(t)}catch(h){he(t,t.return,h)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function yd(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function vd(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Os(4,t)}catch(l){he(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){he(t,o,l)}}var i=t.return;try{Sl(t)}catch(l){he(t,i,l)}break;case 5:var s=t.return;try{Sl(t)}catch(l){he(t,s,l)}}}catch(l){he(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var sy=Math.ceil,fs=Jt.ReactCurrentDispatcher,zc=Jt.ReactCurrentOwner,ht=Jt.ReactCurrentBatchConfig,J=0,Ee=null,ve=null,je=0,nt=0,fr=bn(0),_e=0,Io=null,Un=0,Ms=0,Fc=0,uo=null,Ge=null,Uc=0,Rr=1/0,$t=null,hs=!1,El=null,yn=null,ui=!1,cn=null,ps=0,fo=0,Tl=null,Ri=-1,Ni=0;function Ue(){return J&6?pe():Ri!==-1?Ri:Ri=pe()}function vn(e){return e.mode&1?J&2&&je!==0?je&-je:V0.transition!==null?(Ni===0&&(Ni=Af()),Ni):(e=q,e!==0||(e=window.event,e=e===void 0?16:Wf(e.type)),e):1}function wt(e,t,n,r){if(50<fo)throw fo=0,Tl=null,Error(L(185));zo(e,n,r),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(Ms|=n),_e===4&&sn(e,je)),Ze(e,r),n===1&&J===0&&!(t.mode&1)&&(Rr=pe()+500,Ps&&En()))}function Ze(e,t){var n=e.callbackNode;Vg(e,t);var r=Ji(e,e===Ee?je:0);if(r===0)n!==null&&Tu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tu(n),t===1)e.tag===0?U0(xd.bind(null,e)):ch(xd.bind(null,e)),$0(function(){!(J&6)&&En()}),n=null;else{switch($f(r)){case 1:n=pc;break;case 4:n=Mf;break;case 16:n=Qi;break;case 536870912:n=If;break;default:n=Qi}n=ap(n,ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ep(e,t){if(Ri=-1,Ni=0,J&6)throw Error(L(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=Ji(e,e===Ee?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ms(e,r);else{t=r;var o=J;J|=2;var i=np();(Ee!==e||je!==t)&&($t=null,Rr=pe()+500,In(e,t));do try{cy();break}catch(a){tp(e,a)}while(!0);Tc(),fs.current=i,J=o,ve!==null?t=0:(Ee=null,je=0,t=_e)}if(t!==0){if(t===2&&(o=el(e),o!==0&&(r=o,t=Rl(e,o))),t===1)throw n=Io,In(e,0),sn(e,r),Ze(e,pe()),n;if(t===6)sn(e,r);else{if(o=e.current.alternate,!(r&30)&&!ay(o)&&(t=ms(e,r),t===2&&(i=el(e),i!==0&&(r=i,t=Rl(e,i))),t===1))throw n=Io,In(e,0),sn(e,r),Ze(e,pe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:jn(e,Ge,$t);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=Uc+500-pe(),10<t)){if(Ji(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ll(jn.bind(null,e,Ge,$t),t);break}jn(e,Ge,$t);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-St(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sy(r/1960))-r,10<r){e.timeoutHandle=ll(jn.bind(null,e,Ge,$t),r);break}jn(e,Ge,$t);break;case 5:jn(e,Ge,$t);break;default:throw Error(L(329))}}}return Ze(e,pe()),e.callbackNode===n?ep.bind(null,e):null}function Rl(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=ms(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Nl(t)),e}function Nl(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function ay(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!bt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Fc,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function xd(e){if(J&6)throw Error(L(327));xr();var t=Ji(e,0);if(!(t&1))return Ze(e,pe()),null;var n=ms(e,t);if(e.tag!==0&&n===2){var r=el(e);r!==0&&(t=r,n=Rl(e,r))}if(n===1)throw n=Io,In(e,0),sn(e,t),Ze(e,pe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Ge,$t),Ze(e,pe()),null}function Vc(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Rr=pe()+500,Ps&&En())}}function Vn(e){cn!==null&&cn.tag===0&&!(J&6)&&xr();var t=J;J|=1;var n=ht.transition,r=q;try{if(ht.transition=null,q=1,e)return e()}finally{q=r,ht.transition=n,J=t,!(J&6)&&En()}}function Wc(){nt=fr.current,re(fr)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,A0(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:Er(),re(Je),re(Ae),Dc();break;case 5:Lc(r);break;case 4:Er();break;case 13:re(le);break;case 19:re(le);break;case 10:Rc(r.type._context);break;case 22:case 23:Wc()}n=n.return}if(Ee=e,ve=e=xn(e.current,null),je=nt=t,_e=0,Io=null,Fc=Ms=Un=0,Ge=uo=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}On=null}return e}function tp(e,t){do{var n=ve;try{if(Tc(),bi.current=ds,us){for(var r=ce.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}us=!1}if(Fn=0,be=ke=ce=null,lo=!1,Do=0,zc.current=null,n===null||n.return===null){_e=1,Io=t,ve=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=sd(s);if(y!==null){y.flags&=-257,ad(y,s,a,i,t),y.mode&1&&id(i,c,t),t=y,l=c;var x=t.updateQueue;if(x===null){var k=new Set;k.add(l),t.updateQueue=k}else x.add(l);break e}else{if(!(t&1)){id(i,c,t),Hc();break e}l=Error(L(426))}}else if(ie&&a.mode&1){var N=sd(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ad(N,s,a,i,t),bc(Tr(l,a));break e}}i=l=Tr(l,a),_e!==4&&(_e=2),uo===null?uo=[i]:uo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=$h(i,l,t);Zu(i,g);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yn===null||!yn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Bh(i,a,t);Zu(i,_);break e}}i=i.return}while(i!==null)}op(n)}catch(b){t=b,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function np(){var e=fs.current;return fs.current=ds,e===null?ds:e}function Hc(){(_e===0||_e===3||_e===2)&&(_e=4),Ee===null||!(Un&268435455)&&!(Ms&268435455)||sn(Ee,je)}function ms(e,t){var n=J;J|=2;var r=np();(Ee!==e||je!==t)&&($t=null,In(e,t));do try{ly();break}catch(o){tp(e,o)}while(!0);if(Tc(),J=n,fs.current=r,ve!==null)throw Error(L(261));return Ee=null,je=0,_e}function ly(){for(;ve!==null;)rp(ve)}function cy(){for(;ve!==null&&!Og();)rp(ve)}function rp(e){var t=sp(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?op(e):ve=t,zc.current=null}function op(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ny(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,ve=null;return}}else if(n=ty(n,t,nt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);_e===0&&(_e=5)}function jn(e,t,n){var r=q,o=ht.transition;try{ht.transition=null,q=1,uy(e,t,n,r)}finally{ht.transition=o,q=r}return null}function uy(e,t,n,r){do xr();while(cn!==null);if(J&6)throw Error(L(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Wg(e,i),e===Ee&&(ve=Ee=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ui||(ui=!0,ap(Qi,function(){return xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var s=q;q=1;var a=J;J|=4,zc.current=null,oy(e,n),qh(n,e),j0(sl),qi=!!il,sl=il=null,e.current=n,iy(n),Mg(),J=a,q=s,ht.transition=i}else e.current=n;if(ui&&(ui=!1,cn=e,ps=o),i=e.pendingLanes,i===0&&(yn=null),$g(n.stateNode),Ze(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(hs)throw hs=!1,e=El,El=null,e;return ps&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===Tl?fo++:(fo=0,Tl=e):fo=0,En(),null}function xr(){if(cn!==null){var e=$f(ps),t=ht.transition,n=q;try{if(ht.transition=null,q=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,ps=0,J&6)throw Error(L(331));var o=J;for(J|=4,A=e.current;A!==null;){var i=A,s=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:co(8,d,i)}var f=d.child;if(f!==null)f.return=d,A=f;else for(;A!==null;){d=A;var h=d.sibling,y=d.return;if(Kh(d),d===c){A=null;break}if(h!==null){h.return=y,A=h;break}A=y}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}A=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,A=s;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:co(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var m=e.current;for(A=m;A!==null;){s=A;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,A=p;else e:for(s=m;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Os(9,a)}}catch(b){he(a,a.return,b)}if(a===s){A=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,A=_;break e}A=a.return}}if(J=o,En(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Es,e)}catch{}r=!0}return r}finally{q=n,ht.transition=t}}return!1}function kd(e,t,n){t=Tr(n,t),t=$h(e,t,1),e=gn(e,t,1),t=Ue(),e!==null&&(zo(e,1,t),Ze(e,t))}function he(e,t,n){if(e.tag===3)kd(e,e,n);else for(;t!==null;){if(t.tag===3){kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=Tr(n,e),e=Bh(t,e,1),t=gn(t,e,1),e=Ue(),t!==null&&(zo(t,1,e),Ze(t,e));break}}t=t.return}}function dy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(je&n)===n&&(_e===4||_e===3&&(je&130023424)===je&&500>pe()-Uc?In(e,0):Fc|=n),Ze(e,t)}function ip(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=Ue();e=Xt(e,t),e!==null&&(zo(e,t,n),Ze(e,n))}function fy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ip(e,n)}function hy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),ip(e,n)}var sp;sp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,ey(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ie&&t.flags&1048576&&uh(t,is,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ti(e,t),e=t.pendingProps;var o=Sr(t,Ae.current);vr(t,n),o=Mc(null,t,r,e,o,n);var i=Ic();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(i=!0,rs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,jc(t),o.updater=Ds,t.stateNode=o,o._reactInternals=t,ml(t,r,e,n),t=vl(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&Sc(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=my(r),e=vt(r,e),o){case 0:t=yl(null,t,r,e,n);break e;case 1:t=ud(null,t,r,e,n);break e;case 11:t=ld(null,t,r,e,n);break e;case 14:t=cd(null,t,r,vt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),yl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),ud(e,t,r,o,n);case 3:e:{if(Vh(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,o=i.element,gh(e,t),ls(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Tr(Error(L(423)),t),t=dd(e,t,r,n,o);break e}else if(r!==o){o=Tr(Error(L(424)),t),t=dd(e,t,r,n,o);break e}else for(rt=mn(t.stateNode.containerInfo.firstChild),ot=t,ie=!0,Ct=null,n=ph(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===o){t=Gt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return yh(t),e===null&&fl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,al(r,o)?s=null:i!==null&&al(r,i)&&(t.flags|=32),Uh(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&fl(t),null;case 13:return Wh(e,t,n);case 4:return Pc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=br(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),ld(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Z(ss,r._currentValue),r._currentValue=s,i!==null)if(bt(i.value,s)){if(i.children===o.children&&!Je.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ut(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),hl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),hl(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,vr(t,n),o=pt(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=vt(r,t.pendingProps),o=vt(r.type,o),cd(e,t,r,o,n);case 15:return zh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vt(r,o),Ti(e,t),t.tag=1,qe(r)?(e=!0,rs(t)):e=!1,vr(t,n),Ah(t,r,o),ml(t,r,o,n),vl(null,t,r,!0,e,n);case 19:return Hh(e,t,n);case 22:return Fh(e,t,n)}throw Error(L(156,t.tag))};function ap(e,t){return Of(e,t)}function py(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new py(e,t,n,r)}function Yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return Yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dc)return 11;if(e===fc)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ji(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Yc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case nr:return An(n.children,o,i,t);case uc:s=8,o|=8;break;case Ba:return e=ft(12,n,t,o|2),e.elementType=Ba,e.lanes=i,e;case za:return e=ft(13,n,t,o),e.elementType=za,e.lanes=i,e;case Fa:return e=ft(19,n,t,o),e.elementType=Fa,e.lanes=i,e;case yf:return Is(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mf:s=10;break e;case gf:s=9;break e;case dc:s=11;break e;case fc:s=14;break e;case tn:s=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=ft(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function An(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Is(e,t,n,r){return e=ft(22,e,r,t),e.elementType=yf,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function va(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qs(0),this.expirationTimes=qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xc(e,t,n,r,o,i,s,a,l){return e=new gy(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(i),e}function yy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lp(e){if(!e)return Sn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(qe(n))return lh(e,n,t)}return t}function cp(e,t,n,r,o,i,s,a,l){return e=Xc(n,r,!0,e,o,i,s,a,l),e.context=lp(null),n=e.current,r=Ue(),o=vn(n),i=Ut(r,o),i.callback=t??null,gn(n,i,o),e.current.lanes=o,zo(e,o,r),Ze(e,r),e}function As(e,t,n,r){var o=t.current,i=Ue(),s=vn(o);return n=lp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(o,t,s),e!==null&&(wt(e,o,s,i),wi(e,o,s)),s}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gc(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function vy(){return null}var up=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}$s.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));As(e,t,null,null)};$s.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vn(function(){As(null,e,null,null)}),t[Yt]=null}};function $s(e){this._internalRoot=e}$s.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ff();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&Vf(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cd(){}function xy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=gs(s);i.call(c)}}var s=cp(t,r,e,0,null,!1,!1,"",Cd);return e._reactRootContainer=s,e[Yt]=s.current,Ro(e.nodeType===8?e.parentNode:e),Vn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=gs(l);a.call(c)}}var l=Xc(e,0,!1,null,null,!1,!1,"",Cd);return e._reactRootContainer=l,e[Yt]=l.current,Ro(e.nodeType===8?e.parentNode:e),Vn(function(){As(t,l,n,r)}),l}function zs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=gs(s);a.call(l)}}As(t,s,e,o)}else s=xy(n,t,e,o,r);return gs(s)}Bf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(mc(t,n|1),Ze(t,pe()),!(J&6)&&(Rr=pe()+500,En()))}break;case 13:Vn(function(){var r=Xt(e,1);if(r!==null){var o=Ue();wt(r,e,1,o)}}),Gc(e,1)}};gc=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=Ue();wt(t,e,134217728,n)}Gc(e,134217728)}};zf=function(e){if(e.tag===13){var t=vn(e),n=Xt(e,t);if(n!==null){var r=Ue();wt(n,e,t,r)}Gc(e,t)}};Ff=function(){return q};Uf=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Ja=function(e,t,n){switch(t){case"input":if(Wa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=js(r);if(!o)throw Error(L(90));xf(r),Wa(r,o)}}}break;case"textarea":_f(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};Rf=Vc;Nf=Vn;var ky={usingClientEntryPoint:!1,Events:[Uo,sr,js,Ef,Tf,Vc]},Wr={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_y={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lf(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{Es=di.inject(_y),Nt=di}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(t))throw Error(L(200));return yy(e,t,null,n)};st.createRoot=function(e,t){if(!Qc(e))throw Error(L(299));var n=!1,r="",o=up;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xc(e,1,!1,null,null,n,!1,r,o),e[Yt]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Kc(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Lf(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Vn(e)};st.hydrate=function(e,t,n){if(!Bs(t))throw Error(L(200));return zs(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=up;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=cp(t,null,e,1,n??null,o,!1,i,s),e[Yt]=t.current,Ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new $s(t)};st.render=function(e,t,n){if(!Bs(t))throw Error(L(200));return zs(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Bs(e))throw Error(L(40));return e._reactRootContainer?(Vn(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};st.unstable_batchedUpdates=Vc;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bs(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return zs(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dp)}catch(e){console.error(e)}}dp(),df.exports=st;var Cy=df.exports,Sd=Cy;Aa.createRoot=Sd.createRoot,Aa.hydrateRoot=Sd.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wd="popstate";function Sy(e={}){function t(r,o){let{pathname:i,search:s,hash:a}=r.location;return jl("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ao(o)}return by(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wy(){return Math.random().toString(36).substring(2,10)}function bd(e,t){return{usr:e.state,key:e.key,idx:t}}function jl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dr(t):t,state:n,key:t&&t.key||r||wy()}}function Ao({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function by(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a="POP",l=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function f(){a="POP";let N=d(),g=N==null?null:N-c;c=N,l&&l({action:a,location:k.location,delta:g})}function h(N,g){a="PUSH";let m=jl(k.location,N,g);c=d()+1;let p=bd(m,c),_=k.createHref(m);try{s.pushState(p,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;o.location.assign(_)}i&&l&&l({action:a,location:k.location,delta:1})}function y(N,g){a="REPLACE";let m=jl(k.location,N,g);c=d();let p=bd(m,c),_=k.createHref(m);s.replaceState(p,"",_),i&&l&&l({action:a,location:k.location,delta:0})}function x(N){return Ey(N)}let k={get action(){return a},get location(){return e(o,s)},listen(N){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(wd,f),l=N,()=>{o.removeEventListener(wd,f),l=null}},createHref(N){return t(o,N)},createURL:x,encodeLocation(N){let g=x(N);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:y,go(N){return s.go(N)}};return k}function Ey(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ao(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fp(e,t,n="/"){return Ty(e,t,n,!1)}function Ty(e,t,n,r){let o=typeof t=="string"?Dr(t):t,i=Kt(o.pathname||"/",n);if(i==null)return null;let s=hp(e);Ry(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=By(i);a=Ay(s[l],c,r)}return a}function hp(e,t=[],n=[],r="",o=!1){let i=(s,a,l=o,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Vt([r,d.relativePath]),h=n.concat(d);s.children&&s.children.length>0&&(ue(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),hp(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:My(f,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of pp(s.path))i(s,a,!0,c)}),t}function pp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=pp(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ry(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Iy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ny=/^:[\w-]+$/,jy=3,Py=2,Ly=1,Dy=10,Oy=-2,Ed=e=>e==="*";function My(e,t){let n=e.split("/"),r=n.length;return n.some(Ed)&&(r+=Oy),t&&(r+=Py),n.filter(o=>!Ed(o)).reduce((o,i)=>o+(Ny.test(i)?jy:i===""?Ly:Dy),r)}function Iy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Ay(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ys({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ys({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:Vt([i,f.pathname]),pathnameBase:Vy(Vt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Vt([i,f.pathnameBase]))}return s}function ys(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$y(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let x=a[h]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[h];return f&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function $y(e,t=!1,n=!0){Dt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function By(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Kt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function zy(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Dr(e):e;return{pathname:n?n.startsWith("/")?n:Fy(n,t):t,search:Wy(r),hash:Hy(o)}}function Fy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mp(e){let t=Uy(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function gp(e,t,n,r=!1){let o;typeof e=="string"?o=Dr(e):(o={...e},ue(!o.pathname||!o.pathname.includes("?"),xa("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),xa("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),xa("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=zy(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Vt=e=>e.join("/").replace(/\/\/+/g,"/"),Vy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yp=["POST","PUT","PATCH","DELETE"];new Set(yp);var Xy=["GET",...yp];new Set(Xy);var Or=v.createContext(null);Or.displayName="DataRouter";var Fs=v.createContext(null);Fs.displayName="DataRouterState";v.createContext(!1);var vp=v.createContext({isTransitioning:!1});vp.displayName="ViewTransition";var Gy=v.createContext(new Map);Gy.displayName="Fetchers";var Ky=v.createContext(null);Ky.displayName="Await";var It=v.createContext(null);It.displayName="Navigation";var Wo=v.createContext(null);Wo.displayName="Location";var At=v.createContext({outlet:null,matches:[],isDataRoute:!1});At.displayName="Route";var Jc=v.createContext(null);Jc.displayName="RouteError";function Qy(e,{relative:t}={}){ue(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(It),{hash:o,pathname:i,search:s}=Yo(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:Vt([n,i])),r.createHref({pathname:a,search:s,hash:o})}function Ho(){return v.useContext(Wo)!=null}function Yn(){return ue(Ho(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Wo).location}var xp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kp(e){v.useContext(It).static||v.useLayoutEffect(e)}function _p(){let{isDataRoute:e}=v.useContext(At);return e?uv():Jy()}function Jy(){ue(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Or),{basename:t,navigator:n}=v.useContext(It),{matches:r}=v.useContext(At),{pathname:o}=Yn(),i=JSON.stringify(mp(r)),s=v.useRef(!1);return kp(()=>{s.current=!0}),v.useCallback((l,c={})=>{if(Dt(s.current,xp),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=gp(l,JSON.parse(i),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Vt([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,i,o,e])}v.createContext(null);function qy(){let{matches:e}=v.useContext(At),t=e[e.length-1];return t?t.params:{}}function Yo(e,{relative:t}={}){let{matches:n}=v.useContext(At),{pathname:r}=Yn(),o=JSON.stringify(mp(n));return v.useMemo(()=>gp(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function Zy(e,t){return Cp(e,t)}function Cp(e,t,n,r,o){var m;ue(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(It),{matches:s}=v.useContext(At),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let p=f&&f.path||"";Sp(c,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Yn(),y;if(t){let p=typeof t=="string"?Dr(t):t;ue(d==="/"||((m=p.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),y=p}else y=h;let x=y.pathname||"/",k=x;if(d!=="/"){let p=d.replace(/^\//,"").split("/");k="/"+x.replace(/^\//,"").split("/").slice(p.length).join("/")}let N=fp(e,{pathname:k});Dt(f||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Dt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=ov(N&&N.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Vt([d,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Vt([d,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),s,n,r,o);return t&&g?v.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},g):g}function ev(){let e=cv(),t=Yy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:o},n):null,s)}var tv=v.createElement(ev,null),nv=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(At.Provider,{value:this.props.routeContext},v.createElement(Jc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rv({routeContext:e,match:t,children:n}){let r=v.useContext(Or);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(At.Provider,{value:e},n)}function ov(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ue(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=n,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let h,y=!1,x=null,k=null;n&&(h=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||tv,a&&(l<0&&f===0?(Sp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,k=null):l===f&&(y=!0,k=d.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,f+1)),g=()=>{let m;return h?m=x:y?m=k:d.route.Component?m=v.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,v.createElement(rv,{match:d,routeContext:{outlet:c,matches:N,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(nv,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:g(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):g()},null)}function qc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(e){let t=v.useContext(Or);return ue(t,qc(e)),t}function sv(e){let t=v.useContext(Fs);return ue(t,qc(e)),t}function av(e){let t=v.useContext(At);return ue(t,qc(e)),t}function Zc(e){let t=av(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lv(){return Zc("useRouteId")}function cv(){var r;let e=v.useContext(Jc),t=sv("useRouteError"),n=Zc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function uv(){let{router:e}=iv("useNavigate"),t=Zc("useNavigate"),n=v.useRef(!1);return kp(()=>{n.current=!0}),v.useCallback(async(o,i={})=>{Dt(n.current,xp),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var Td={};function Sp(e,t,n){!t&&!Td[e]&&(Td[e]=!0,Dt(!1,n))}v.memo(dv);function dv({routes:e,future:t,state:n,unstable_onError:r}){return Cp(e,void 0,n,r,t)}function Pl(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){ue(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:s,navigator:o,static:i,future:{}}),[s,o,i]);typeof n=="string"&&(n=Dr(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:h="default"}=n,y=v.useMemo(()=>{let x=Kt(l,s);return x==null?null:{location:{pathname:x,search:c,hash:d,state:f,key:h},navigationType:r}},[s,l,c,d,f,h,r]);return Dt(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(It.Provider,{value:a},v.createElement(Wo.Provider,{children:t,value:y}))}function hv({children:e,location:t}){return Zy(Ll(e),t)}function Ll(e,t=[]){let n=[];return v.Children.forEach(e,(r,o)=>{if(!v.isValidElement(r))return;let i=[...t,o];if(r.type===v.Fragment){n.push.apply(n,Ll(r.props.children,i));return}ue(r.type===Pl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ll(r.props.children,i)),n.push(s)}),n}var Pi="get",Li="application/x-www-form-urlencoded";function Us(e){return e!=null&&typeof e.tagName=="string"}function pv(e){return Us(e)&&e.tagName.toLowerCase()==="button"}function mv(e){return Us(e)&&e.tagName.toLowerCase()==="form"}function gv(e){return Us(e)&&e.tagName.toLowerCase()==="input"}function yv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vv(e,t){return e.button===0&&(!t||t==="_self")&&!yv(e)}var fi=null;function xv(){if(fi===null)try{new FormData(document.createElement("form"),0),fi=!1}catch{fi=!0}return fi}var kv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ka(e){return e!=null&&!kv.has(e)?(Dt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Li}"`),null):e}function _v(e,t){let n,r,o,i,s;if(mv(e)){let a=e.getAttribute("action");r=a?Kt(a,t):null,n=e.getAttribute("method")||Pi,o=ka(e.getAttribute("enctype"))||Li,i=new FormData(e)}else if(pv(e)||gv(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Kt(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Pi,o=ka(e.getAttribute("formenctype"))||ka(a.getAttribute("enctype"))||Li,i=new FormData(a,e),!xv()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,f)}}else{if(Us(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pi,r=null,o=Li,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cv(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Kt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Sv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bv(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await Sv(i,n);return s.links?s.links():[]}return[]}));return Nv(r.flat(1).filter(wv).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rd(e,t,n,r,o,i){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>s(l,c)||a(l,c)):i==="data"?t.filter((l,c)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Ev(e,t,{includeHydrateFallback:n}={}){return Tv(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function Tv(e){return[...new Set(e)]}function Rv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Nv(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(Rv(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function wp(){let e=v.useContext(Or);return eu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jv(){let e=v.useContext(Fs);return eu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tu=v.createContext(void 0);tu.displayName="FrameworkContext";function bp(){let e=v.useContext(tu);return eu(e,"You must render this element inside a <HydratedRouter> element"),e}function Pv(e,t){let n=v.useContext(tu),[r,o]=v.useState(!1),[i,s]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let k=g=>{g.forEach(m=>{s(m.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return h.current&&N.observe(h.current),()=>{N.disconnect()}}},[e]),v.useEffect(()=>{if(r){let k=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(k)}}},[r]);let y=()=>{o(!0)},x=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Hr(a,y),onBlur:Hr(l,x),onMouseEnter:Hr(c,y),onMouseLeave:Hr(d,x),onTouchStart:Hr(f,y)}]:[!1,h,{}]}function Hr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Lv({page:e,...t}){let{router:n}=wp(),r=v.useMemo(()=>fp(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Ov,{page:e,matches:r,...t}):null}function Dv(e){let{manifest:t,routeModules:n}=bp(),[r,o]=v.useState([]);return v.useEffect(()=>{let i=!1;return bv(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function Ov({page:e,matches:t,...n}){let r=Yn(),{manifest:o,routeModules:i}=bp(),{basename:s}=wp(),{loaderData:a,matches:l}=jv(),c=v.useMemo(()=>Rd(e,t,l,o,r,"data"),[e,t,l,o,r]),d=v.useMemo(()=>Rd(e,t,l,o,r,"assets"),[e,t,l,o,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,k=!1;if(t.forEach(g=>{var p;let m=o.routes[g.route.id];!m||!m.hasLoader||(!c.some(_=>_.route.id===g.route.id)&&g.route.id in a&&((p=i[g.route.id])!=null&&p.shouldRevalidate)||m.hasClientLoader?k=!0:x.add(g.route.id))}),x.size===0)return[];let N=Cv(e,s,"data");return k&&x.size>0&&N.searchParams.set("_routes",t.filter(g=>x.has(g.route.id)).map(g=>g.route.id).join(",")),[N.pathname+N.search]},[s,a,r,o,c,t,e,i]),h=v.useMemo(()=>Ev(d,o),[d,o]),y=Dv(d);return v.createElement(v.Fragment,null,f.map(x=>v.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>v.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:k})=>v.createElement("link",{key:x,nonce:n.nonce,...k})))}function Mv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ep&&(window.__reactRouterVersion="7.9.4")}catch{}function Iv({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=Sy({window:n,v5Compat:!0}));let o=r.current,[i,s]=v.useState({action:o.action,location:o.location}),a=v.useCallback(l=>{v.startTransition(()=>s(l))},[s]);return v.useLayoutEffect(()=>o.listen(a),[o,a]),v.createElement(fv,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o})}var Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...h},y){let{basename:x}=v.useContext(It),k=typeof c=="string"&&Tp.test(c),N,g=!1;if(typeof c=="string"&&k&&(N=c,Ep))try{let I=new URL(window.location.href),B=c.startsWith("//")?new URL(I.protocol+c):new URL(c),U=Kt(B.pathname,x);B.origin===I.origin&&U!=null?c=U+B.search+B.hash:g=!0}catch{Dt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Qy(c,{relative:o}),[p,_,b]=Pv(r,h),C=zv(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,viewTransition:f});function w(I){t&&t(I),I.defaultPrevented||C(I)}let j=v.createElement("a",{...h,...b,href:N||m,onClick:g||i?t:w,ref:Mv(y,_),target:l,"data-discover":!k&&n==="render"?"true":void 0});return p&&!k?v.createElement(v.Fragment,null,j,v.createElement(Lv,{page:m})):j});Rp.displayName="Link";var Av=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:a,children:l,...c},d){let f=Yo(s,{relative:c.relative}),h=Yn(),y=v.useContext(Fs),{navigator:x,basename:k}=v.useContext(It),N=y!=null&&Hv(f)&&a===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,m=h.pathname,p=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(m=m.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase()),p&&k&&(p=Kt(p,k)||p);const _=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=m===g||!o&&m.startsWith(g)&&m.charAt(_)==="/",C=p!=null&&(p===g||!o&&p.startsWith(g)&&p.charAt(g.length)==="/"),w={isActive:b,isPending:C,isTransitioning:N},j=b?t:void 0,I;typeof r=="function"?I=r(w):I=[r,b?"active":null,C?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(w):i;return v.createElement(Rp,{...c,"aria-current":j,className:I,ref:d,style:B,to:s,viewTransition:a},typeof l=="function"?l(w):l)});Av.displayName="NavLink";var $v=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=Pi,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...h},y)=>{let x=Vv(),k=Wv(a,{relative:c}),N=s.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Tp.test(a),m=p=>{if(l&&l(p),p.defaultPrevented)return;p.preventDefault();let _=p.nativeEvent.submitter,b=(_==null?void 0:_.getAttribute("formmethod"))||s;x(_||p.currentTarget,{fetcherKey:t,method:b,navigate:n,replace:o,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:y,method:N,action:k,onSubmit:r?l:m,...h,"data-discover":!g&&e==="render"?"true":void 0})});$v.displayName="Form";function Bv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Np(e){let t=v.useContext(Or);return ue(t,Bv(e)),t}function zv(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s}={}){let a=_p(),l=Yn(),c=Yo(e,{relative:i});return v.useCallback(d=>{if(vv(d,t)){d.preventDefault();let f=n!==void 0?n:Ao(l)===Ao(c);a(e,{replace:f,state:r,preventScrollReset:o,relative:i,viewTransition:s})}},[l,a,c,n,r,t,e,o,i,s])}var Fv=0,Uv=()=>`__${String(++Fv)}__`;function Vv(){let{router:e}=Np("useSubmit"),{basename:t}=v.useContext(It),n=lv();return v.useCallback(async(r,o={})=>{let{action:i,method:s,encType:a,formData:l,body:c}=_v(r,t);if(o.navigate===!1){let d=o.fetcherKey||Uv();await e.fetch(d,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function Wv(e,{relative:t}={}){let{basename:n}=v.useContext(It),r=v.useContext(At);ue(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...Yo(e||".",{relative:t})},s=Yn();if(e==null){i.search=s.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Vt([n,i.pathname])),Ao(i)}function Hv(e,{relative:t}={}){let n=v.useContext(vp);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Np("useViewTransitionState"),o=Yo(e,{relative:t});if(!n.isTransitioning)return!1;let i=Kt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Kt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ys(o.pathname,s)!=null||ys(o.pathname,i)!=null}function jp(){return u.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200/50 mt-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[" 2025 ",u.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),". All rights reserved."]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Developed by ",u.jsx("span",{className:"font-medium text-gray-700",children:"Binay Hazarika"})]})]})})})}const Yv="https://remote-work-backend.onrender.com/api";function Xv({onLogin:e}){const[t,n]=v.useState(!0),[r,o]=v.useState({email:"",password:"",full_name:""}),[i,s]=v.useState(!1),[a,l]=v.useState(""),c=async f=>{f.preventDefault(),s(!0),l("");try{const y=await fetch(`${Yv}${t?"/auth/login":"/auth/signup"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),x=await y.json();y.ok?e(x.user,x.token):l(x.error)}catch{l("Network error. Please try again.")}finally{s(!1)}},d=f=>{o({...r,[f.target.name]:f.target.value})};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"RemoteSync"}),u.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:t?"Welcome Back!":"Join RemoteSync"}),u.jsx("p",{className:"text-gray-600",children:t?"Sign in to your account to continue":"Create your account to get started"})]}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:u.jsxs("form",{className:"space-y-6",onSubmit:c,children:[u.jsxs("div",{className:"space-y-4",children:[!t&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),u.jsx("input",{name:"full_name",type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your full name",value:r.full_name,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{name:"email",type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",value:r.email,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{name:"password",type:"password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",value:r.password,onChange:d})]})]}),a&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-red-700 text-sm",children:a})]})}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center justify-center space-x-2",children:i?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),u.jsx("span",{children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1":"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),u.jsx("span",{children:t?"Sign In":"Create Account"})]})}),u.jsx("div",{className:"text-center pt-4",children:u.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})}),u.jsx(jp,{})]})}const _a="https://remote-work-backend.onrender.com/api";function Gv({user:e,onWorkspaceSelect:t,currentWorkspace:n}){const[r,o]=v.useState([]),[i,s]=v.useState(!0),[a,l]=v.useState({name:"",description:""}),[c,d]=v.useState({workspaceId:""}),[f,h]=v.useState({totalTasks:0,completedTasks:0,activeMembers:0}),[y,x]=v.useState(!1),[k,N]=v.useState(!1);v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const C=localStorage.getItem("token"),w=await fetch(`${_a}/workspace/my-workspaces`,{headers:{Authorization:`Bearer ${C}`}}),j=await w.json();w.ok&&o(j.workspaces)}catch(C){console.error("Failed to load workspaces:",C)}finally{s(!1)}},m=async()=>{h({totalTasks:Math.floor(Math.random()*50)+10,completedTasks:Math.floor(Math.random()*30)+5,activeMembers:Math.floor(Math.random()*20)+3})},p=async C=>{C.preventDefault();try{const w=localStorage.getItem("token");(await fetch(`${_a}/workspace/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(a)})).ok&&(l({name:"",description:""}),x(!1),g())}catch(w){console.error("Failed to create workspace:",w)}},_=async C=>{C.preventDefault();try{const w=localStorage.getItem("token");(await fetch(`${_a}/workspace/join`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(c)})).ok&&(d({workspaceId:""}),N(!1),g())}catch(w){console.error("Failed to join workspace:",w)}},b=()=>{const C=new Date().getHours();return C<12?"Good morning":C<18?"Good afternoon":"Good evening"};return i?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your workspace..."})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),u.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4 animate-fade-in",children:[b(),", ",e.full_name,"! "]}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Welcome to your collaborative workspace. Manage projects, communicate with your team, and achieve more together."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f.totalTasks})]}),u.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.completedTasks})]}),u.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Members"}),u.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f.activeMembers})]}),u.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Create Workspace"})]}),u.jsxs("button",{onClick:()=>N(!0),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),u.jsx("span",{children:"Join Workspace"})]})]})]})})]}),u.jsx("div",{className:"px-6 pb-12 sm:px-12",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[u.jsxs("div",{className:"px-8 py-6 border-b border-gray-200/50",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h4M9 7h6m-6 4h6m-6 4h6"})}),u.jsx("span",{children:"Your Workspaces"})]}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Select a workspace to start collaborating with your team"})]}),r.length===0?u.jsxs("div",{className:"px-8 py-12 text-center",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h4M9 7h6m-6 4h6m-6 4h6"})})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workspaces yet"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first workspace or join an existing one to get started"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Workspace"}),u.jsx("button",{onClick:()=>N(!0),className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Join Workspace"})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:r.map(C=>u.jsxs("div",{onClick:()=>t(C),className:`group cursor-pointer bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 ${(n==null?void 0:n.id)===C.id?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg",children:C.name.charAt(0).toUpperCase()}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C.role==="owner"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:C.role})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:C.name}),C.description&&u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:C.description}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),u.jsxs("span",{children:[C.member_count||1," member",(C.member_count||1)!==1?"s":""]})]}),u.jsx("svg",{className:"w-4 h-4 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},C.id))})]})})}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Workspace"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace Name"}),u.jsx("input",{type:"text",placeholder:"Enter workspace name",value:a.name,onChange:C=>l({...a,name:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),u.jsx("textarea",{placeholder:"Describe your workspace",value:a.description,onChange:C=>l({...a,description:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:"3"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create"})]})]})]})}),k&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Join Workspace"}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace ID"}),u.jsx("input",{type:"text",placeholder:"Enter workspace ID",value:c.workspaceId,onChange:C=>d({workspaceId:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Join"})]})]})]})})]})}const Pp=document.createElement("style");Pp.textContent=`
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fade-in 0.6s ease-out;
  }
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;document.head.appendChild(Pp);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Di(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Di=function(t){return typeof t}:Di=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}function Qv(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Jv(e,t){if(e==null)return{};var n=Qv(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var qv="1.15.6";function Wt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var qt=Wt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Xo=Wt(/Edge/i),jd=Wt(/firefox/i),ho=Wt(/safari/i)&&!Wt(/chrome/i)&&!Wt(/android/i),nu=Wt(/iP(ad|od|hone)/i),Lp=Wt(/chrome/i)&&Wt(/android/i),Dp={capture:!1,passive:!1};function K(e,t,n){e.addEventListener(t,n,!qt&&Dp)}function G(e,t,n){e.removeEventListener(t,n,!qt&&Dp)}function vs(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Op(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function kt(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&vs(e,t):vs(e,t))||r&&e===n)return e;if(e===n)break}while(e=Op(e))}return null}var Pd=/\s+/g;function et(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Pd," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Pd," ")}}function V(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function kr(e,t){var n="";if(typeof e=="string")n=e;else do{var r=V(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Mp(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function Pt(){var e=document.scrollingElement;return e||document.documentElement}function ye(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,s,a,l,c,d,f;if(e!==window&&e.parentNode&&e!==Pt()?(i=e.getBoundingClientRect(),s=i.top,a=i.left,l=i.bottom,c=i.right,d=i.height,f=i.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!qt))do if(o&&o.getBoundingClientRect&&(V(o,"transform")!=="none"||n&&V(o,"position")!=="static")){var h=o.getBoundingClientRect();s-=h.top+parseInt(V(o,"border-top-width")),a-=h.left+parseInt(V(o,"border-left-width")),l=s+i.height,c=a+i.width;break}while(o=o.parentNode);if(r&&e!==window){var y=kr(o||e),x=y&&y.a,k=y&&y.d;y&&(s/=k,a/=x,f/=x,d/=k,l=s+d,c=a+f)}return{top:s,left:a,bottom:l,right:c,width:f,height:d}}}function Ld(e,t,n){for(var r=un(e,!0),o=ye(e)[t];r;){var i=ye(r)[n],s=void 0;if(s=o>=i,!s)return r;if(r===Pt())break;r=un(r,!1)}return!1}function Nr(e,t,n,r){for(var o=0,i=0,s=e.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==H.ghost&&(r||s[i]!==H.dragged)&&kt(s[i],n.draggable,e,!1)){if(o===t)return s[i];o++}i++}return null}function ru(e,t){for(var n=e.lastElementChild;n&&(n===H.ghost||V(n,"display")==="none"||t&&!vs(n,t));)n=n.previousElementSibling;return n||null}function lt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==H.clone&&(!t||vs(e,t))&&n++;return n}function Dd(e){var t=0,n=0,r=Pt();if(e)do{var o=kr(e),i=o.a,s=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function Zv(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function un(e,t){if(!e||!e.getBoundingClientRect)return Pt();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=V(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Pt();if(r||t)return n;r=!0}}while(n=n.parentNode);return Pt()}function ex(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ca(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var po;function Ip(e,t){return function(){if(!po){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),po=setTimeout(function(){po=void 0},t)}}}function tx(){clearTimeout(po),po=void 0}function Ap(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function $p(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Bp(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,s,a,l;if(!(!kt(o,t.draggable,e,!1)||o.animated||o===n)){var c=ye(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,c.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,c.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Ke="Sortable"+new Date().getTime();function nx(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(V(o,"display")==="none"||o===H.ghost)){e.push({target:o,rect:ye(o)});var i=Ot({},e[e.length-1].rect);if(o.thisAnimationDuration){var s=kr(o,!0);s&&(i.top-=s.f,i.left-=s.e)}o.fromRect=i}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Zv(e,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var i=!1,s=0;e.forEach(function(a){var l=0,c=a.target,d=c.fromRect,f=ye(c),h=c.prevFromRect,y=c.prevToRect,x=a.rect,k=kr(c,!0);k&&(f.top-=k.f,f.left-=k.e),c.toRect=f,c.thisAnimationDuration&&Ca(h,f)&&!Ca(d,f)&&(x.top-f.top)/(x.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(l=ox(x,h,y,o.options)),Ca(f,d)||(c.prevFromRect=d,c.prevToRect=f,l||(l=o.options.animation),o.animate(c,x,f,l)),l&&(i=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),i?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,o,i,s){if(s){V(r,"transition",""),V(r,"transform","");var a=kr(this.el),l=a&&a.a,c=a&&a.d,d=(o.left-i.left)/(l||1),f=(o.top-i.top)/(c||1);r.animatingX=!!d,r.animatingY=!!f,V(r,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=rx(r),V(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),V(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){V(r,"transition",""),V(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function rx(e){return e.offsetWidth}function ox(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var qn=[],Sa={initializeByDefault:!0},Go={mount:function(t){for(var n in Sa)Sa.hasOwnProperty(n)&&!(n in t)&&(t[n]=Sa[n]);qn.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qn.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";qn.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][i]&&n[s.pluginName][i](Ot({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](Ot({sortable:n},r)))})},initializePlugins:function(t,n,r,o){qn.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,Qt(r,c.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var s=this.modifyOption(t,i,t.options[i]);typeof s<"u"&&(t.options[i]=s)}},getEventProperties:function(t,n){var r={};return qn.forEach(function(o){typeof o.eventProperties=="function"&&Qt(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return qn.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],r))}),o}};function ix(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,h=e.originalEvent,y=e.putSortable,x=e.extraEventProperties;if(t=t||n&&n[Ke],!!t){var k,N=t.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!qt&&!Xo?k=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(r,!0,!0)),k.to=s||n,k.from=a||n,k.item=o||n,k.clone=i,k.oldIndex=l,k.newIndex=c,k.oldDraggableIndex=d,k.newDraggableIndex=f,k.originalEvent=h,k.pullMode=y?y.lastPutMode:void 0;var m=Ot(Ot({},x),Go.getEventProperties(r,t));for(var p in m)k[p]=m[p];n&&n.dispatchEvent(k),N[g]&&N[g].call(t,k)}}var sx=["evt"],Ye=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=Jv(r,sx);Go.pluginEvent.bind(H)(t,n,Ot({dragEl:O,parentEl:fe,ghostEl:Y,rootEl:oe,nextEl:Pn,lastDownEl:Oi,cloneEl:ae,cloneHidden:an,dragStarted:qr,putSortable:Re,activeSortable:H.active,originalEvent:o,oldIndex:hr,oldDraggableIndex:mo,newIndex:tt,newDraggableIndex:rn,hideGhostForTarget:Vp,unhideGhostForTarget:Wp,cloneNowHidden:function(){an=!0},cloneNowShown:function(){an=!1},dispatchSortableEvent:function(a){ze({sortable:n,name:a,originalEvent:o})}},i))};function ze(e){ix(Ot({putSortable:Re,cloneEl:ae,targetEl:O,rootEl:oe,oldIndex:hr,oldDraggableIndex:mo,newIndex:tt,newDraggableIndex:rn},e))}var O,fe,Y,oe,Pn,Oi,ae,an,hr,tt,mo,rn,hi,Re,er=!1,xs=!1,ks=[],Tn,yt,wa,ba,Od,Md,qr,Zn,go,yo=!1,pi=!1,Mi,Oe,Ea=[],Dl=!1,_s=[],Vs=typeof document<"u",mi=nu,Id=Xo||qt?"cssFloat":"float",ax=Vs&&!Lp&&!nu&&"draggable"in document.createElement("div"),zp=function(){if(Vs){if(qt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Fp=function(t,n){var r=V(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=Nr(t,0,n),s=Nr(t,1,n),a=i&&V(i),l=s&&V(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ye(i).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ye(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=o&&r[Id]==="none"||s&&r[Id]==="none"&&c+d>o)?"vertical":"horizontal"},lx=function(t,n,r){var o=r?t.left:t.top,i=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return o===a||i===l||o+s/2===a+c/2},cx=function(t,n){var r;return ks.some(function(o){var i=o[Ke].options.emptyInsertThreshold;if(!(!i||ru(o))){var s=ye(o),a=t>=s.left-i&&t<=s.right+i,l=n>=s.top-i&&n<=s.bottom+i;if(a&&l)return r=o}}),r},Up=function(t){function n(i,s){return function(a,l,c,d){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(i==null&&(s||f))return!0;if(i==null||i===!1)return!1;if(s&&i==="clone")return i;if(typeof i=="function")return n(i(a,l,c,d),s)(a,l,c,d);var h=(s?a:l).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var r={},o=t.group;(!o||Di(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},Vp=function(){!zp&&Y&&V(Y,"display","none")},Wp=function(){!zp&&Y&&V(Y,"display","")};Vs&&!Lp&&document.addEventListener("click",function(e){if(xs)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),xs=!1,!1},!0);var Rn=function(t){if(O){t=t.touches?t.touches[0]:t;var n=cx(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ke]._onDragOver(r)}}},ux=function(t){O&&O.parentNode[Ke]._isOutsideThisEl(t.target)};function H(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Qt({},t),e[Ke]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fp(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:H.supportPointer!==!1&&"PointerEvent"in window&&(!ho||nu),emptyInsertThreshold:5};Go.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Up(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:ax,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?K(e,"pointerdown",this._onTapStart):(K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),ks.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Qt(this,nx())}H.prototype={constructor:H,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Zn=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,O):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,i=o.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=o.filter;if(vx(r),!O&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ho&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=kt(l,o.draggable,r,!1),!(l&&l.animated)&&Oi!==l)){if(hr=lt(l),mo=lt(l,o.draggable),typeof d=="function"){if(d.call(this,t,l,this)){ze({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),Ye("filter",n,{evt:t}),i&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=kt(c,f.trim(),r,!1),f)return ze({sortable:n,rootEl:f,name:"filter",targetEl:l,fromEl:r,toEl:r}),Ye("filter",n,{evt:t}),!0}),d)){i&&t.preventDefault();return}o.handle&&!kt(c,o.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var o=this,i=o.el,s=o.options,a=i.ownerDocument,l;if(r&&!O&&r.parentNode===i){var c=ye(r);if(oe=i,O=r,fe=O.parentNode,Pn=O.nextSibling,Oi=r,hi=s.group,H.dragged=O,Tn={target:O,clientX:(n||t).clientX,clientY:(n||t).clientY},Od=Tn.clientX-c.left,Md=Tn.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,O.style["will-change"]="all",l=function(){if(Ye("delayEnded",o,{evt:t}),H.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!jd&&o.nativeDraggable&&(O.draggable=!0),o._triggerDragStart(t,n),ze({sortable:o,name:"choose",originalEvent:t}),et(O,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Mp(O,d.trim(),Ta)}),K(a,"dragover",Rn),K(a,"mousemove",Rn),K(a,"touchmove",Rn),s.supportPointer?(K(a,"pointerup",o._onDrop),!this.nativeDraggable&&K(a,"pointercancel",o._onDrop)):(K(a,"mouseup",o._onDrop),K(a,"touchend",o._onDrop),K(a,"touchcancel",o._onDrop)),jd&&this.nativeDraggable&&(this.options.touchStartThreshold=4,O.draggable=!0),Ye("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Xo||qt))){if(H.eventCanceled){this._onDrop();return}s.supportPointer?(K(a,"pointerup",o._disableDelayedDrag),K(a,"pointercancel",o._disableDelayedDrag)):(K(a,"mouseup",o._disableDelayedDrag),K(a,"touchend",o._disableDelayedDrag),K(a,"touchcancel",o._disableDelayedDrag)),K(a,"mousemove",o._delayedDragTouchMoveHandler),K(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&K(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){O&&Ta(O),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;G(t,"mouseup",this._disableDelayedDrag),G(t,"touchend",this._disableDelayedDrag),G(t,"touchcancel",this._disableDelayedDrag),G(t,"pointerup",this._disableDelayedDrag),G(t,"pointercancel",this._disableDelayedDrag),G(t,"mousemove",this._delayedDragTouchMoveHandler),G(t,"touchmove",this._delayedDragTouchMoveHandler),G(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):n?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K(O,"dragend",this),K(oe,"dragstart",this._onDragStart));try{document.selection?Ii(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(er=!1,oe&&O){Ye("dragStarted",this,{evt:n}),this.nativeDraggable&&K(document,"dragover",ux);var r=this.options;!t&&et(O,r.dragClass,!1),et(O,r.ghostClass,!0),H.active=this,t&&this._appendGhost(),ze({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(yt){this._lastX=yt.clientX,this._lastY=yt.clientY,Vp();for(var t=document.elementFromPoint(yt.clientX,yt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(yt.clientX,yt.clientY),t!==n);)n=t;if(O.parentNode[Ke]._isOutsideThisEl(t),n)do{if(n[Ke]){var r=void 0;if(r=n[Ke]._onDragOver({clientX:yt.clientX,clientY:yt.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=Op(n));Wp()}},_onTouchMove:function(t){if(Tn){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,s=Y&&kr(Y,!0),a=Y&&s&&s.a,l=Y&&s&&s.d,c=mi&&Oe&&Dd(Oe),d=(i.clientX-Tn.clientX+o.x)/(a||1)+(c?c[0]-Ea[0]:0)/(a||1),f=(i.clientY-Tn.clientY+o.y)/(l||1)+(c?c[1]-Ea[1]:0)/(l||1);if(!H.active&&!er){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Y){s?(s.e+=d-(wa||0),s.f+=f-(ba||0)):s={a:1,b:0,c:0,d:1,e:d,f};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");V(Y,"webkitTransform",h),V(Y,"mozTransform",h),V(Y,"msTransform",h),V(Y,"transform",h),wa=d,ba=f,yt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Y){var t=this.options.fallbackOnBody?document.body:oe,n=ye(O,!0,mi,!0,t),r=this.options;if(mi){for(Oe=t;V(Oe,"position")==="static"&&V(Oe,"transform")==="none"&&Oe!==document;)Oe=Oe.parentNode;Oe!==document.body&&Oe!==document.documentElement?(Oe===document&&(Oe=Pt()),n.top+=Oe.scrollTop,n.left+=Oe.scrollLeft):Oe=Pt(),Ea=Dd(Oe)}Y=O.cloneNode(!0),et(Y,r.ghostClass,!1),et(Y,r.fallbackClass,!0),et(Y,r.dragClass,!0),V(Y,"transition",""),V(Y,"transform",""),V(Y,"box-sizing","border-box"),V(Y,"margin",0),V(Y,"top",n.top),V(Y,"left",n.left),V(Y,"width",n.width),V(Y,"height",n.height),V(Y,"opacity","0.8"),V(Y,"position",mi?"absolute":"fixed"),V(Y,"zIndex","100000"),V(Y,"pointerEvents","none"),H.ghost=Y,t.appendChild(Y),V(Y,"transform-origin",Od/parseInt(Y.style.width)*100+"% "+Md/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,i=r.options;if(Ye("dragStart",this,{evt:t}),H.eventCanceled){this._onDrop();return}Ye("setupClone",this),H.eventCanceled||(ae=$p(O),ae.removeAttribute("id"),ae.draggable=!1,ae.style["will-change"]="",this._hideClone(),et(ae,this.options.chosenClass,!1),H.clone=ae),r.cloneId=Ii(function(){Ye("clone",r),!H.eventCanceled&&(r.options.removeCloneOnHide||oe.insertBefore(ae,O),r._hideClone(),ze({sortable:r,name:"clone"}))}),!n&&et(O,i.dragClass,!0),n?(xs=!0,r._loopId=setInterval(r._emulateDragOver,50)):(G(document,"mouseup",r._onDrop),G(document,"touchend",r._onDrop),G(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,O)),K(document,"drop",r),V(O,"transform","translateZ(0)")),er=!0,r._dragStartId=Ii(r._dragStarted.bind(r,n,t)),K(document,"selectstart",r),qr=!0,window.getSelection().removeAllRanges(),ho&&V(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,i,s,a=this.options,l=a.group,c=H.active,d=hi===l,f=a.sort,h=Re||c,y,x=this,k=!1;if(Dl)return;function N(M,z){Ye(M,x,Ot({evt:t,isOwner:d,axis:y?"vertical":"horizontal",revert:s,dragRect:o,targetRect:i,canSort:f,fromSortable:h,target:r,completed:m,onMove:function(E,D){return gi(oe,n,O,o,E,ye(E),t,D)},changed:p},z))}function g(){N("dragOverAnimationCapture"),x.captureAnimationState(),x!==h&&h.captureAnimationState()}function m(M){return N("dragOverCompleted",{insertion:M}),M&&(d?c._hideClone():c._showClone(x),x!==h&&(et(O,Re?Re.options.ghostClass:c.options.ghostClass,!1),et(O,a.ghostClass,!0)),Re!==x&&x!==H.active?Re=x:x===H.active&&Re&&(Re=null),h===x&&(x._ignoreWhileAnimating=r),x.animateAll(function(){N("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===O&&!O.animated||r===n&&!r.animated)&&(Zn=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(O.parentNode[Ke]._isOutsideThisEl(t.target),!M&&Rn(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),k=!0}function p(){tt=lt(O),rn=lt(O,a.draggable),ze({sortable:x,name:"change",toEl:n,newIndex:tt,newDraggableIndex:rn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=kt(r,a.draggable,n,!0),N("dragOver"),H.eventCanceled)return k;if(O.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||x._ignoreWhileAnimating===r)return m(!1);if(xs=!1,c&&!a.disabled&&(d?f||(s=fe!==oe):Re===this||(this.lastPutMode=hi.checkPull(this,c,O,t))&&l.checkPut(this,c,O,t))){if(y=this._getDirection(t,r)==="vertical",o=ye(O),N("dragOverValid"),H.eventCanceled)return k;if(s)return fe=oe,g(),this._hideClone(),N("revert"),H.eventCanceled||(Pn?oe.insertBefore(O,Pn):oe.appendChild(O)),m(!0);var _=ru(n,a.draggable);if(!_||px(t,y,this)&&!_.animated){if(_===O)return m(!1);if(_&&n===t.target&&(r=_),r&&(i=ye(r)),gi(oe,n,O,o,r,i,t,!!r)!==!1)return g(),_&&_.nextSibling?n.insertBefore(O,_.nextSibling):n.appendChild(O),fe=n,p(),m(!0)}else if(_&&hx(t,y,this)){var b=Nr(n,0,a,!0);if(b===O)return m(!1);if(r=b,i=ye(r),gi(oe,n,O,o,r,i,t,!1)!==!1)return g(),n.insertBefore(O,b),fe=n,p(),m(!0)}else if(r.parentNode===n){i=ye(r);var C=0,w,j=O.parentNode!==n,I=!lx(O.animated&&O.toRect||o,r.animated&&r.toRect||i,y),B=y?"top":"left",U=Ld(r,"top","top")||Ld(O,"top","top"),se=U?U.scrollTop:void 0;Zn!==r&&(w=i[B],yo=!1,pi=!I&&a.invertSwap||j),C=mx(t,r,i,y,I?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,pi,Zn===r);var ee;if(C!==0){var Ce=lt(O);do Ce-=C,ee=fe.children[Ce];while(ee&&(V(ee,"display")==="none"||ee===Y))}if(C===0||ee===r)return m(!1);Zn=r,go=C;var Te=r.nextElementSibling,Se=!1;Se=C===1;var Be=gi(oe,n,O,o,r,i,t,Se);if(Be!==!1)return(Be===1||Be===-1)&&(Se=Be===1),Dl=!0,setTimeout(fx,30),g(),Se&&!Te?n.appendChild(O):r.parentNode.insertBefore(O,Se?Te:r),U&&Ap(U,0,se-U.scrollTop),fe=O.parentNode,w!==void 0&&!pi&&(Mi=Math.abs(w-ye(r)[B])),p(),m(!0)}if(n.contains(O))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){G(document,"mousemove",this._onTouchMove),G(document,"touchmove",this._onTouchMove),G(document,"pointermove",this._onTouchMove),G(document,"dragover",Rn),G(document,"mousemove",Rn),G(document,"touchmove",Rn)},_offUpEvents:function(){var t=this.el.ownerDocument;G(t,"mouseup",this._onDrop),G(t,"touchend",this._onDrop),G(t,"pointerup",this._onDrop),G(t,"pointercancel",this._onDrop),G(t,"touchcancel",this._onDrop),G(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(tt=lt(O),rn=lt(O,r.draggable),Ye("drop",this,{evt:t}),fe=O&&O.parentNode,tt=lt(O),rn=lt(O,r.draggable),H.eventCanceled){this._nulling();return}er=!1,pi=!1,yo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ol(this.cloneId),Ol(this._dragStartId),this.nativeDraggable&&(G(document,"drop",this),G(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ho&&V(document.body,"user-select",""),V(O,"transform",""),t&&(qr&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(oe===fe||Re&&Re.lastPutMode!=="clone")&&ae&&ae.parentNode&&ae.parentNode.removeChild(ae),O&&(this.nativeDraggable&&G(O,"dragend",this),Ta(O),O.style["will-change"]="",qr&&!er&&et(O,Re?Re.options.ghostClass:this.options.ghostClass,!1),et(O,this.options.chosenClass,!1),ze({sortable:this,name:"unchoose",toEl:fe,newIndex:null,newDraggableIndex:null,originalEvent:t}),oe!==fe?(tt>=0&&(ze({rootEl:fe,name:"add",toEl:fe,fromEl:oe,originalEvent:t}),ze({sortable:this,name:"remove",toEl:fe,originalEvent:t}),ze({rootEl:fe,name:"sort",toEl:fe,fromEl:oe,originalEvent:t}),ze({sortable:this,name:"sort",toEl:fe,originalEvent:t})),Re&&Re.save()):tt!==hr&&tt>=0&&(ze({sortable:this,name:"update",toEl:fe,originalEvent:t}),ze({sortable:this,name:"sort",toEl:fe,originalEvent:t})),H.active&&((tt==null||tt===-1)&&(tt=hr,rn=mo),ze({sortable:this,name:"end",toEl:fe,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ye("nulling",this),oe=O=fe=Y=Pn=ae=Oi=an=Tn=yt=qr=tt=rn=hr=mo=Zn=go=Re=hi=H.dragged=H.ghost=H.clone=H.active=null,_s.forEach(function(t){t.checked=!0}),_s.length=wa=ba=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":O&&(this._onDragOver(t),dx(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,i=r.length,s=this.options;o<i;o++)n=r[o],kt(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||yx(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(i,s){var a=o.children[s];kt(a,this.options.draggable,o,!1)&&(r[i]=a)},this),n&&this.captureAnimationState(),t.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return kt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=Go.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&Up(r)},destroy:function(){Ye("destroy",this);var t=this.el;t[Ke]=null,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ks.splice(ks.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!an){if(Ye("hideClone",this),H.eventCanceled)return;V(ae,"display","none"),this.options.removeCloneOnHide&&ae.parentNode&&ae.parentNode.removeChild(ae),an=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(an){if(Ye("showClone",this),H.eventCanceled)return;O.parentNode==oe&&!this.options.group.revertClone?oe.insertBefore(ae,O):Pn?oe.insertBefore(ae,Pn):oe.appendChild(ae),this.options.group.revertClone&&this.animate(O,ae),V(ae,"display",""),an=!1}}};function dx(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function gi(e,t,n,r,o,i,s,a){var l,c=e[Ke],d=c.options.onMove,f;return window.CustomEvent&&!qt&&!Xo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||ye(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(f=d.call(c,l,s)),f}function Ta(e){e.draggable=!1}function fx(){Dl=!1}function hx(e,t,n){var r=ye(Nr(n.el,0,n.options,!0)),o=Bp(n.el,n.options,Y),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function px(e,t,n){var r=ye(ru(n.el,n.options.draggable)),o=Bp(n.el,n.options,Y),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function mx(e,t,n,r,o,i,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,d=r?n.top:n.left,f=r?n.bottom:n.right,h=!1;if(!s){if(a&&Mi<c*o){if(!yo&&(go===1?l>d+c*i/2:l<f-c*i/2)&&(yo=!0),yo)h=!0;else if(go===1?l<d+Mi:l>f-Mi)return-go}else if(l>d+c*(1-o)/2&&l<f-c*(1-o)/2)return gx(t)}return h=h||s,h&&(l<d+c*i/2||l>f-c*i/2)?l>d+c/2?1:-1:0}function gx(e){return lt(O)<lt(e)?1:-1}function yx(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function vx(e){_s.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&_s.push(r)}}function Ii(e){return setTimeout(e,0)}function Ol(e){return clearTimeout(e)}Vs&&K(document,"touchmove",function(e){(H.active||er)&&e.cancelable&&e.preventDefault()});H.utils={on:K,off:G,css:V,find:Mp,is:function(t,n){return!!kt(t,n,t,!1)},extend:ex,throttle:Ip,closest:kt,toggleClass:et,clone:$p,index:lt,nextTick:Ii,cancelNextTick:Ol,detectDirection:Fp,getChild:Nr,expando:Ke};H.get=function(e){return e[Ke]};H.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(H.utils=Ot(Ot({},H.utils),r.utils)),Go.mount(r)})};H.create=function(e,t){return new H(e,t)};H.version=qv;var me=[],Zr,Ml,Il=!1,Ra,Na,Cs,eo;function xx(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):this.options.supportPointer?K(document,"pointermove",this._handleFallbackAutoScroll):r.touches?K(document,"touchmove",this._handleFallbackAutoScroll):K(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?G(document,"dragover",this._handleAutoScroll):(G(document,"pointermove",this._handleFallbackAutoScroll),G(document,"touchmove",this._handleFallbackAutoScroll),G(document,"mousemove",this._handleFallbackAutoScroll)),Ad(),Ai(),tx()},nulling:function(){Cs=Ml=Zr=Il=eo=Ra=Na=null,me.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,i=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,s);if(Cs=n,r||this.options.forceAutoScrollFallback||Xo||qt||ho){ja(n,this.options,a,r);var l=un(a,!0);Il&&(!eo||i!==Ra||s!==Na)&&(eo&&Ad(),eo=setInterval(function(){var c=un(document.elementFromPoint(i,s),!0);c!==l&&(l=c,Ai()),ja(n,o.options,c,r)},10),Ra=i,Na=s)}else{if(!this.options.bubbleScroll||un(a,!0)===Pt()){Ai();return}ja(n,this.options,un(a,!1),!1)}}},Qt(e,{pluginName:"scroll",initializeByDefault:!0})}function Ai(){me.forEach(function(e){clearInterval(e.pid)}),me=[]}function Ad(){clearInterval(eo)}var ja=Ip(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Pt(),c=!1,d;Ml!==n&&(Ml=n,Ai(),Zr=t.scroll,d=t.scrollFn,Zr===!0&&(Zr=un(n,!0)));var f=0,h=Zr;do{var y=h,x=ye(y),k=x.top,N=x.bottom,g=x.left,m=x.right,p=x.width,_=x.height,b=void 0,C=void 0,w=y.scrollWidth,j=y.scrollHeight,I=V(y),B=y.scrollLeft,U=y.scrollTop;y===l?(b=p<w&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),C=_<j&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(b=p<w&&(I.overflowX==="auto"||I.overflowX==="scroll"),C=_<j&&(I.overflowY==="auto"||I.overflowY==="scroll"));var se=b&&(Math.abs(m-o)<=s&&B+p<w)-(Math.abs(g-o)<=s&&!!B),ee=C&&(Math.abs(N-i)<=s&&U+_<j)-(Math.abs(k-i)<=s&&!!U);if(!me[f])for(var Ce=0;Ce<=f;Ce++)me[Ce]||(me[Ce]={});(me[f].vx!=se||me[f].vy!=ee||me[f].el!==y)&&(me[f].el=y,me[f].vx=se,me[f].vy=ee,clearInterval(me[f].pid),(se!=0||ee!=0)&&(c=!0,me[f].pid=setInterval((function(){r&&this.layer===0&&H.active._onTouchMove(Cs);var Te=me[this.layer].vy?me[this.layer].vy*a:0,Se=me[this.layer].vx?me[this.layer].vx*a:0;typeof d=="function"&&d.call(H.dragged.parentNode[Ke],Se,Te,e,Cs,me[this.layer].el)!=="continue"||Ap(me[this.layer].el,Se,Te)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&h!==l&&(h=un(h,!1)));Il=c}},30),Hp=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,i=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=r||i;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(f)&&(s("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function ou(){}ou.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Nr(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Hp};Qt(ou,{pluginName:"revertOnSpill"});function iu(){}iu.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Hp};Qt(iu,{pluginName:"removeOnSpill"});H.mount(new xx);H.mount(iu,ou);const Pa="https://remote-work-backend.onrender.com/api";function kx({workspaceId:e}){const[t,n]=v.useState([]),[r,o]=v.useState([]),[i,s]=v.useState(!0);v.useEffect(()=>{a()},[e]);const a=async()=>{try{const d=localStorage.getItem("token"),f=await fetch(`${Pa}/tasks/${e}/board`,{headers:{Authorization:`Bearer ${d}`}});if(f.ok){const h=await f.json();n(h.lists),o(h.tasks)}}catch(d){console.error("Error loading task board:",d)}finally{s(!1)}},l=async()=>{const d=prompt("List title:");if(d)try{const f=localStorage.getItem("token");(await fetch(`${Pa}/tasks/${e}/lists`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({title:d,position:t.length})})).ok&&a()}catch(f){console.error("Error creating list:",f)}},c=async d=>{const f=prompt("Task title:");if(!f)return;const h=prompt("Task description (optional):")||"";try{const y=localStorage.getItem("token"),x=r.filter(N=>N.list_id===d);(await fetch(`${Pa}/tasks/${e}/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({title:f,description:h,listId:d,position:x.length})})).ok&&a()}catch(y){console.error("Error creating task:",y)}};return i?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading task board..."})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Task Board"}),u.jsx("p",{className:"text-gray-600",children:"Organize and track your team's progress"})]}),u.jsxs("button",{onClick:l,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Add List"})]})]}),u.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6",children:t.sort((d,f)=>d.position-f.position).map(d=>{const f=r.filter(h=>h.list_id===d.id).sort((h,y)=>h.position-y.position);return u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 w-80 flex-shrink-0 shadow-lg border border-white/20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.title}),u.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:f.length})]}),u.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:f.map(h=>u.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100",children:[u.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:h.title}),h.description&&u.jsx("div",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:h.description}),h.assigned_user&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:h.assigned_user.full_name.charAt(0)}),u.jsx("span",{className:"text-xs text-gray-600",children:h.assigned_user.full_name})]})]},h.id))}),u.jsxs("button",{onClick:()=>c(d.id),className:"w-full p-3 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-xl border-2 border-dashed border-gray-300 hover:border-blue-300 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Add task"})]})]},d.id)})})]})})}const Al=document.createElement("style");Al.textContent=`
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;document.head.querySelector('style[data-component="TaskBoard"]')||(Al.setAttribute("data-component","TaskBoard"),document.head.appendChild(Al));const Mt=Object.create(null);Mt.open="0";Mt.close="1";Mt.ping="2";Mt.pong="3";Mt.message="4";Mt.upgrade="5";Mt.noop="6";const $i=Object.create(null);Object.keys(Mt).forEach(e=>{$i[Mt[e]]=e});const $l={type:"error",data:"parser error"},Yp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xp=typeof ArrayBuffer=="function",Gp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,su=({type:e,data:t},n,r)=>Yp&&t instanceof Blob?n?r(t):$d(t,r):Xp&&(t instanceof ArrayBuffer||Gp(t))?n?r(t):$d(new Blob([t]),r):r(Mt[e]+(t||"")),$d=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Bd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let La;function _x(e,t){if(Yp&&e.data instanceof Blob)return e.data.arrayBuffer().then(Bd).then(t);if(Xp&&(e.data instanceof ArrayBuffer||Gp(e.data)))return t(Bd(e.data));su(e,!1,n=>{La||(La=new TextEncoder),t(La.encode(n))})}const zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",to=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<zd.length;e++)to[zd.charCodeAt(e)]=e;const Cx=e=>{let t=e.length*.75,n=e.length,r,o=0,i,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=to[e.charCodeAt(r)],s=to[e.charCodeAt(r+1)],a=to[e.charCodeAt(r+2)],l=to[e.charCodeAt(r+3)],d[o++]=i<<2|s>>4,d[o++]=(s&15)<<4|a>>2,d[o++]=(a&3)<<6|l&63;return c},Sx=typeof ArrayBuffer=="function",au=(e,t)=>{if(typeof e!="string")return{type:"message",data:Kp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:wx(e.substring(1),t)}:$i[n]?e.length>1?{type:$i[n],data:e.substring(1)}:{type:$i[n]}:$l},wx=(e,t)=>{if(Sx){const n=Cx(e);return Kp(n,t)}else return{base64:!0,data:e}},Kp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Qp="",bx=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((i,s)=>{su(i,!1,a=>{r[s]=a,++o===n&&t(r.join(Qp))})})},Ex=(e,t)=>{const n=e.split(Qp),r=[];for(let o=0;o<n.length;o++){const i=au(n[o],t);if(r.push(i),i.type==="error")break}return r};function Tx(){return new TransformStream({transform(e,t){_x(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const i=new DataView(o.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{o=new Uint8Array(9);const i=new DataView(o.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Da;function yi(e){return e.reduce((t,n)=>t+n.length,0)}function vi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Rx(e,t){Da||(Da=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(yi(n)<1)break;const l=vi(n,1);i=(l[0]&128)===128,o=l[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(yi(n)<2)break;const l=vi(n,2);o=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(yi(n)<8)break;const l=vi(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue($l);break}o=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(yi(n)<o)break;const l=vi(n,o);a.enqueue(au(i?l:Da.decode(l),t)),r=0}if(o===0||o>e){a.enqueue($l);break}}}})}const Jp=4;function xe(e){if(e)return Nx(e)}function Nx(e){for(var t in xe.prototype)e[t]=xe.prototype[t];return e}xe.prototype.on=xe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};xe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};xe.prototype.off=xe.prototype.removeListener=xe.prototype.removeAllListeners=xe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};xe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};xe.prototype.emitReserved=xe.prototype.emit;xe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};xe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ws=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jx="arraybuffer";function qp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Px=dt.setTimeout,Lx=dt.clearTimeout;function Hs(e,t){t.useNativeTimers?(e.setTimeoutFn=Px.bind(dt),e.clearTimeoutFn=Lx.bind(dt)):(e.setTimeoutFn=dt.setTimeout.bind(dt),e.clearTimeoutFn=dt.clearTimeout.bind(dt))}const Dx=1.33;function Ox(e){return typeof e=="string"?Mx(e):Math.ceil((e.byteLength||e.size)*Dx)}function Mx(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Zp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ix(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Ax(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class $x extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class lu extends xe{constructor(t){super(),this.writable=!1,Hs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new $x(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=au(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Ix(t);return n.length?"?"+n:""}}class Bx extends lu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ex(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,bx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Zp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let em=!1;try{em=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zx=em;function Fx(){}class Ux extends Bx{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,i)=>{this.onError("xhr post error",o,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Lt extends xe{constructor(t,n,r){super(),this.createRequest=t,Hs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=qp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Lt.requestsCount++,Lt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Fx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Lt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Lt.requestsCount=0;Lt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fd);else if(typeof addEventListener=="function"){const e="onpagehide"in dt?"pagehide":"unload";addEventListener(e,Fd,!1)}}function Fd(){for(let e in Lt.requests)Lt.requests.hasOwnProperty(e)&&Lt.requests[e].abort()}const Vx=function(){const e=tm({xdomain:!1});return e&&e.responseType!==null}();class Wx extends Ux{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Vx&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Lt(tm,this.uri(),t)}}function tm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||zx))return new XMLHttpRequest}catch{}if(!t)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const nm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hx extends lu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=nm?{}:qp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;su(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}o&&Ws(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Zp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Oa=dt.WebSocket||dt.MozWebSocket;class Yx extends Hx{createSocket(t,n,r){return nm?new Oa(t,n,r):n?new Oa(t,n):new Oa(t)}doWrite(t,n){this.ws.send(n)}}class Xx extends lu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Rx(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=Tx();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this._writer.write(r).then(()=>{o&&Ws(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Gx={websocket:Yx,webtransport:Xx,polling:Wx},Kx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=Kx.exec(e||""),i={},s=14;for(;s--;)i[Qx[s]]=o[s]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Jx(i,i.path),i.queryKey=qx(i,i.query),i}function Jx(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function qx(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,i){o&&(n[o]=i)}),n}const zl=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bi=[];zl&&addEventListener("offline",()=>{Bi.forEach(e=>e())},!1);class kn extends xe{constructor(t,n){if(super(),this.binaryType=jx,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Bl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Bl(n.host).host);Hs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ax(this.opts.query)),zl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Jp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&kn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",kn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=Ox(o)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ws(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(kn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Bi.indexOf(this._offlineEventListener);r!==-1&&Bi.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}kn.protocol=Jp;class Zx extends kn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;kn.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;kn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const s=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function l(){s("socket closed")}function c(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",o),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let e1=class extends Zx{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(o=>Gx[o]).filter(o=>!!o)),super(t,r)}};function t1(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Bl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const n1=typeof ArrayBuffer=="function",r1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,rm=Object.prototype.toString,o1=typeof Blob=="function"||typeof Blob<"u"&&rm.call(Blob)==="[object BlobConstructor]",i1=typeof File=="function"||typeof File<"u"&&rm.call(File)==="[object FileConstructor]";function cu(e){return n1&&(e instanceof ArrayBuffer||r1(e))||o1&&e instanceof Blob||i1&&e instanceof File}function zi(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(zi(e[n]))return!0;return!1}if(cu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return zi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&zi(e[n]))return!0;return!1}function s1(e){const t=[],n=e.data,r=e;return r.data=Fl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Fl(e,t){if(!e)return e;if(cu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Fl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Fl(e[r],t));return n}return e}function a1(e,t){return e.data=Ul(e.data,t),delete e.attachments,e}function Ul(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ul(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ul(e[n],t));return e}const l1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],c1=5;var Q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class u1{constructor(t){this.replacer=t}encode(t){return(t.type===Q.EVENT||t.type===Q.ACK)&&zi(t)?this.encodeAsBinary({type:t.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Q.BINARY_EVENT||t.type===Q.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=s1(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function Ud(e){return Object.prototype.toString.call(e)==="[object Object]"}class uu extends xe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Q.BINARY_EVENT;r||n.type===Q.BINARY_ACK?(n.type=r?Q.EVENT:Q.ACK,this.reconstructor=new d1(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(cu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Q[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Q.BINARY_EVENT||r.type===Q.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(i,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const i=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(uu.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Q.CONNECT:return Ud(n);case Q.DISCONNECT:return n===void 0;case Q.CONNECT_ERROR:return typeof n=="string"||Ud(n);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&l1.indexOf(n[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class d1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=a1(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const f1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:uu,Encoder:u1,get PacketType(){return Q},protocol:c1},Symbol.toStringTag,{value:"Module"}));function _t(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const h1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class om extends xe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_t(t,"open",this.onopen.bind(this)),_t(t,"packet",this.onpacket.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,o,i;if(h1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Q.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),s.id=d}const a=(o=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||o===void 0?void 0:o.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},o),s=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,o)=>{const i=(s,a)=>s?o(s):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...i)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(t);break;case Q.ACK:case Q.BINARY_ACK:this.onack(t);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:Q.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Mr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Mr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Mr.prototype.reset=function(){this.attempts=0};Mr.prototype.setMin=function(e){this.ms=e};Mr.prototype.setMax=function(e){this.max=e};Mr.prototype.setJitter=function(e){this.jitter=e};class Vl extends xe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Hs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Mr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||f1;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new e1(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=_t(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=_t(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{o(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_t(t,"ping",this.onping.bind(this)),_t(t,"data",this.ondata.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this)),_t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ws(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new om(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yr={};function $n(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=t1(e,t.path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Yr[o]&&i in Yr[o].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let l;return a?l=new Vl(r,t):(Yr[o]||(Yr[o]=new Vl(r,t)),l=Yr[o]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign($n,{Manager:Vl,Socket:om,io:$n,connect:$n});const Vd="https://remote-work-backend.onrender.com/api",p1="https://remote-work-backend.onrender.com";function m1({workspaceId:e}){const[t,n]=v.useState([]),[r,o]=v.useState(""),[i,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(!1),f=v.useRef(null),h=v.useRef(null);v.useEffect(()=>(y(),x(),()=>{i&&i.disconnect()}),[e]),v.useEffect(()=>{m()},[t]);const y=async()=>{try{const p=localStorage.getItem("token"),_=await fetch(`${Vd}/chat/${e}/messages`,{headers:{Authorization:`Bearer ${p}`}});if(_.ok){const b=await _.json();n(b.messages)}}catch(p){console.error("Error loading messages:",p)}},x=()=>{const p=localStorage.getItem("token"),_=$n(p1,{auth:{token:p}});_.on("connect",()=>{_.emit("join_workspace",e)}),_.on("new_message",b=>{n(C=>[...C,b])}),s(_)},k=async p=>{p.preventDefault(),!(!r.trim()&&!a||!i)&&(a?await N():(i.emit("send_message",{workspaceId:e,content:r.trim(),messageType:"text"}),o("")))},N=async()=>{if(!a)return;d(!0);const p=new FormData;p.append("file",a),p.append("workspaceId",e);try{const _=localStorage.getItem("token"),b=await fetch(`${Vd}/upload/file`,{method:"POST",headers:{Authorization:`Bearer ${_}`},body:p});if(b.ok){const C=await b.json();i.emit("send_message",{workspaceId:e,content:r.trim()||`Shared a file: ${a.name}`,messageType:"file",fileUrl:C.fileUrl,fileName:a.name}),o(""),l(null),h.current&&(h.current.value="")}}catch(_){console.error("File upload failed:",_),alert("File upload failed. Please try again.")}finally{d(!1)}},g=p=>{const _=p.target.files[0];_&&_.size<=10*1024*1024?l(_):alert("File size must be less than 10MB")},m=()=>{var p;(p=f.current)==null||p.scrollIntoView({behavior:"smooth"})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Team Chat"}),u.jsx("p",{className:"text-gray-600",children:"Real-time communication with your team"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[u.jsxs("div",{className:"h-96 overflow-y-auto p-6 space-y-4",children:[t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):t.map(p=>{var C,w,j,I;const _=JSON.parse(localStorage.getItem("user")||"{}"),b=((C=p.sender)==null?void 0:C.id)===_.id;return u.jsx("div",{className:`flex ${b?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md ${b?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-bold ${b?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gradient-to-br from-purple-500 to-purple-600"}`,children:((j=(w=p.sender)==null?void 0:w.full_name)==null?void 0:j.charAt(0))||"U"})}),u.jsxs("div",{className:`flex-1 ${b?"text-right":""}`,children:[u.jsxs("div",{className:`flex items-center space-x-2 mb-1 ${b?"justify-end":""}`,children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:b?"You":((I=p.sender)==null?void 0:I.full_name)||"Unknown User"}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleTimeString()})]}),u.jsx("div",{className:`inline-block px-4 py-2 rounded-2xl shadow-sm ${b?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:p.messageType==="file"?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),u.jsx("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:`text-sm underline hover:no-underline ${b?"text-blue-100":"text-blue-600"}`,children:p.fileName||"Download File"})]}):u.jsx("p",{className:"text-sm",children:p.content})})]})]})},p.id)}),u.jsx("div",{ref:f})]}),u.jsxs("div",{className:"border-t border-gray-200/50 p-6",children:[a&&u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),u.jsx("span",{className:"text-sm text-blue-800",children:a.name})]}),u.jsx("button",{onClick:()=>{l(null),h.current&&(h.current.value="")},className:"text-blue-600 hover:text-blue-800",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:k,className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:r,onChange:p=>o(p.target.value),placeholder:a?"Add a message (optional)...":"Type your message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),u.jsx("input",{ref:h,type:"file",onChange:g,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar"}),u.jsx("button",{type:"button",onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"px-4 py-3 border border-gray-300 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors flex items-center",title:"Attach File",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),u.jsxs("button",{type:"submit",disabled:!r.trim()&&!a||c,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:[c?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),u.jsx("span",{children:c?"Sending...":"Send"})]})]})]})]})]})})}class g1{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return y1(t).buffer}}function y1(e){let t=0;for(const o of e)t+=o.byteLength;const n=new Uint8Array(t);let r=0;for(const o of e){const i=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);n.set(i,r),r+=o.byteLength}return n}function im(e){return new v1(e).unpack()}function sm(e){const t=new x1,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class v1{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,o="",i,s;for(;r<t;)i=n[r],i<160?(s=i,r++):(i^192)<32?(s=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(s=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(s=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),o+=String.fromCodePoint(s);return this.index+=t,o}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const o=this.unpack();n[o]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,o=t&8388607|8388608;return(n===0?1:-1)*o*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,o=(t>>20&2047)-1023,s=(t&1048575|1048576)*2**(o-20)+n*2**(o-52);return(r===0?1:-1)*s}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class x1{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=o=>{if(o<n){const i=this.pack(t[o]);return i instanceof Promise?i.then(()=>r(o+1)):r(o+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),o=t/2**r-1,i=Math.floor(o*2**52),s=2**32,a=n<<31|r+1023<<20|i/s&1048575,l=i%s;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const o=i=>{if(i<n.length){const s=n[i];if(t.hasOwnProperty(s)){this.pack(s);const a=this.pack(t[s]);if(a instanceof Promise)return a.then(()=>o(i+1))}return o(i+1)}};return o(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new g1,this._textEncoder=new TextEncoder}}let am=!0,lm=!0;function no(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Xn(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(s,a){if(s!==t)return o.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,l),o.apply(this,[s,l])};const i=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(a))return i.apply(this,arguments);const l=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[s,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function k1(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(am=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function _1(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(lm=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function cm(){if(typeof window=="object"){if(am)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function du(e,t){lm&&console.warn(e+" is deprecated, please use "+t+" instead.")}function C1(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(o=>o.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(no(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(no(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(no(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=no(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Wd(e){return Object.prototype.toString.call(e)==="[object Object]"}function um(e){return Wd(e)?Object.keys(e).reduce(function(t,n){const r=Wd(e[n]),o=r?um(e[n]):e[n],i=r&&!Object.keys(o).length;return o===void 0||i?t:Object.assign(t,{[n]:o})},{}):e}function Wl(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Wl(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(o=>{Wl(e,e.get(o),n)})}))}function Hd(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(t===null)return o;const i=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&i.push(s)}),i.forEach(s=>{e.forEach(a=>{a.type===r&&a.trackId===s.id&&Wl(e,a,o)})}),o}const Yd=cm;function dm(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,y){return h?h+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",c)]=d.ideal,l.optional.push(h),h={},h[f("max",c)]=d.ideal,l.optional.push(h)):(h[f("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},o=function(a,l){if(t.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(x=>x.kind==="videoinput");let y=h.find(x=>f.some(k=>x.label.toLowerCase().includes(k)));return!y&&h.length&&f.includes("back")&&(y=h[h.length-1]),y&&(a.video.deviceId=c.exact?{exact:y.deviceId}:{ideal:y.deviceId}),a.video=r(a.video),Yd("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return Yd("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){o(a,d=>{n.webkitGetUserMedia(d,l,f=>{c&&c(i(f))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return o(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function fm(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function hm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",o=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===o.track.id):i={track:o.track};const s=new Event("track");s.track=o.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(o=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===o.id):i={track:o};const s=new Event("track");s.track=o,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Xn(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function pm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(o,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=o.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:o}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let c=o.apply(this,arguments);return c||(c=t(this,a),this._senders.push(c)),c};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function mm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>Hd(s,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o}),Xn(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const o=this;return this._pc.getStats().then(i=>Hd(i,o.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let o,i,s;return this.getSenders().forEach(a=>{a.track===r&&(o?s=!0:o=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?s=!0:i=a),a.track===r)),s||o&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):o?o.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function gm(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),o.apply(this,arguments)}}function ym(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return gm(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(y=>y.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new e.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(k=>k===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(k=>k.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[f.id];if(x)x.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const k=new e.MediaStream([d]);this._streams[f.id]=k,this._reverseStreams[k.id]=f,this.addStream(k)}return this.getSenders().find(k=>k.track===d)};function i(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],x=c._streams[y.id];f=f.replace(new RegExp(x.id,"g"),y.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function s(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],x=c._streams[y.id];f=f.replace(new RegExp(y.id,"g"),x.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const d=e.RTCPeerConnection.prototype[c],f={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[x=>{const k=i(this,x);h[0].apply(null,[k])},x=>{h[1]&&h[1].apply(null,x)},arguments[2]]):d.apply(this,arguments).then(x=>i(this,x))}};e.RTCPeerConnection.prototype[c]=f[c]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(k=>d.track===k)&&(h=this._streams[y])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Hl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],o={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=o[n]})}function vm(e,t){Xn(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Xd=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:vm,shimAddTrackRemoveTrack:ym,shimAddTrackRemoveTrackWithNative:gm,shimGetSendersWithDtmf:pm,shimGetUserMedia:dm,shimMediaStream:fm,shimOnTrack:hm,shimPeerConnection:Hl,shimSenderReceiverGetStats:mm},Symbol.toStringTag,{value:"Module"}));function xm(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(o,i,s){du("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(o).then(i,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const o=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),o(s.audio,"autoGainControl","mozAutoGainControl"),o(s.audio,"noiseSuppression","mozNoiseSuppression")),i(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return o(a,"mozAutoGainControl","autoGainControl"),o(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),o(a,"autoGainControl","mozAutoGainControl"),o(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function S1(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function km(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yl(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const i=e.RTCPeerConnection.prototype[o],s={[o](){return arguments[0]=new(o==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[o]=s[o]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,s,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(t.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(s,a)}}function _m(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=t.apply(this,[]);return o.forEach(i=>i._pc=this),o});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=n.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Cm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r}),Xn(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Sm(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){du("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function wm(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function bm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const o=r.length>0;o&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(o){const{sender:s}=i,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return i})}function Em(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Tm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Rm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Gd=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:bm,shimCreateAnswer:Rm,shimCreateOffer:Tm,shimGetDisplayMedia:S1,shimGetParameters:Em,shimGetUserMedia:xm,shimOnTrack:km,shimPeerConnection:Yl,shimRTCDataChannel:wm,shimReceiverGetStats:Cm,shimRemoveStream:Sm,shimSenderGetStats:_m},Symbol.toStringTag,{value:"Module"}));function Nm(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(o=>t.call(this,o,r)),r.getVideoTracks().forEach(o=>t.call(this,o,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...o){return o&&o.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const o=n.getTracks();this.getSenders().forEach(i=>{o.includes(i.track)&&this.removeTrack(i)})})}}function jm(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(o){o.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function Pm(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h},t.createAnswer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const f=o.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f};t.setLocalDescription=a,a=function(l,c,d){const f=i.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},t.setRemoteDescription=a,a=function(l,c,d){const f=s.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},t.addIceCandidate=a}function Lm(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=o=>r(Dm(o))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,o,i){t.mediaDevices.getUserMedia(r).then(o,i)}).bind(t))}function Dm(e){return e&&e.video!==void 0?Object.assign({},e,{video:um(e.video)}):e}function Om(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,o){if(r&&r.iceServers){const i=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(du("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[s])}r.iceServers=i}return new t(r,o)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Mm(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Im(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveAudio===!0&&!o&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Am(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Kd=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Am,shimCallbacksAPI:Pm,shimConstraints:Dm,shimCreateOfferLegacy:Im,shimGetUserMedia:Lm,shimLocalStreamsAPI:Nm,shimRTCIceServerUrls:Om,shimRemoteStreamsAPI:jm,shimTrackEventTransceiver:Mm},Symbol.toStringTag,{value:"Module"}));var $m={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((o,i)=>(i>0?"m="+o:o).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(o=>o.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":o.relatedAddress=r[i+1];break;case"rport":o.relatedPort=parseInt(r[i+1],10);break;case"tcptype":o.tcpType=r[i+1];break;case"ufrag":o.ufrag=r[i+1],o.usernameFragment=r[i+1];break;default:o[r[i]]===void 0&&(o[r[i]]=r[i+1]);break}return o},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const o=n.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const o=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(o!==1?"/"+o:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let o;const i=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<i.length;s++)o=i[s].trim().split("="),r[o[0].trim()]=o[1];return r},t.writeFmtp=function(n){let r="",o=n.payloadType;if(n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?i.push(s+"="+n.parameters[s]):i.push(s)}),r+="a=fmtp:"+o+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",o=n.payloadType;return n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+o+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),o={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(o.attribute=n.substring(r+1,i),o.value=n.substring(i+1)):o.attribute=n.substring(r+1),o},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let o="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{o+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),o},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const o=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return o&&i?{usernameFragment:o.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],c=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=t.parseRtpMap(c),f=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?t.parseFmtp(f[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const s=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let o="";o+="m="+n+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{o+=t.writeRtpMap(s),o+=t.writeFmtp(s),o+=t.writeRtcpFb(s)});let i=0;return r.codecs.forEach(s=>{s.maxptime>i&&(i=s.maxptime)}),i>0&&(o+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{o+=t.writeExtmap(s)}),o},t.parseRtpEncodingParameters=function(n){const r=[],o=t.parseRtpParameters(n),i=o.fecMechanisms.indexOf("RED")!==-1,s=o.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(x=>parseInt(x,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),o.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let y={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(y.rtx={ssrc:c}),r.push(y),i&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(y))}}),r.length===0&&l&&r.push({ssrc:l});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},o=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const o=t.matchPrefix(n,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),o=t.matchPrefix(n,"a=max-message-size:");let i;o.length>0&&(i=parseInt(o[0].substring(19),10)),isNaN(i)&&(i=65536);const s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let o=[];return n.protocol!=="DTLS/SCTP"?o=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:o=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,o){let i;const s=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+i+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const o=t.splitLines(n);for(let i=0;i<o.length;i++)switch(o[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const o=t.splitLines(n)[0].substring(2).split(" ");return{kind:o[0],port:parseInt(o[1],10),protocol:o[2],fmt:o.slice(3).join(" ")}},t.parseOLine=function(n){const o=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:o[0],sessionId:o[1],sessionVersion:parseInt(o[2],10),netType:o[3],addressType:o[4],address:o[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},e.exports=t})($m);var Bm=$m.exports;const _r=qd(Bm),w1=Km({__proto__:null,default:_r},[Bm]);function Fi(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const o=new t(r),i=_r.parseCandidate(r.candidate);for(const s in i)s in o||Object.defineProperty(o,s,{value:i[s]});return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Xn(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Xl(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Xn(e,"icecandidate",t=>{if(t.candidate){const n=_r.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Ui(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=_r.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=_r.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},o=function(a){let l=65536;return t.browser==="firefox"&&(t.version<57?a===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const d=_r.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=o(l),d=i(arguments[0],l);let f;c===0&&d===0?f=Number.POSITIVE_INFINITY:c===0||d===0?f=Math.max(c,d):f=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return s.apply(this,arguments)}}function Vi(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,o){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&o.sctp&&l>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const o=n.apply(this,arguments);return t(o,this),o},Xn(e,"datachannel",r=>(t(r.channel,r.target),r))}function Gl(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const i=o.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const s=new Event("connectionstatechange",o);i.dispatchEvent(s)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Kl(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(o){if(o&&o.sdp&&o.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=o.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&o instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:o.type,sdp:i}):o.sdp=i}return n.apply(this,arguments)}}function Wi(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Hi(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let o=arguments[0]||{};if(typeof o!="object"||o.type&&o.sdp)return n.apply(this,arguments);if(o={type:o.type,sdp:o.sdp},!o.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":o.type="offer";break;default:o.type="answer";break}return o.sdp||o.type!=="offer"&&o.type!=="answer"?n.apply(this,[o]):(o.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}const b1=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Kl,shimAddIceCandidateNullOrEmpty:Wi,shimConnectionState:Gl,shimMaxMessageSize:Ui,shimParameterlessSetLocalDescription:Hi,shimRTCIceCandidate:Fi,shimRTCIceCandidateRelayProtocol:Xl,shimSendThrowTypeError:Vi},Symbol.toStringTag,{value:"Module"}));function E1({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=cm,r=C1(e),o={browserDetails:r,commonShim:b1,extractVersion:no,disableLog:k1,disableWarnings:_1,sdp:w1};switch(r.browser){case"chrome":if(!Xd||!Hl||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=Xd,Wi(e,r),Hi(e),dm(e,r),fm(e),Hl(e,r),hm(e),ym(e,r),pm(e),mm(e),vm(e,r),Fi(e),Xl(e),Gl(e),Ui(e,r),Vi(e),Kl(e,r);break;case"firefox":if(!Gd||!Yl||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=Gd,Wi(e,r),Hi(e),xm(e,r),Yl(e,r),km(e),Sm(e),_m(e),Cm(e),wm(e),bm(e),Em(e),Tm(e),Rm(e),Fi(e),Gl(e),Ui(e,r),Vi(e);break;case"safari":if(!Kd||!t.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=Kd,Wi(e,r),Hi(e),Om(e),Im(e),Pm(e),Nm(e),jm(e),Mm(e),Lm(e),Am(e),Fi(e),Xl(e),Ui(e,r),Vi(e),Kl(e,r);break;default:n("Unsupported browser!");break}return o}const Qd=E1({window:typeof window>"u"?void 0:window});function Gn(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class zm{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,o=Math.ceil(r/this.chunkedMTU);let i=0,s=0;for(;s<r;){const a=Math.min(r,s+this.chunkedMTU),l=t.slice(s,a),c={__peerData:this._dataCount,n:i,data:l,total:o};n.push(c),s=a,i++}return this._dataCount++,n}}}function T1(e){let t=0;for(const o of e)t+=o.byteLength;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.byteLength;return n}const Ma=Qd.default||Qd,Xr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Ma.browserDetails.browser}getVersion(){return Ma.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Ma.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},R1=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),Fm=()=>Math.random().toString(36).slice(2),Jd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class N1 extends zm{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(o){o.target&&n(o.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Jd,this.browser=Xr.getBrowser(),this.browserVersion=Xr.getVersion(),this.pack=sm,this.unpack=im,this.supports=function(){const n={browser:Xr.isBrowserSupported(),webRTC:Xr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Jd),n.audioVideo=!0;let o;try{o=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!o.ordered;try{o.binaryType="blob",n.binaryBlob=!Xr.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=R1,this.randomToken=Fm}}const Xe=new N1,j1="PeerJS: ";class P1{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[j1,...n];for(const o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var $=new P1,fu={},L1=Object.prototype.hasOwnProperty,Ve="~";function $o(){}Object.create&&($o.prototype=Object.create(null),new $o().__proto__||(Ve=!1));function D1(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Um(e,t,n,r,o){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new D1(n,r||e,o),s=Ve?Ve+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],i]:e._events[s].push(i):(e._events[s]=i,e._eventsCount++),e}function Yi(e,t){--e._eventsCount===0?e._events=new $o:delete e._events[t]}function $e(){this._events=new $o,this._eventsCount=0}$e.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)L1.call(n,r)&&t.push(Ve?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};$e.prototype.listeners=function(t){var n=Ve?Ve+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s};$e.prototype.listenerCount=function(t){var n=Ve?Ve+t:t,r=this._events[n];return r?r.fn?1:r.length:0};$e.prototype.emit=function(t,n,r,o,i,s){var a=Ve?Ve+t:t;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,d,f;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,o),!0;case 5:return l.fn.call(l.context,n,r,o,i),!0;case 6:return l.fn.call(l.context,n,r,o,i,s),!0}for(f=1,d=new Array(c-1);f<c;f++)d[f-1]=arguments[f];l.fn.apply(l.context,d)}else{var h=l.length,y;for(f=0;f<h;f++)switch(l[f].once&&this.removeListener(t,l[f].fn,void 0,!0),c){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,o);break;default:if(!d)for(y=1,d=new Array(c-1);y<c;y++)d[y-1]=arguments[y];l[f].fn.apply(l[f].context,d)}}return!0};$e.prototype.on=function(t,n,r){return Um(this,t,n,r,!1)};$e.prototype.once=function(t,n,r){return Um(this,t,n,r,!0)};$e.prototype.removeListener=function(t,n,r,o){var i=Ve?Ve+t:t;if(!this._events[i])return this;if(!n)return Yi(this,i),this;var s=this._events[i];if(s.fn)s.fn===n&&(!o||s.once)&&(!r||s.context===r)&&Yi(this,i);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==n||o&&!s[a].once||r&&s[a].context!==r)&&l.push(s[a]);l.length?this._events[i]=l.length===1?l[0]:l:Yi(this,i)}return this};$e.prototype.removeAllListeners=function(t){var n;return t?(n=Ve?Ve+t:t,this._events[n]&&Yi(this,n)):(this._events=new $o,this._eventsCount=0),this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.addListener=$e.prototype.on;$e.prefixed=Ve;$e.EventEmitter=$e;fu=$e;var Kn={};Gn(Kn,"ConnectionType",()=>_n);Gn(Kn,"PeerErrorType",()=>ge);Gn(Kn,"BaseConnectionErrorType",()=>Ql);Gn(Kn,"DataConnectionErrorType",()=>hu);Gn(Kn,"SerializationType",()=>Ys);Gn(Kn,"SocketEventType",()=>dn);Gn(Kn,"ServerMessageType",()=>Me);var _n=function(e){return e.Data="data",e.Media="media",e}({}),ge=function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e}({}),Ql=function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e}({}),hu=function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e}({}),Ys=function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e}({}),dn=function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e}({}),Me=function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e}({});const Vm="1.5.5";class O1 extends fu.EventEmitter{constructor(t,n,r,o,i,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+o+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Vm),this._disconnected=!1,this._socket.onmessage=o=>{let i;try{i=JSON.parse(o.data),$.log("Server message received:",i)}catch{$.log("Invalid server message",o.data);return}this.emit(dn.Message,i)},this._socket.onclose=o=>{this._disconnected||($.log("Socket closed.",o),this._cleanup(),this._disconnected=!0,this.emit(dn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),$.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){$.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Me.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(dn.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Wm{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===_n.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,o={ordered:!!t.reliable},i=n.createDataChannel(r.label,o);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){$.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,o=this.connection.type,i=this.connection.provider;$.log("Listening for ICE candidates."),t.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||($.log(`Received ICE candidates for ${n}:`,s.candidate),i.socket.send({type:Me.Candidate,payload:{candidate:s.candidate,type:o,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":$.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Ql.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":$.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Ql.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":$.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},$.log("Listening for data channel"),t.ondatachannel=s=>{$.log("Received data channel");const a=s.channel;i.getConnection(n,r)._initializeDataChannel(a)},$.log("Listening for remote stream"),t.ontrack=s=>{$.log("Received remote stream");const a=s.streams[0],l=i.getConnection(n,r);if(l.type===_n.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){$.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const o=this.connection.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);$.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),$.log("Set localDescription:",r,`for:${this.connection.peer}`);let o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===_n.Data){const i=this.connection;o={...o,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Me.Offer,payload:o,dst:this.connection.peer})}catch(o){o!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ge.WebRTC,o),$.log("Failed to setLocalDescription, ",o))}}catch(r){n.emitError(ge.WebRTC,r),$.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();$.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),$.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Me.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(o){n.emitError(ge.WebRTC,o),$.log("Failed to setLocalDescription, ",o)}}catch(r){n.emitError(ge.WebRTC,r),$.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,o=this.connection.provider;$.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),$.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(s){o.emitError(ge.WebRTC,s),$.log("Failed to setRemoteDescription, ",s)}}async handleCandidate(t){$.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),$.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ge.WebRTC,n),$.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if($.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return $.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){$.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Hm extends fu.EventEmitter{emitError(t,n){$.error("Error:",n),this.emit("error",new M1(`${t}`,n))}}class M1 extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class Ym extends Hm{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var Zl;const vo=class vo extends Ym{get type(){return _n.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||vo.ID_PREFIX+Xe.randomToken(),this._negotiator=new Wm(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{$.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{$.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){$.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Me.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Me.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:$.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){$.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const o of r)this.handleMessage(o);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Zl=new WeakMap,Ir(vo,Zl,vo.ID_PREFIX="mc_");let Ss=vo;class I1{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:o,path:i,key:s}=this._options,a=new URL(`${n}://${r}:${o}${i}${s}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Vm),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){$.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Xe.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Xe.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw $.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var ec,tc;const Ln=class Ln extends Ym{get type(){return _n.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Ln.ID_PREFIX+Fm(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Wm(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{$.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{$.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{$.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(hu.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Me.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Me.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:$.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};ec=new WeakMap,tc=new WeakMap,Ir(Ln,ec,Ln.ID_PREFIX="dc_"),Ir(Ln,tc,Ln.MAX_BUFFERED_AMOUNT=8388608);let ws=Ln;class pu extends ws{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ws.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return $.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Ia extends pu{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new zm,this.serialization=Ys.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=im(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const o=T1(r.data);this._handleDataMessage({data:o})}}_send(t,n){const r=sm(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);$.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class A1 extends pu{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Ys.None}}class $1 extends pu{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Xe.chunkedMTU){this.emitError(hu.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Ys.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var nc;const xo=class xo extends Hm{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:A1,json:$1,binary:Ia,"binary-utf8":Ia,default:Ia},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Xe.CLOUD_HOST,port:Xe.CLOUD_PORT,path:"/",key:xo.DEFAULT_KEY,token:Xe.randomToken(),config:Xe.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Xe.CLOUD_HOST?this._options.secure=Xe.isSecure():this._options.host==Xe.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&$.setLogFunction(this._options.logFunction),$.logLevel=this._options.debug||0,this._api=new I1(n),this._socket=this._createServerConnection(),!Xe.supports.audioVideo&&!Xe.supports.data){this._delayedAbort(ge.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Xe.validateId(r)){this._delayedAbort(ge.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(o=>this._initialize(o)).catch(o=>this._abort(ge.ServerError,o))}_createServerConnection(){const t=new O1(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(dn.Message,n=>{this._handleMessage(n)}),t.on(dn.Error,n=>{this._abort(ge.SocketError,n)}),t.on(dn.Disconnected,()=>{this.disconnected||(this.emitError(ge.Network,"Lost connection to server."),this.disconnect())}),t.on(dn.Close,()=>{this.disconnected||this._abort(ge.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,o=t.src;switch(n){case Me.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Me.Error:this._abort(ge.ServerError,r.msg);break;case Me.IdTaken:this._abort(ge.UnavailableID,`ID "${this.id}" is taken`);break;case Me.InvalidKey:this._abort(ge.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Me.Leave:$.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case Me.Expire:this.emitError(ge.PeerUnavailable,`Could not connect to peer ${o}`);break;case Me.Offer:{const i=r.connectionId;let s=this.getConnection(o,i);if(s&&(s.close(),$.warn(`Offer received for existing Connection ID:${i}`)),r.type===_n.Media){const l=new Ss(o,this,{connectionId:i,_payload:r,metadata:r.metadata});s=l,this._addConnection(o,s),this.emit("call",l)}else if(r.type===_n.Data){const l=new this._serializers[r.serialization](o,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});s=l,this._addConnection(o,s),this.emit("connection",l)}else{$.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const l of a)s.handleMessage(l);break}default:{if(!r){$.warn(`You received a malformed message from ${o} of type ${n}`);return}const i=r.connectionId,s=this.getConnection(o,i);s&&s.peerConnection?s.handleMessage(t):i?this._storeMessage(i,t):$.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){$.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ge.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){$.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ge.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){$.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const o=new Ss(t,this,{...r,_stream:n});return this._addConnection(t,o),o}_addConnection(t,n){$.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const o of r)if(o.connectionId===n)return o;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){$.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||($.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;$.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)$.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)$.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ge.ServerError,n))}};nc=new WeakMap,Ir(xo,nc,xo.DEFAULT_KEY="peerjs");let Jl=xo;var Xm=Jl;const B1="https://remote-work-backend.onrender.com",z1={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"}]}};function F1({workspaceId:e}){const[t,n]=v.useState(null),[r,o]=v.useState(null),[i,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(null),[f,h]=v.useState(!1),[y,x]=v.useState(!1),[k,N]=v.useState(!1),[g,m]=v.useState(!1),[p,_]=v.useState("idle"),[b,C]=v.useState(!1),w=v.useRef(null),j=v.useRef(null),I=v.useRef(null),B=v.useRef(null),U=v.useRef(null),se=v.useRef(null),ee=v.useRef(!1);v.useEffect(()=>(Se(),Te(),()=>{Ce()}),[e]);const Ce=v.useCallback(()=>{ee.current||(ee.current=!0,U.current&&U.current.close(),I.current&&I.current.destroy(),B.current&&B.current.disconnect(),a&&a.getTracks().forEach(R=>R.stop()),se.current&&se.current.getTracks().forEach(R=>R.stop()),w.current&&(w.current.srcObject=null),j.current&&(j.current.srcObject=null))},[a]),Te=()=>{I.current&&I.current.destroy();const R=new Xm(z1);R.on("open",P=>{console.log("Peer connected with ID:",P),s(P)}),R.on("call",P=>{console.log("Incoming call from:",P.peer),p==="idle"||p==="calling"?z(P):(console.log("Rejecting call - already in call"),P.close())}),R.on("error",P=>{console.error("Peer error:",P),_("idle")}),n(R),I.current=R},Se=()=>{B.current&&B.current.disconnect();const R=localStorage.getItem("token"),P=$n(B1,{auth:{token:R}});P.on("connect",()=>{P.emit("join_workspace",e)}),P.on("user_calling",F=>{if(console.log(" User is calling:",F),p!=="idle"){console.log(" Ignoring call - already in call state:",p);return}if(I.current&&F.peerId&&F.peerId!==i){const te=JSON.parse(localStorage.getItem("user")||"{}");F.userId!==te.id&&(console.log(" Making call to peer:",F.peerId),M(F.peerId))}}),P.on("call_ended",F=>{console.log("Call ended by remote user"),E()}),o(P),B.current=P},Be=async()=>{if(p!=="idle"){console.log("Call already in progress");return}try{_("calling"),a&&a.getTracks().forEach(P=>P.stop());const R=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});l(R),w.current&&(w.current.srcObject=R),B.current&&I.current&&(console.log("Broadcasting call with peer ID:",I.current.id),B.current.emit("user_calling",{workspaceId:e,peerId:I.current.id})),h(!0)}catch(R){console.error("Error accessing camera/microphone:",R),_("idle"),alert("Error: "+R.message)}},M=async R=>{if(p!=="calling"&&p!=="idle"){console.log("Cannot make call in current state:",p);return}if(U.current){console.log("Call already exists, ignoring");return}console.log("Making call to:",R),_("calling");let P=a;if(!P)try{P=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(P),w.current&&(w.current.srcObject=P)}catch(F){console.error("Error accessing camera/microphone:",F),_("idle");return}if(!I.current){console.error("Peer not initialized"),_("idle");return}try{const F=I.current.call(R,P);if(!F){console.error("Failed to create call"),_("idle");return}console.log(" Call created successfully"),d(F),U.current=F,F.on("stream",te=>{console.log(" Outgoing call - received remote stream"),W(te),_("connected")}),F.on("close",()=>{console.log("Call closed by remote user"),E()}),F.on("error",te=>{console.error("Call error:",te),_("idle")})}catch(F){console.error("Error making call:",F),_("idle")}},z=async R=>{if(console.log(" Handling incoming call from:",R.peer),U.current&&p==="connected"){console.log(" Already connected, rejecting incoming call"),R.close();return}U.current&&p==="calling"&&(console.log(" Replacing outgoing call with incoming call"),U.current.close(),U.current=null);try{_("calling");let P=a;P||(P=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(P),w.current&&(w.current.srcObject=P)),console.log(" Answering call"),R.answer(P),d(R),U.current=R,h(!0),R.on("stream",F=>{console.log(" Incoming call - received remote stream"),W(F),_("connected")}),R.on("close",()=>{console.log("Incoming call closed by remote user"),E()}),R.on("error",F=>{console.error("Incoming call error:",F),_("idle")})}catch(P){console.error("Error handling incoming call:",P),_("idle")}},W=R=>{console.log(" Handling remote stream with tracks:",R.getTracks().length);const P=R.getVideoTracks()[0],F=R.getAudioTracks()[0];if(P&&(console.log(" Video track - muted:",P.muted,"enabled:",P.enabled,"readyState:",P.readyState),console.log(" Video track settings:",P.getSettings()),P.enabled=!0),F&&(console.log(" Audio track - muted:",F.muted,"enabled:",F.enabled),F.enabled=!0),se.current=R,C(!0),j.current){j.current.srcObject=R,j.current.load();const te=()=>{j.current.play().then(()=>{console.log(" Remote video playing");const we=()=>{if(j.current){const Zt=j.current.videoWidth,Qn=j.current.videoHeight;console.log(" Video dimensions:",Zt,"x",Qn),Zt>0&&Qn>0?(console.log(" Video has valid dimensions"),C(!0)):(console.log(" Video has no dimensions, retrying..."),setTimeout(we,500))}};setTimeout(we,100)}).catch(we=>{console.log(" Play failed:",we.message),setTimeout(te,1e3)})};setTimeout(te,100)}},E=()=>{p!=="ending"&&(_("idle"),h(!1),d(null),C(!1),U.current&&(U.current.close(),U.current=null),a&&(a.getTracks().forEach(R=>R.stop()),l(null)),se.current&&(se.current.getTracks().forEach(R=>R.stop()),se.current=null),w.current&&(w.current.srcObject=null),j.current&&(j.current.srcObject=null),B.current&&B.current.emit("end_call",{workspaceId:e}))},D=()=>{a&&(a.getAudioTracks().forEach(R=>{R.enabled=y}),x(!y))},S=()=>{a&&(a.getVideoTracks().forEach(R=>{R.enabled=k}),N(!k))},T=async()=>{if(U.current)try{if(g){const R=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});if(l(R),w.current&&(w.current.srcObject=R),U.current&&U.current.peerConnection){const P=R.getVideoTracks()[0],F=U.current.peerConnection.getSenders().find(te=>te.track&&te.track.kind==="video");F&&await F.replaceTrack(P)}m(!1)}else{const R=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),P=a==null?void 0:a.getAudioTracks()[0];if(P&&R.addTrack(P),l(R),w.current&&(w.current.srcObject=R),U.current&&U.current.peerConnection){const F=R.getVideoTracks()[0],te=U.current.peerConnection.getSenders().find(we=>we.track&&we.track.kind==="video");te&&await te.replaceTrack(F)}m(!0),R.getVideoTracks()[0].onended=()=>{ee.current||T()}}}catch(R){console.error("Screen sharing error:",R),alert("Screen sharing failed: "+R.message)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-1 sm:p-6",children:u.jsxs("div",{className:"w-full max-w-6xl mx-auto px-1 sm:px-0",children:[u.jsxs("div",{className:"mb-2 sm:mb-8 text-center",children:[u.jsx("h1",{className:"text-xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"Video Conference v2"}),u.jsx("p",{className:"text-gray-600 text-xs sm:text-base",children:"Connect face-to-face with your team"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-2xl shadow-xl border border-white/20 p-2 sm:p-8",children:[u.jsxs("div",{className:"grid grid-cols-3 sm:flex sm:flex-wrap gap-1 sm:gap-4 mb-4 sm:mb-8 sm:justify-center",children:[u.jsxs("button",{onClick:Be,disabled:p!=="idle",className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-xs sm:text-base",children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Start"})]}),u.jsxs("button",{onClick:E,disabled:p==="idle",className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-xs sm:text-base",children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 3l18 18"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"End"})]}),u.jsxs("button",{onClick:D,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${y?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:y?"Unmute":"Mute"})]}),u.jsxs("button",{onClick:S,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${k?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-purple-600 to-purple-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Video"})]}),u.jsxs("button",{onClick:T,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${g?"bg-gradient-to-r from-blue-600 to-blue-700":"bg-gradient-to-r from-gray-600 to-gray-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Share"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-8",children:[u.jsxs("div",{className:"space-y-1 sm:space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),u.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Your Video"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:w,autoPlay:!0,muted:!0,className:"w-full h-40 sm:h-80 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl shadow-lg object-cover"}),!a&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("p",{className:"text-sm opacity-75",children:"Camera not active"})]})})]})]}),u.jsxs("div",{className:"space-y-1 sm:space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${c?"bg-green-500 animate-pulse":"bg-gray-400"}`}),u.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Remote Video"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full h-40 sm:h-80 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl shadow-lg object-cover",onLoadedMetadata:R=>{console.log(" Metadata loaded:",R.target.videoWidth,"x",R.target.videoHeight)},onPlay:()=>console.log(" Video playing"),onTimeUpdate:()=>{var R;(R=j.current)!=null&&R.hasLoggedTimeUpdate||(console.log(" Video dimensions:",j.current.videoWidth,"x",j.current.videoHeight),j.current.videoWidth>0&&j.current.videoHeight>0&&(console.log(" Video has valid dimensions"),C(!0)),j.current.hasLoggedTimeUpdate=!0)}}),!b&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl",children:u.jsxs("div",{className:"text-center text-white",children:[p==="idle"&&u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Waiting for participant"})]}),p==="connected"&&u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Remote video disabled"})]}),p==="calling"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 border-4 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Connecting..."})]})]})})]})]})]}),p!=="idle"&&u.jsx("div",{className:"mt-4 sm:mt-8 p-3 sm:p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${p==="connected"?"bg-green-500 animate-pulse":"bg-yellow-500 animate-pulse"}`}),u.jsxs("p",{className:"text-green-800 font-medium text-sm sm:text-base",children:[p==="calling"&&"Connecting...",p==="connected"&&"Call is active",p==="ending"&&"Ending call..."]})]})})]})]})})}const U1="https://remote-work-backend.onrender.com",V1={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"}]}};function W1({workspaceId:e}){const[t,n]=v.useState(null),[r,o]=v.useState(null),[i,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(new Map),[f,h]=v.useState(!1),[y,x]=v.useState(!1),[k,N]=v.useState(!1),[g,m]=v.useState("idle"),p=v.useRef(null),_=v.useRef(null),b=v.useRef(null),C=v.useRef(new Map),w=v.useRef(new Set),j=v.useRef(!1);v.useEffect(()=>(U(),B(),()=>I()),[e]);const I=v.useCallback(()=>{j.current||(j.current=!0,C.current.forEach(E=>{try{E.close()}catch(D){console.log("Error closing call:",D)}}),C.current.clear(),_.current&&_.current.destroy(),b.current&&b.current.disconnect(),a&&a.getTracks().forEach(E=>E.stop()),c.forEach(E=>{E.getTracks().forEach(D=>D.stop())}),p.current&&(p.current.srcObject=null))},[a,c]),B=()=>{_.current&&_.current.destroy();const E=new Xm(V1);E.on("open",D=>{console.log("Multi-peer connected with ID:",D),s(D),b.current&&f&&(console.log("Auto-emitting peer_joined for existing call:",D),b.current.emit("peer_joined",{workspaceId:e,peerId:D}))}),E.on("call",D=>{console.log("Incoming multi-call from:",D.peer),w.current.has(D.peer)?(console.log("Call already pending from:",D.peer),D.close()):Ce(D)}),E.on("error",D=>{console.error("Multi-peer error:",D)}),n(E),_.current=E},U=()=>{b.current&&b.current.disconnect();const E=localStorage.getItem("token"),D=$n(U1,{auth:{token:E}});D.on("connect",()=>{D.emit("join_workspace",e)}),D.on("peer_joined",S=>{var T,R;console.log("Multi-peer joined:",S),S.peerId&&S.peerId!==(i||((T=_.current)==null?void 0:T.id))?(console.log("Attempting to call peer:",S.peerId),setTimeout(()=>{!C.current.has(S.peerId)&&!w.current.has(S.peerId)?(console.log("Making call to new peer:",S.peerId),ee(S.peerId)):console.log("Already connected/connecting to peer:",S.peerId)},1e3)):console.log("Skipping call - peerId:",S.peerId,"myPeerId:",i||((R=_.current)==null?void 0:R.id))}),D.on("peer_left",S=>{console.log("Multi-peer left:",S.peerId),Te(S.peerId)}),o(D),b.current=D},se=async()=>{if(g!=="idle"){console.log("Already joining/in call");return}try{m("joining"),a&&a.getTracks().forEach(D=>D.stop());const E=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});l(E),p.current&&(p.current.srcObject=E),h(!0),m("active"),b.current&&_.current&&(console.log("Emitting peer_joined with peerId:",_.current.id),b.current.emit("peer_joined",{workspaceId:e,peerId:_.current.id}))}catch(E){console.error("Error accessing camera/microphone:",E),m("idle"),alert("Error: "+E.message)}},ee=async E=>{if(!_.current){console.log("Cannot make call - no peer instance");return}let D=a;if(!D){console.log("No local stream, getting media first");try{D=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(D),console.log(" Setting local stream - ref exists:",!!p.current,"stream tracks:",D.getTracks().length),p.current?(p.current.srcObject=D,console.log(" Local video srcObject set")):console.log(" Local video ref is null"),h(!0),m("active"),console.log(" Got media stream for call - tracks:",D.getTracks().length),D.getTracks().forEach((S,T)=>{console.log(`Track ${T}: kind=${S.kind}, enabled=${S.enabled}, readyState=${S.readyState}`)})}catch(S){console.error("Error getting media for call:",S);return}}if(C.current.has(E)){console.log("Already connected to:",E);return}console.log("Making multi-call to:",E,"with stream:",!!D),w.current.add(E);try{const S=_.current.call(E,D);S&&(C.current.set(E,S),S.on("stream",T=>{console.log("Received multi-stream from:",E);const R=T.getVideoTracks()[0],P=T.getAudioTracks()[0];R&&(console.log("Multi-video track - muted:",R.muted,"enabled:",R.enabled,"readyState:",R.readyState),R.enabled=!0),P&&(P.enabled=!0),d(F=>{const te=new Map(F),we=te.get(E);return we&&we!==T&&(console.log("Stopping old stream for peer:",E),we.getTracks().forEach(Zt=>Zt.stop())),console.log("Setting new stream for peer:",E,"tracks:",T.getTracks().length),te.set(E,T),te}),w.current.delete(E)}),S.on("close",()=>{console.log("Multi-call closed:",E),Te(E)}),S.on("error",T=>{console.error("Multi-call error:",T),Te(E)}))}catch(S){console.error("Error making multi-call:",S),w.current.delete(E)}},Ce=async E=>{if(C.current.has(E.peer)){console.log("Already connected to:",E.peer),E.close();return}w.current.add(E.peer);try{let D=a;D||(D=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(D),p.current&&(p.current.srcObject=D),h(!0),m("active")),E.answer(D),C.current.set(E.peer,E),E.on("stream",S=>{console.log("Incoming multi-stream from:",E.peer);const T=S.getVideoTracks()[0],R=S.getAudioTracks()[0];T&&(console.log("Incoming multi-video track - muted:",T.muted,"enabled:",T.enabled,"readyState:",T.readyState),console.log("Incoming multi-video track settings:",T.getSettings()),T.enabled=!0),R&&(R.enabled=!0),d(P=>{const F=new Map(P),te=F.get(E.peer);return te&&te!==S&&(console.log("Stopping old incoming stream for peer:",E.peer),te.getTracks().forEach(we=>we.stop())),console.log("Setting new incoming stream for peer:",E.peer,"tracks:",S.getTracks().length),F.set(E.peer,S),F}),w.current.delete(E.peer)}),E.on("close",()=>{console.log("Incoming multi-call closed:",E.peer),Te(E.peer)}),E.on("error",S=>{console.error("Incoming multi-call error:",S),Te(E.peer)})}catch(D){console.error("Error handling incoming multi-call:",D),w.current.delete(E.peer),E.close()}},Te=E=>{d(S=>{const T=new Map(S),R=T.get(E);return R&&R.getTracks().forEach(P=>P.stop()),T.delete(E),T});const D=C.current.get(E);if(D)try{D.close()}catch(S){console.log("Error closing connection:",S)}C.current.delete(E),w.current.delete(E)},Se=()=>{g!=="idle"&&(m("idle"),C.current.forEach(E=>{try{E.close()}catch(D){console.log("Error closing call:",D)}}),C.current.clear(),w.current.clear(),a&&(a.getTracks().forEach(E=>E.stop()),l(null)),c.forEach(E=>{E.getTracks().forEach(D=>D.stop())}),d(new Map),p.current&&(p.current.srcObject=null),h(!1),b.current&&i&&b.current.emit("peer_left",{workspaceId:e,peerId:i}))},Be=()=>{a&&(a.getAudioTracks().forEach(E=>{E.enabled=y}),x(!y))},M=()=>{a&&(a.getVideoTracks().forEach(E=>{E.enabled=k}),N(!k))},z=()=>{const E=c.size+(a?1:0);console.log("VideoGrid render - localStream exists:",!!a,"remoteStreams:",c.size,"totalVideos:",E);const D=()=>{switch(E){case 1:return"grid-cols-1 max-w-md mx-auto";case 2:return"grid-cols-1 lg:grid-cols-2";case 3:return"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";case 4:return"grid-cols-2";case 5:return"grid-cols-2 lg:grid-cols-3";case 6:return"grid-cols-2 lg:grid-cols-3";default:return"grid-cols-3"}},S=()=>{switch(E){case 1:return"h-96 md:h-[500px]";case 2:return"h-80 md:h-96";case 3:case 4:return"h-64 md:h-80";case 5:case 6:return"h-48 md:h-64";default:return"h-40 md:h-48"}};return u.jsxs("div",{className:`grid ${D()} gap-4`,children:[a&&u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:T=>{p.current=T,T&&a&&(console.log(" Assigning stream to local video ref"),T.srcObject=a)},autoPlay:!0,muted:!0,playsInline:!0,className:`w-full ${S()} bg-gray-900 rounded-xl object-cover`,onLoadedMetadata:T=>{console.log(" Local video metadata loaded:",T.target.videoWidth,"x",T.target.videoHeight)},onPlay:()=>console.log(" Local video playing"),onError:T=>console.log(" Local video error:",T.target.error)}),u.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:"You"})]},"local-video"),Array.from(c.entries()).map(([T,R])=>u.jsx(W,{peerId:T,stream:R},T))]})},W=({peerId:E,stream:D})=>{const S=v.useRef(null),T=c.size+(a?1:0),R=()=>{switch(T){case 1:return"h-96 md:h-[500px]";case 2:return"h-80 md:h-96";case 3:case 4:return"h-64 md:h-80";case 5:case 6:return"h-48 md:h-64";default:return"h-40 md:h-48"}};return v.useEffect(()=>{if(S.current&&D&&!j.current){console.log(" Setting up remote video for peer:",E);const P=D.getVideoTracks()[0],F=D.getAudioTracks()[0];if(P){if(console.log(" Multi-video track - muted:",P.muted,"enabled:",P.enabled,"readyState:",P.readyState),P.readyState==="ended"){console.log(" Video track has ended - stream may have been stopped");return}P.enabled=!0}F&&(F.enabled=!0),S.current.srcObject=D,S.current.load();const te=()=>{S.current.play().then(()=>{console.log(" Multi-video playing for peer:",E);const we=()=>{if(S.current){const Zt=S.current.videoWidth,Qn=S.current.videoHeight;console.log(" Multi-video dimensions:",Zt,"x",Qn),Zt>0&&Qn>0?console.log(" Multi-video has valid dimensions"):Zt===2&&Qn===2?console.log(" Multi-video showing 2x2 - track likely ended or empty"):(console.log(" Multi-video has no dimensions, retrying..."),setTimeout(we,500))}};setTimeout(we,100)}).catch(we=>{console.log(" Multi-video play failed:",we.message),setTimeout(te,1e3)})};setTimeout(te,100)}return()=>{S.current&&(S.current.srcObject=null)}},[D,E]),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,className:`w-full ${R()} bg-gray-900 rounded-xl object-cover`}),u.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[E.substring(0,8),"..."]})]})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Multi-User Video Conference"}),u.jsx("p",{className:"text-gray-600",children:"Connect with up to 6 team members"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 justify-center",children:[u.jsx("button",{onClick:se,disabled:g!=="idle",className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:u.jsx("span",{children:"Join Call"})}),u.jsx("button",{onClick:Se,disabled:g==="idle",className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:u.jsx("span",{children:"Leave Call"})}),u.jsx("button",{onClick:Be,disabled:!f,className:`px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2 text-white ${y?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"}`,children:u.jsx("span",{children:y?"Unmute":"Mute"})}),u.jsx("button",{onClick:M,disabled:!f,className:`px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2 text-white ${k?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-purple-600 to-purple-700"}`,children:u.jsx("span",{children:k?"Turn On Video":"Turn Off Video"})})]}),u.jsx(z,{}),g!=="idle"&&u.jsx("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${g==="active"?"bg-green-500":"bg-yellow-500"}`}),u.jsxs("p",{className:"text-green-800 font-medium",children:[g==="joining"&&"Joining call...",g==="active"&&"Call is active"]})]}),g==="active"&&u.jsxs("p",{className:"text-green-700 text-sm",children:[c.size+1," participant",c.size!==0?"s":""]})]})})]})]})})}const H1="https://remote-work-backend.onrender.com";function Y1({workspaceId:e}){const[t,n]=v.useState(null),[r,o]=v.useState(!1),[i,s]=v.useState("#000000"),[a,l]=v.useState(3),[c,d]=v.useState("pen"),[f,h]=v.useState(0),[y,x]=v.useState(0),[k,N]=v.useState(0),[g,m]=v.useState(0),[p,_]=v.useState([]),[b,C]=v.useState(-1),w=v.useRef(null),j=v.useRef(null);v.useEffect(()=>(I(),B(),()=>{t&&t.disconnect()}),[e]);const I=()=>{const T=w.current.getContext("2d");T.lineCap="round",T.lineJoin="round",T.strokeStyle=i,T.lineWidth=a,j.current=T},B=()=>{const S=localStorage.getItem("token"),T=$n(H1,{auth:{token:S}});T.on("connect",()=>{T.emit("join_workspace",e)}),T.on("whiteboard_draw",R=>{M(R)}),T.on("whiteboard_clear",()=>{W()}),n(T)},U=S=>{o(!0);const{offsetX:T,offsetY:R}=Ce(S);h(T),x(R),N(T),m(R),(c==="pen"||c==="eraser")&&(j.current.beginPath(),j.current.moveTo(T,R)),E()},se=S=>{if(!r)return;const{offsetX:T,offsetY:R}=Ce(S),P=j.current;c==="pen"?(P.globalCompositeOperation="source-over",P.strokeStyle=i,P.lineWidth=a,P.lineTo(T,R),P.stroke(),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"draw",data:{fromX:f,fromY:y,toX:T,toY:R,color:i,width:a,tool:"pen"}})):c==="eraser"&&(P.globalCompositeOperation="destination-out",P.lineWidth=a*2,P.lineTo(T,R),P.stroke(),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"erase",data:{fromX:f,fromY:y,toX:T,toY:R,width:a*2}})),h(T),x(R)},ee=S=>{if(!r)return;const{offsetX:T,offsetY:R}=Ce(S),P=j.current;if(c==="line")P.globalCompositeOperation="source-over",P.strokeStyle=i,P.lineWidth=a,P.beginPath(),P.moveTo(k,g),P.lineTo(T,R),P.stroke(),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"shape",data:{type:"line",startX:k,startY:g,endX:T,endY:R,color:i,width:a}});else if(c==="rectangle")P.globalCompositeOperation="source-over",P.strokeStyle=i,P.lineWidth=a,P.strokeRect(k,g,T-k,R-g),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"shape",data:{type:"rectangle",startX:k,startY:g,width:T-k,height:R-g,color:i,strokeWidth:a}});else if(c==="circle"){const F=Math.sqrt(Math.pow(T-k,2)+Math.pow(R-g,2));P.globalCompositeOperation="source-over",P.strokeStyle=i,P.lineWidth=a,P.beginPath(),P.arc(k,g,F,0,2*Math.PI),P.stroke(),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"shape",data:{type:"circle",centerX:k,centerY:g,radius:F,color:i,strokeWidth:a}})}o(!1),j.current.beginPath()},Ce=S=>{const T=w.current.getBoundingClientRect(),R=S.clientX||S.touches&&S.touches[0].clientX,P=S.clientY||S.touches&&S.touches[0].clientY;return{offsetX:R-T.left,offsetY:P-T.top}},Te=S=>{S.preventDefault(),U(S)},Se=S=>{S.preventDefault(),se(S)},Be=S=>{S.preventDefault(),ee()},M=S=>{const T=j.current;S.action==="draw"?(T.globalCompositeOperation="source-over",T.strokeStyle=S.data.color,T.lineWidth=S.data.width,T.beginPath(),T.moveTo(S.data.fromX,S.data.fromY),T.lineTo(S.data.toX,S.data.toY),T.stroke()):S.action==="erase"?(T.globalCompositeOperation="destination-out",T.lineWidth=S.data.width,T.beginPath(),T.moveTo(S.data.fromX,S.data.fromY),T.lineTo(S.data.toX,S.data.toY),T.stroke()):S.action==="shape"&&(T.globalCompositeOperation="source-over",T.strokeStyle=S.data.color,T.lineWidth=S.data.strokeWidth,S.data.type==="line"?(T.beginPath(),T.moveTo(S.data.startX,S.data.startY),T.lineTo(S.data.endX,S.data.endY),T.stroke()):S.data.type==="rectangle"?T.strokeRect(S.data.startX,S.data.startY,S.data.width,S.data.height):S.data.type==="circle"&&(T.beginPath(),T.arc(S.data.centerX,S.data.centerY,S.data.radius,0,2*Math.PI),T.stroke()))},z=()=>{W(),t&&t.emit("whiteboard_clear",{workspaceId:e})},W=()=>{j.current.clearRect(0,0,w.current.width,w.current.height)},E=()=>{const T=w.current.toDataURL(),R=p.slice(0,b+1);R.push(T),_(R),C(R.length-1)},D=()=>{const S=w.current,T=document.createElement("a");T.download=`whiteboard-${Date.now()}.png`,T.href=S.toDataURL(),T.click()};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Collaborative Whiteboard"}),u.jsx("p",{className:"text-gray-600",children:"Draw, sketch, and brainstorm together in real-time"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Color:"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"color",value:i,onChange:S=>s(S.target.value),className:"w-12 h-12 rounded-xl border-2 border-gray-300 cursor-pointer shadow-sm hover:shadow-md transition-shadow"})})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Brush Size:"}),u.jsx("input",{type:"range",min:"1",max:"20",value:a,onChange:S=>l(S.target.value),className:"w-32 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),u.jsxs("span",{className:"text-sm font-medium text-gray-600 bg-white px-3 py-1 rounded-full border",children:[a,"px"]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:z,className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),u.jsx("span",{children:"Clear"})]}),u.jsxs("button",{onClick:D,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{children:"Export"})]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("canvas",{ref:w,width:1e3,height:600,className:"border-2 border-gray-300 rounded-2xl cursor-crosshair bg-white shadow-lg w-full max-w-full touch-none",onMouseDown:U,onMouseMove:se,onMouseUp:ee,onMouseLeave:ee,onTouchStart:Te,onTouchMove:Se,onTouchEnd:Be,onTouchCancel:Be}),u.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-4 py-2 rounded-xl shadow-lg border border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live Collaboration"})]})})]}),u.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("p",{className:"text-blue-800 text-sm",children:[u.jsx("strong",{children:"Tip:"})," Your drawings are synchronized in real-time with all team members. Use different colors to distinguish your contributions!"]})]})})]})]})})}const ql=document.createElement("style");ql.textContent=`
  .slider::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
  .slider::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
`;document.head.querySelector('style[data-component="Whiteboard"]')||(ql.setAttribute("data-component","Whiteboard"),document.head.appendChild(ql));function X1({workspaceId:e,onClose:t}){const[n,r]=v.useState(""),[o,i]=v.useState(!1),[s,a]=v.useState(!1),l=async()=>{i(!0);try{const d=await fetch("https://remote-work-backend.onrender.com/api/invite/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({workspaceId:e})}),f=await d.json();d.ok?r(f.inviteLink):alert("Failed to generate invite: "+f.error)}catch{alert("Error generating invite")}i(!1)},c=()=>{navigator.clipboard.writeText(n),a(!0),setTimeout(()=>a(!1),2e3)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invite to Workspace"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n?u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"Share this link with team members:"}),u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-xl bg-gray-50"}),u.jsx("button",{onClick:c,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:s?"Copied!":"Copy"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Link expires in 7 days"})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600 mb-6",children:"Generate an invitation link to share with team members"}),u.jsx("button",{onClick:l,disabled:o,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50",children:o?"Generating...":"Generate Invite Link"})]})]})})}function G1(){var x;const[e,t]=v.useState(null),[n,r]=v.useState("dashboard"),[o,i]=v.useState(null),[s,a]=v.useState(!1),[l,c]=v.useState(!1),[d,f]=v.useState(!1);v.useEffect(()=>{const k=localStorage.getItem("token"),N=localStorage.getItem("user");k&&N&&t(JSON.parse(N))},[]);const h=(k,N)=>{localStorage.setItem("token",N),localStorage.setItem("user",JSON.stringify(k)),t(k);const g=localStorage.getItem("pendingInvite");g&&(window.location.href=`/join/${g}`)},y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null),r("dashboard"),i(null)};return e?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white/95 backdrop-blur-sm shadow-xl border-r border-white/20 transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:inset-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-gray-200",children:[u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),u.jsx("button",{onClick:()=>c(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&u.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-900",children:o.name}),u.jsx("p",{className:"text-xs text-blue-600",children:"Active Workspace"})]})]})}),u.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[u.jsxs("button",{onClick:()=>r("dashboard"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="dashboard"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})}),u.jsx("span",{className:"font-medium",children:"Dashboard"})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>r("tasks"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="tasks"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"text-gray-700 hover:bg-green-50 hover:text-green-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),u.jsx("span",{className:"font-medium",children:"Tasks"})]}),u.jsxs("button",{onClick:()=>r("chat"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="chat"?"bg-gradient-to-r from-purple-600 to-purple-700 text-white shadow-lg":"text-gray-700 hover:bg-purple-50 hover:text-purple-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),u.jsx("span",{className:"font-medium",children:"Chat"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>f(!d),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="video"||n==="multivideo"?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"font-medium",children:"Video Calls"})]}),u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&u.jsxs("div",{className:"mt-2 ml-4 space-y-1",children:[u.jsxs("button",{onClick:()=>{r("video"),f(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-left transition-all duration-200 ${n==="video"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsx("span",{children:"1-on-1 Call"})]}),u.jsxs("button",{onClick:()=>{r("multivideo"),f(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-left transition-all duration-200 ${n==="multivideo"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("span",{children:"Group Call"})]})]})]}),u.jsxs("button",{onClick:()=>r("whiteboard"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="whiteboard"?"bg-gradient-to-r from-yellow-600 to-orange-600 text-white shadow-lg":"text-gray-700 hover:bg-yellow-50 hover:text-yellow-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),u.jsx("span",{className:"font-medium",children:"Whiteboard"})]}),u.jsxs("button",{onClick:()=>a(!0),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 text-gray-700 hover:bg-green-50 hover:text-green-600",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{className:"font-medium",children:"Invite Members"})]})]})]}),u.jsxs("div",{className:"px-4 py-4 border-t border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 rounded-xl bg-gray-50",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-medium",children:((x=e.name)==null?void 0:x.charAt(0))||"U"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]}),u.jsxs("button",{onClick:y,className:"w-full mt-3 flex items-center space-x-3 px-4 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white hover:shadow-lg transition-all duration-200",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),u.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>c(!1)}),u.jsxs("div",{className:"flex-1 lg:ml-0",children:[u.jsx("div",{className:"lg:hidden bg-white/80 backdrop-blur-sm shadow-sm border-b border-white/20 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("main",{className:"flex-1",children:[n==="dashboard"&&u.jsx(Gv,{user:e,onWorkspaceSelect:i,currentWorkspace:o}),n==="tasks"&&o&&u.jsx(kx,{workspaceId:o.id}),n==="chat"&&o&&u.jsx(m1,{workspaceId:o.id}),n==="video"&&o&&u.jsx(F1,{workspaceId:o.id}),n==="multivideo"&&o&&u.jsx(W1,{workspaceId:o.id}),n==="whiteboard"&&o&&u.jsx(Y1,{workspaceId:o.id}),s&&o&&u.jsx(X1,{workspaceId:o.id,onClose:()=>a(!1)})]}),u.jsx(jp,{})]})]}):u.jsx(Xv,{onLogin:h})}function K1(){var h,y;const{code:e}=qy(),t=_p(),[n,r]=v.useState(null),[o,i]=v.useState(!0),[s,a]=v.useState(!1),[l,c]=v.useState("");v.useEffect(()=>{d()},[e]);const d=async()=>{try{const x=await fetch(`https://remote-work-backend.onrender.com/api/invite/info/${e}`),k=await x.json();x.ok?r(k):c(k.error)}catch{c("Failed to load workspace info")}i(!1)},f=async()=>{const x=localStorage.getItem("token");if(!x){localStorage.setItem("pendingInvite",e),t("/");return}a(!0);try{const k=await fetch(`https://remote-work-backend.onrender.com/api/invite/join/${e}`,{method:"POST",headers:{Authorization:`Bearer ${x}`}}),N=await k.json();k.ok?(localStorage.removeItem("pendingInvite"),alert("Successfully joined workspace!"),t("/")):c(N.error)}catch{c("Failed to join workspace")}a(!1)};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading workspace info..."})]})}):l?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 max-w-md w-full mx-4 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Invite"}),u.jsx("p",{className:"text-gray-600 mb-6",children:l}),u.jsx("button",{onClick:()=>t("/"),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:"Go to Dashboard"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 max-w-md w-full mx-4 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join Workspace"}),u.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-2",children:(h=n==null?void 0:n.workspace)==null?void 0:h.name}),u.jsx("p",{className:"text-gray-600 mb-6",children:(y=n==null?void 0:n.workspace)==null?void 0:y.description}),u.jsx("button",{onClick:f,disabled:s,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none mb-4",children:s?"Joining...":"Join Workspace"}),u.jsx("button",{onClick:()=>t("/"),className:"w-full text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"})]})})}function Q1(){return u.jsx(Iv,{children:u.jsxs(hv,{children:[u.jsx(Pl,{path:"/join/:code",element:u.jsx(K1,{})}),u.jsx(Pl,{path:"/*",element:u.jsx(G1,{})})]})})}Aa.createRoot(document.getElementById("root")).render(u.jsx(dg.StrictMode,{children:u.jsx(Q1,{})}));
//# sourceMappingURL=index-DUvyuoKr.js.map
