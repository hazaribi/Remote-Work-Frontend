var qm=e=>{throw TypeError(e)};var Ir=(e,t,n)=>t.has(e)?qm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function Zm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tf={exports:{}},bs={},nf={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),eg=Symbol.for("react.portal"),tg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),og=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.memo"),cg=Symbol.for("react.lazy"),yu=Symbol.iterator;function ug(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,sf={};function jr(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||rf}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function af(){}af.prototype=jr.prototype;function nc(e,t,n){this.props=e,this.context=t,this.refs=sf,this.updater=n||rf}var rc=nc.prototype=new af;rc.constructor=nc;of(rc,jr.prototype);rc.isPureReactComponent=!0;var vu=Array.isArray,lf=Object.prototype.hasOwnProperty,ic={current:null},cf={key:!0,ref:!0,__self:!0,__source:!0};function uf(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)lf.call(t,r)&&!cf.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$i,type:e,key:o,ref:s,props:i,_owner:ic.current}}function dg(e,t){return{$$typeof:$i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===$i}function fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xu=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fg(""+e.key):t.toString(36)}function xo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case $i:case eg:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Xs(s,0):r,vu(i)?(n="",e!=null&&(n=e.replace(xu,"$&/")+"/"),xo(i,t,n,"",function(c){return c})):i!=null&&(oc(i)&&(i=dg(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xu,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",vu(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Xs(o,a);s+=xo(o,t,n,l,i)}else if(l=ug(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Xs(o,a++),s+=xo(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gi(e,t,n){if(e==null)return e;var r=[],i=0;return xo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function hg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},ko={transition:null},pg={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ko,ReactCurrentOwner:ic};function df(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=jr;X.Fragment=tg;X.Profiler=rg;X.PureComponent=nc;X.StrictMode=ng;X.Suspense=ag;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;X.act=df;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=of({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ic.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)lf.call(t,l)&&!cf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$i,type:e.type,key:i,ref:o,props:r,_owner:s}};X.createContext=function(e){return e={$$typeof:og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ig,_context:e},e.Consumer=e};X.createElement=uf;X.createFactory=function(e){var t=uf.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:sg,render:e}};X.isValidElement=oc;X.lazy=function(e){return{$$typeof:cg,_payload:{_status:-1,_result:e},_init:hg}};X.memo=function(e,t){return{$$typeof:lg,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ko.transition;ko.transition={};try{e()}finally{ko.transition=t}};X.unstable_act=df;X.useCallback=function(e,t){return We.current.useCallback(e,t)};X.useContext=function(e){return We.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return We.current.useDeferredValue(e)};X.useEffect=function(e,t){return We.current.useEffect(e,t)};X.useId=function(){return We.current.useId()};X.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return We.current.useMemo(e,t)};X.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};X.useRef=function(e){return We.current.useRef(e)};X.useState=function(e){return We.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return We.current.useTransition()};X.version="18.3.1";nf.exports=X;var v=nf.exports;const mg=ef(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=v,yg=Symbol.for("react.element"),vg=Symbol.for("react.fragment"),xg=Object.prototype.hasOwnProperty,kg=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_g={key:!0,ref:!0,__self:!0,__source:!0};function ff(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)xg.call(t,r)&&!_g.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yg,type:e,key:o,ref:s,props:i,_owner:kg.current}}bs.Fragment=vg;bs.jsx=ff;bs.jsxs=ff;tf.exports=bs;var u=tf.exports,Aa={},hf={exports:{}},st={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var R=O.length;O.push(U);e:for(;0<R;){var k=R-1>>>1,C=O[k];if(0<i(C,U))O[k]=U,O[R]=C,R=k;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],R=O.pop();if(R!==U){O[0]=R;e:for(var k=0,C=O.length,N=C>>>1;k<N;){var I=2*(k+1)-1,L=O[I],M=I+1,z=O[M];if(0>i(L,R))M<C&&0>i(z,L)?(O[k]=z,O[M]=R,k=M):(O[k]=L,O[I]=R,k=I);else if(M<C&&0>i(z,R))O[k]=z,O[M]=R,k=M;else break e}}return U}function i(O,U){var R=O.sortIndex-U.sortIndex;return R!==0?R:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,y=!1,x=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function S(O){if(_=!1,p(O),!x)if(n(l)!==null)x=!0,he(b);else{var U=n(c);U!==null&&Be(S,U.startTime-O)}}function b(O,U){x=!1,_&&(_=!1,g(j),j=-1),y=!0;var R=h;try{for(p(U),f=n(l);f!==null&&(!(f.expirationTime>U)||O&&!W());){var k=f.callback;if(typeof k=="function"){f.callback=null,h=f.priorityLevel;var C=k(f.expirationTime<=U);U=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(l)&&r(l),p(U)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var I=n(c);I!==null&&Be(S,I.startTime-U),N=!1}return N}finally{f=null,h=R,y=!1}}var w=!1,E=null,j=-1,A=5,F=-1;function W(){return!(e.unstable_now()-F<A)}function fe(){if(E!==null){var O=e.unstable_now();F=O;var U=!0;try{U=E(!0,O)}finally{U?re():(w=!1,E=null)}}else w=!1}var re;if(typeof m=="function")re=function(){m(fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Se=Te.port2;Te.port1.onmessage=fe,re=function(){Se.postMessage(null)}}else re=function(){T(fe,0)};function he(O){E=O,w||(w=!0,re())}function Be(O,U){j=T(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,he(b))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var R=h;h=U;try{return O()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=h;h=O;try{return U()}finally{h=R}},e.unstable_scheduleCallback=function(O,U,R){var k=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?k+R:k):R=k,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=R+C,O={id:d++,callback:U,priorityLevel:O,startTime:R,expirationTime:C,sortIndex:-1},R>k?(O.sortIndex=R,t(c,O),n(l)===null&&O===n(c)&&(_?(g(j),j=-1):_=!0,Be(S,R-k))):(O.sortIndex=C,t(l,O),x||y||(x=!0,he(b))),O},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(O){var U=h;return function(){var R=h;h=U;try{return O.apply(this,arguments)}finally{h=R}}}})(mf);pf.exports=mf;var Sg=pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=v,ot=Sg;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gf=new Set,xi={};function Hn(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(xi[e]=t,e=0;e<t.length;e++)gf.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ku={},_u={};function bg(e){return $a.call(_u,e)?!0:$a.call(ku,e)?!1:wg.test(e)?_u[e]=!0:(ku[e]=!0,!1)}function Eg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tg(e,t,n,r){if(t===null||typeof t>"u"||Eg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function ac(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,ac);Pe[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,ac);Pe[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,ac);Pe[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function lc(e,t,n,r){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tg(t,n,i,r)&&(n=null),r||i===null?bg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zt=Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),vf=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Fa=Symbol.for("react.suspense"),za=Symbol.for("react.suspense_list"),dc=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),xf=Symbol.for("react.offscreen"),Su=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Gs;function Gr(e){if(Gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||""}return`
`+Gs+e}var Ks=!1;function Qs(e,t){if(!e||Ks)return"";Ks=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ks=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gr(e):""}function Rg(e){switch(e.tag){case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 2:case 15:return e=Qs(e.type,!1),e;case 11:return e=Qs(e.type.render,!1),e;case 1:return e=Qs(e.type,!0),e;default:return""}}function Ua(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case Ba:return"Profiler";case cc:return"StrictMode";case Fa:return"Suspense";case za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vf:return(e.displayName||"Context")+".Consumer";case yf:return(e._context.displayName||"Context")+".Provider";case uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dc:return t=e.displayName||null,t!==null?t:Ua(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return Ua(e(t))}catch{}}return null}function Ng(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ua(t);case 8:return t===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jg(e){var t=kf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){e._valueTracker||(e._valueTracker=jg(e))}function _f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Va(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sf(e,t){t=t.checked,t!=null&&lc(e,"checked",t,!1)}function Wa(e,t){Sf(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ha(e,t,n){(t!=="number"||Xo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kr=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Kr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function Cf(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ji,bf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ki(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pg=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){Pg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function Ef(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function Tf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ef(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Lg=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(e,t){if(t){if(Lg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,mr=null,gr=null;function Tu(e){if(e=zi(e)){if(typeof Ja!="function")throw Error(P(280));var t=e.stateNode;t&&(t=js(t),Ja(e.stateNode,e.type,t))}}function Rf(e){mr?gr?gr.push(e):gr=[e]:mr=e}function Nf(){if(mr){var e=mr,t=gr;if(gr=mr=null,Tu(e),t)for(e=0;e<t.length;e++)Tu(t[e])}}function jf(e,t){return e(t)}function Pf(){}var Js=!1;function Lf(e,t,n){if(Js)return e(t,n);Js=!0;try{return jf(e,t,n)}finally{Js=!1,(mr!==null||gr!==null)&&(Pf(),Nf())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var r=js(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var qa=!1;if(Xt)try{var $r={};Object.defineProperty($r,"passive",{get:function(){qa=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{qa=!1}function Dg(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ii=!1,Go=null,Ko=!1,Za=null,Og={onError:function(e){ii=!0,Go=e}};function Mg(e,t,n,r,i,o,s,a,l){ii=!1,Go=null,Dg.apply(Og,arguments)}function Ig(e,t,n,r,i,o,s,a,l){if(Mg.apply(this,arguments),ii){if(ii){var c=Go;ii=!1,Go=null}else throw Error(P(198));Ko||(Ko=!0,Za=c)}}function Yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ru(e){if(Yn(e)!==e)throw Error(P(188))}function Ag(e){var t=e.alternate;if(!t){if(t=Yn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ru(i),e;if(o===r)return Ru(i),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Of(e){return e=Ag(e),e!==null?Mf(e):null}function Mf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mf(e);if(t!==null)return t;e=e.sibling}return null}var If=ot.unstable_scheduleCallback,Nu=ot.unstable_cancelCallback,$g=ot.unstable_shouldYield,Bg=ot.unstable_requestPaint,ge=ot.unstable_now,Fg=ot.unstable_getCurrentPriorityLevel,hc=ot.unstable_ImmediatePriority,Af=ot.unstable_UserBlockingPriority,Qo=ot.unstable_NormalPriority,zg=ot.unstable_LowPriority,$f=ot.unstable_IdlePriority,Es=null,jt=null;function Ug(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Hg,Vg=Math.log,Wg=Math.LN2;function Hg(e){return e>>>=0,e===0?32:31-(Vg(e)/Wg|0)|0}var qi=64,Zi=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qr(a):(o&=s,o!==0&&(r=Qr(o)))}else s=n&~i,s!==0?r=Qr(s):o!==0&&(r=Qr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),i=1<<n,r|=e[n],t&=~i;return r}function Yg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ct(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Yg(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bf(){var e=qi;return qi<<=1,!(qi&4194240)&&(qi=64),e}function qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Gg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ct(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function Ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zf,mc,Uf,Vf,Wf,tl=!1,eo=[],hn=null,pn=null,mn=null,Si=new Map,Ci=new Map,sn=[],Kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Br(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zi(t),t!==null&&mc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Qg(e,t,n,r,i){switch(t){case"focusin":return hn=Br(hn,e,t,n,r,i),!0;case"dragenter":return pn=Br(pn,e,t,n,r,i),!0;case"mouseover":return mn=Br(mn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Si.set(o,Br(Si.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ci.set(o,Br(Ci.get(o)||null,e,t,n,r,i)),!0}return!1}function Hf(e){var t=On(e.target);if(t!==null){var n=Yn(t);if(n!==null){if(t=n.tag,t===13){if(t=Df(n),t!==null){e.blockedOn=t,Wf(e.priority,function(){Uf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qa=r,n.target.dispatchEvent(r),Qa=null}else return t=zi(n),t!==null&&mc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pu(e,t,n){_o(e)&&n.delete(t)}function Jg(){tl=!1,hn!==null&&_o(hn)&&(hn=null),pn!==null&&_o(pn)&&(pn=null),mn!==null&&_o(mn)&&(mn=null),Si.forEach(Pu),Ci.forEach(Pu)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Jg)))}function wi(e){function t(i){return Fr(i,e)}if(0<eo.length){Fr(eo[0],e);for(var n=1;n<eo.length;n++){var r=eo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Fr(hn,e),pn!==null&&Fr(pn,e),mn!==null&&Fr(mn,e),Si.forEach(t),Ci.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Hf(n),n.blockedOn===null&&sn.shift()}var yr=Zt.ReactCurrentBatchConfig,qo=!0;function qg(e,t,n,r){var i=Z,o=yr.transition;yr.transition=null;try{Z=1,gc(e,t,n,r)}finally{Z=i,yr.transition=o}}function Zg(e,t,n,r){var i=Z,o=yr.transition;yr.transition=null;try{Z=4,gc(e,t,n,r)}finally{Z=i,yr.transition=o}}function gc(e,t,n,r){if(qo){var i=nl(e,t,n,r);if(i===null)la(e,t,r,Zo,n),ju(e,r);else if(Qg(i,e,t,n,r))r.stopPropagation();else if(ju(e,r),t&4&&-1<Kg.indexOf(e)){for(;i!==null;){var o=zi(i);if(o!==null&&zf(o),o=nl(e,t,n,r),o===null&&la(e,t,r,Zo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else la(e,t,r,null,n)}}var Zo=null;function nl(e,t,n,r){if(Zo=null,e=fc(r),e=On(e),e!==null)if(t=Yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Df(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zo=e,null}function Yf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fg()){case hc:return 1;case Af:return 4;case Qo:case zg:return 16;case $f:return 536870912;default:return 16}default:return 16}}var cn=null,yc=null,So=null;function Xf(){if(So)return So;var e,t=yc,n=t.length,r,i="value"in cn?cn.value:cn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return So=i.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function to(){return!0}function Lu(){return!1}function at(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?to:Lu,this.isPropagationStopped=Lu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=at(Pr),Fi=de({},Pr,{view:0,detail:0}),e0=at(Fi),Zs,ea,zr,Ts=de({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zr&&(zr&&e.type==="mousemove"?(Zs=e.screenX-zr.screenX,ea=e.screenY-zr.screenY):ea=Zs=0,zr=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Du=at(Ts),t0=de({},Ts,{dataTransfer:0}),n0=at(t0),r0=de({},Fi,{relatedTarget:0}),ta=at(r0),i0=de({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=at(i0),s0=de({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a0=at(s0),l0=de({},Pr,{data:0}),Ou=at(l0),c0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d0[e])?!!t[e]:!1}function xc(){return f0}var h0=de({},Fi,{key:function(e){if(e.key){var t=c0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p0=at(h0),m0=de({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=at(m0),g0=de({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),y0=at(g0),v0=de({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=at(v0),k0=de({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=at(k0),S0=[9,13,27,32],kc=Xt&&"CompositionEvent"in window,oi=null;Xt&&"documentMode"in document&&(oi=document.documentMode);var C0=Xt&&"TextEvent"in window&&!oi,Gf=Xt&&(!kc||oi&&8<oi&&11>=oi),Iu=" ",Au=!1;function Kf(e,t){switch(e){case"keyup":return S0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function w0(e,t){switch(e){case"compositionend":return Qf(t);case"keypress":return t.which!==32?null:(Au=!0,Iu);case"textInput":return e=t.data,e===Iu&&Au?null:e;default:return null}}function b0(e,t){if(rr)return e==="compositionend"||!kc&&Kf(e,t)?(e=Xf(),So=yc=cn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gf&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function Jf(e,t,n,r){Rf(r),t=es(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var si=null,bi=null;function T0(e){lh(e,0)}function Rs(e){var t=sr(e);if(_f(t))return e}function R0(e,t){if(e==="change")return t}var qf=!1;if(Xt){var na;if(Xt){var ra="oninput"in document;if(!ra){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),ra=typeof Bu.oninput=="function"}na=ra}else na=!1;qf=na&&(!document.documentMode||9<document.documentMode)}function Fu(){si&&(si.detachEvent("onpropertychange",Zf),bi=si=null)}function Zf(e){if(e.propertyName==="value"&&Rs(bi)){var t=[];Jf(t,bi,e,fc(e)),Lf(T0,t)}}function N0(e,t,n){e==="focusin"?(Fu(),si=t,bi=n,si.attachEvent("onpropertychange",Zf)):e==="focusout"&&Fu()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(bi)}function P0(e,t){if(e==="click")return Rs(t)}function L0(e,t){if(e==="input"||e==="change")return Rs(t)}function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:D0;function Ei(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$a.call(t,i)||!bt(e[i],t[i]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=zu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zu(n)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(){for(var e=window,t=Xo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xo(e.document)}return t}function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O0(e){var t=th(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eh(n.ownerDocument.documentElement,n)){if(r!==null&&_c(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Uu(n,o);var s=Uu(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var M0=Xt&&"documentMode"in document&&11>=document.documentMode,ir=null,rl=null,ai=null,il=!1;function Vu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||ir==null||ir!==Xo(r)||(r=ir,"selectionStart"in r&&_c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ai&&Ei(ai,r)||(ai=r,r=es(rl,"onSelect"),0<r.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function no(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},ia={},nh={};Xt&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Ns(e){if(ia[e])return ia[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nh)return ia[e]=t[n];return e}var rh=Ns("animationend"),ih=Ns("animationiteration"),oh=Ns("animationstart"),sh=Ns("transitionend"),ah=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){ah.set(e,t),Hn(t,[e])}for(var oa=0;oa<Wu.length;oa++){var sa=Wu[oa],I0=sa.toLowerCase(),A0=sa[0].toUpperCase()+sa.slice(1);bn(I0,"on"+A0)}bn(rh,"onAnimationEnd");bn(ih,"onAnimationIteration");bn(oh,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(sh,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Hu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ig(r,t,void 0,e),e.currentTarget=null}function lh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Hu(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Hu(i,a,c),o=l}}}if(Ko)throw e=Za,Ko=!1,Za=null,e}function te(e,t){var n=t[cl];n===void 0&&(n=t[cl]=new Set);var r=e+"__bubble";n.has(r)||(ch(t,e,2,!1),n.add(r))}function aa(e,t,n){var r=0;t&&(r|=4),ch(n,e,r,t)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[ro]){e[ro]=!0,gf.forEach(function(n){n!=="selectionchange"&&($0.has(n)||aa(n,!1,e),aa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ro]||(t[ro]=!0,aa("selectionchange",!1,t))}}function ch(e,t,n,r){switch(Yf(t)){case 1:var i=qg;break;case 4:i=Zg;break;default:i=gc}n=i.bind(null,t,n,e),i=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function la(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=On(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Lf(function(){var c=o,d=fc(n),f=[];e:{var h=ah.get(e);if(h!==void 0){var y=vc,x=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":y=p0;break;case"focusin":x="focus",y=ta;break;case"focusout":x="blur",y=ta;break;case"beforeblur":case"afterblur":y=ta;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=y0;break;case rh:case ih:case oh:y=o0;break;case sh:y=x0;break;case"scroll":y=e0;break;case"wheel":y=_0;break;case"copy":case"cut":case"paste":y=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mu}var _=(t&4)!==0,T=!_&&e==="scroll",g=_?h!==null?h+"Capture":null:h;_=[];for(var m=c,p;m!==null;){p=m;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,g!==null&&(S=_i(m,g),S!=null&&_.push(Ri(m,S,p)))),T)break;m=m.return}0<_.length&&(h=new y(h,x,null,n,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Qa&&(x=n.relatedTarget||n.fromElement)&&(On(x)||x[Gt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?On(x):null,x!==null&&(T=Yn(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(_=Du,S="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=Mu,S="onPointerLeave",g="onPointerEnter",m="pointer"),T=y==null?h:sr(y),p=x==null?h:sr(x),h=new _(S,m+"leave",y,n,d),h.target=T,h.relatedTarget=p,S=null,On(d)===c&&(_=new _(g,m+"enter",x,n,d),_.target=p,_.relatedTarget=T,S=_),T=S,y&&x)t:{for(_=y,g=x,m=0,p=_;p;p=Jn(p))m++;for(p=0,S=g;S;S=Jn(S))p++;for(;0<m-p;)_=Jn(_),m--;for(;0<p-m;)g=Jn(g),p--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=Jn(_),g=Jn(g)}_=null}else _=null;y!==null&&Yu(f,h,y,_,!1),x!==null&&T!==null&&Yu(f,T,x,_,!0)}}e:{if(h=c?sr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var b=R0;else if($u(h))if(qf)b=L0;else{b=j0;var w=N0}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=P0);if(b&&(b=b(e,c))){Jf(f,b,n,d);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Ha(h,"number",h.value)}switch(w=c?sr(c):window,e){case"focusin":($u(w)||w.contentEditable==="true")&&(ir=w,rl=c,ai=null);break;case"focusout":ai=rl=ir=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,Vu(f,n,d);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":Vu(f,n,d)}var E;if(kc)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rr?Kf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Gf&&n.locale!=="ko"&&(rr||j!=="onCompositionStart"?j==="onCompositionEnd"&&rr&&(E=Xf()):(cn=d,yc="value"in cn?cn.value:cn.textContent,rr=!0)),w=es(c,j),0<w.length&&(j=new Ou(j,e,null,n,d),f.push({event:j,listeners:w}),E?j.data=E:(E=Qf(n),E!==null&&(j.data=E)))),(E=C0?w0(e,n):b0(e,n))&&(c=es(c,"onBeforeInput"),0<c.length&&(d=new Ou("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}lh(f,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_i(e,n),o!=null&&r.unshift(Ri(e,o,i)),o=_i(e,t),o!=null&&r.push(Ri(e,o,i))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yu(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_i(n,o),l!=null&&s.unshift(Ri(n,l,a))):i||(l=_i(n,o),l!=null&&s.push(Ri(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var B0=/\r\n?/g,F0=/\u0000|\uFFFD/g;function Xu(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(F0,"")}function io(e,t,n){if(t=Xu(t),Xu(e)!==t&&n)throw Error(P(425))}function ts(){}var ol=null,sl=null;function al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,Gu=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gu<"u"?function(e){return Gu.resolve(null).then(e).catch(V0)}:ll;function V0(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wi(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Lr,Ni="__reactProps$"+Lr,Gt="__reactContainer$"+Lr,cl="__reactEvents$"+Lr,W0="__reactListeners$"+Lr,H0="__reactHandles$"+Lr;function On(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ku(e);e!==null;){if(n=e[Nt])return n;e=Ku(e)}return t}e=n,n=e.parentNode}return null}function zi(e){return e=e[Nt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function js(e){return e[Ni]||null}var ul=[],ar=-1;function En(e){return{current:e}}function ne(e){0>ar||(e.current=ul[ar],ul[ar]=null,ar--)}function ee(e,t){ar++,ul[ar]=e.current,e.current=t}var wn={},Ae=En(wn),Je=En(!1),Fn=wn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qe(e){return e=e.childContextTypes,e!=null}function ns(){ne(Je),ne(Ae)}function Qu(e,t,n){if(Ae.current!==wn)throw Error(P(168));ee(Ae,t),ee(Je,n)}function uh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,Ng(e)||"Unknown",i));return de({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Fn=Ae.current,ee(Ae,e),ee(Je,Je.current),!0}function Ju(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=uh(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,ne(Je),ne(Ae),ee(Ae,e)):ne(Je),ee(Je,n)}var zt=null,Ps=!1,ua=!1;function dh(e){zt===null?zt=[e]:zt.push(e)}function Y0(e){Ps=!0,dh(e)}function Tn(){if(!ua&&zt!==null){ua=!0;var e=0,t=Z;try{var n=zt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Ps=!1}catch(i){throw zt!==null&&(zt=zt.slice(e+1)),If(hc,Tn),i}finally{Z=t,ua=!1}}return null}var lr=[],cr=0,is=null,os=0,ct=[],ut=0,zn=null,Ut=1,Vt="";function jn(e,t){lr[cr++]=os,lr[cr++]=is,is=e,os=t}function fh(e,t,n){ct[ut++]=Ut,ct[ut++]=Vt,ct[ut++]=zn,zn=e;var r=Ut;e=Vt;var i=32-Ct(r)-1;r&=~(1<<i),n+=1;var o=32-Ct(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ut=1<<32-Ct(t)+i|n<<i|r,Vt=o+e}else Ut=1<<o|n<<i|r,Vt=e}function Sc(e){e.return!==null&&(jn(e,1),fh(e,1,0))}function Cc(e){for(;e===is;)is=lr[--cr],lr[cr]=null,os=lr[--cr],lr[cr]=null;for(;e===zn;)zn=ct[--ut],ct[ut]=null,Vt=ct[--ut],ct[ut]=null,Ut=ct[--ut],ct[ut]=null}var it=null,rt=null,oe=!1,St=null;function hh(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,rt=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Ut,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,rt=null,!0):!1;default:return!1}}function dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fl(e){if(oe){var t=rt;if(t){var n=t;if(!qu(e,t)){if(dl(e))throw Error(P(418));t=gn(n.nextSibling);var r=it;t&&qu(e,t)?hh(r,n):(e.flags=e.flags&-4097|2,oe=!1,it=e)}}else{if(dl(e))throw Error(P(418));e.flags=e.flags&-4097|2,oe=!1,it=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function oo(e){if(e!==it)return!1;if(!oe)return Zu(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!al(e.type,e.memoizedProps)),t&&(t=rt)){if(dl(e))throw ph(),Error(P(418));for(;t;)hh(e,t),t=gn(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=it?gn(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=rt;e;)e=gn(e.nextSibling)}function wr(){rt=it=null,oe=!1}function wc(e){St===null?St=[e]:St.push(e)}var X0=Zt.ReactCurrentBatchConfig;function Ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ed(e){var t=e._init;return t(e._payload)}function mh(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=kn(g,m),g.index=0,g.sibling=null,g}function o(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,p,S){return m===null||m.tag!==6?(m=ya(p,g.mode,S),m.return=g,m):(m=i(m,p),m.return=g,m)}function l(g,m,p,S){var b=p.type;return b===nr?d(g,m,p.props.children,S,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===nn&&ed(b)===m.type)?(S=i(m,p.props),S.ref=Ur(g,m,p),S.return=g,S):(S=jo(p.type,p.key,p.props,null,g.mode,S),S.ref=Ur(g,m,p),S.return=g,S)}function c(g,m,p,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=va(p,g.mode,S),m.return=g,m):(m=i(m,p.children||[]),m.return=g,m)}function d(g,m,p,S,b){return m===null||m.tag!==7?(m=$n(p,g.mode,S,b),m.return=g,m):(m=i(m,p),m.return=g,m)}function f(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ya(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ki:return p=jo(m.type,m.key,m.props,null,g.mode,p),p.ref=Ur(g,null,m),p.return=g,p;case tr:return m=va(m,g.mode,p),m.return=g,m;case nn:var S=m._init;return f(g,S(m._payload),p)}if(Kr(m)||Ar(m))return m=$n(m,g.mode,p,null),m.return=g,m;so(g,m)}return null}function h(g,m,p,S){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(g,m,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ki:return p.key===b?l(g,m,p,S):null;case tr:return p.key===b?c(g,m,p,S):null;case nn:return b=p._init,h(g,m,b(p._payload),S)}if(Kr(p)||Ar(p))return b!==null?null:d(g,m,p,S,null);so(g,p)}return null}function y(g,m,p,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(p)||null,a(m,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ki:return g=g.get(S.key===null?p:S.key)||null,l(m,g,S,b);case tr:return g=g.get(S.key===null?p:S.key)||null,c(m,g,S,b);case nn:var w=S._init;return y(g,m,p,w(S._payload),b)}if(Kr(S)||Ar(S))return g=g.get(p)||null,d(m,g,S,b,null);so(m,S)}return null}function x(g,m,p,S){for(var b=null,w=null,E=m,j=m=0,A=null;E!==null&&j<p.length;j++){E.index>j?(A=E,E=null):A=E.sibling;var F=h(g,E,p[j],S);if(F===null){E===null&&(E=A);break}e&&E&&F.alternate===null&&t(g,E),m=o(F,m,j),w===null?b=F:w.sibling=F,w=F,E=A}if(j===p.length)return n(g,E),oe&&jn(g,j),b;if(E===null){for(;j<p.length;j++)E=f(g,p[j],S),E!==null&&(m=o(E,m,j),w===null?b=E:w.sibling=E,w=E);return oe&&jn(g,j),b}for(E=r(g,E);j<p.length;j++)A=y(E,g,j,p[j],S),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?j:A.key),m=o(A,m,j),w===null?b=A:w.sibling=A,w=A);return e&&E.forEach(function(W){return t(g,W)}),oe&&jn(g,j),b}function _(g,m,p,S){var b=Ar(p);if(typeof b!="function")throw Error(P(150));if(p=b.call(p),p==null)throw Error(P(151));for(var w=b=null,E=m,j=m=0,A=null,F=p.next();E!==null&&!F.done;j++,F=p.next()){E.index>j?(A=E,E=null):A=E.sibling;var W=h(g,E,F.value,S);if(W===null){E===null&&(E=A);break}e&&E&&W.alternate===null&&t(g,E),m=o(W,m,j),w===null?b=W:w.sibling=W,w=W,E=A}if(F.done)return n(g,E),oe&&jn(g,j),b;if(E===null){for(;!F.done;j++,F=p.next())F=f(g,F.value,S),F!==null&&(m=o(F,m,j),w===null?b=F:w.sibling=F,w=F);return oe&&jn(g,j),b}for(E=r(g,E);!F.done;j++,F=p.next())F=y(E,g,j,F.value,S),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?j:F.key),m=o(F,m,j),w===null?b=F:w.sibling=F,w=F);return e&&E.forEach(function(fe){return t(g,fe)}),oe&&jn(g,j),b}function T(g,m,p,S){if(typeof p=="object"&&p!==null&&p.type===nr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ki:e:{for(var b=p.key,w=m;w!==null;){if(w.key===b){if(b=p.type,b===nr){if(w.tag===7){n(g,w.sibling),m=i(w,p.props.children),m.return=g,g=m;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===nn&&ed(b)===w.type){n(g,w.sibling),m=i(w,p.props),m.ref=Ur(g,w,p),m.return=g,g=m;break e}n(g,w);break}else t(g,w);w=w.sibling}p.type===nr?(m=$n(p.props.children,g.mode,S,p.key),m.return=g,g=m):(S=jo(p.type,p.key,p.props,null,g.mode,S),S.ref=Ur(g,m,p),S.return=g,g=S)}return s(g);case tr:e:{for(w=p.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=i(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=va(p,g.mode,S),m.return=g,g=m}return s(g);case nn:return w=p._init,T(g,m,w(p._payload),S)}if(Kr(p))return x(g,m,p,S);if(Ar(p))return _(g,m,p,S);so(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,p),m.return=g,g=m):(n(g,m),m=ya(p,g.mode,S),m.return=g,g=m),s(g)):n(g,m)}return T}var br=mh(!0),gh=mh(!1),ss=En(null),as=null,ur=null,bc=null;function Ec(){bc=ur=as=null}function Tc(e){var t=ss.current;ne(ss),e._currentValue=t}function hl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){as=e,bc=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(bc!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(as===null)throw Error(P(308));ur=e,as.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var Mn=null;function Rc(e){Mn===null?Mn=[e]:Mn.push(e)}function yh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Kt(e,n)}return i=r.interleaved,i===null?(t.next=t,Rc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Kt(e,n)}function wo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pc(e,n)}}function td(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var i=e.updateQueue;rn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,_=a;switch(h=t,y=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=de({},f,h);break e;case 2:rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Vn|=s,e.lanes=s,e.memoizedState=f}}function nd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Ui={},Pt=En(Ui),ji=En(Ui),Pi=En(Ui);function In(e){if(e===Ui)throw Error(P(174));return e}function jc(e,t){switch(ee(Pi,t),ee(ji,e),ee(Pt,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xa(t,e)}ne(Pt),ee(Pt,t)}function Er(){ne(Pt),ne(ji),ne(Pi)}function xh(e){In(Pi.current);var t=In(Pt.current),n=Xa(t,e.type);t!==n&&(ee(ji,e),ee(Pt,n))}function Pc(e){ji.current===e&&(ne(Pt),ne(ji))}var le=En(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function Lc(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var bo=Zt.ReactCurrentDispatcher,fa=Zt.ReactCurrentBatchConfig,Un=0,ce=null,Ce=null,be=null,us=!1,li=!1,Li=0,G0=0;function Le(){throw Error(P(321))}function Dc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Oc(e,t,n,r,i,o){if(Un=o,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bo.current=e===null||e.memoizedState===null?q0:Z0,e=n(r,i),li){o=0;do{if(li=!1,Li=0,25<=o)throw Error(P(301));o+=1,be=Ce=null,t.updateQueue=null,bo.current=ey,e=n(r,i)}while(li)}if(bo.current=ds,t=Ce!==null&&Ce.next!==null,Un=0,be=Ce=ce=null,us=!1,t)throw Error(P(300));return e}function Mc(){var e=Li!==0;return Li=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=e:be=be.next=e,be}function mt(){if(Ce===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=be===null?ce.memoizedState:be.next;if(t!==null)be=t,Ce=e;else{if(e===null)throw Error(P(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},be===null?ce.memoizedState=be=e:be=be.next=e}return be}function Di(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Un&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ce.lanes|=d,Vn|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,bt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ce.lanes|=o,Vn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);bt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function kh(){}function _h(e,t){var n=ce,r=mt(),i=t(),o=!bt(r.memoizedState,i);if(o&&(r.memoizedState=i,Qe=!0),r=r.queue,Ic(wh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Oi(9,Ch.bind(null,n,r,i,t),void 0,null),Ee===null)throw Error(P(349));Un&30||Sh(n,t,i)}return i}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ch(e,t,n,r){t.value=n,t.getSnapshot=r,bh(t)&&Eh(e)}function wh(e,t,n){return n(function(){bh(t)&&Eh(e)})}function bh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Eh(e){var t=Kt(e,1);t!==null&&wt(t,e,1,-1)}function rd(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=J0.bind(null,ce,e),[t.memoizedState,e]}function Oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Th(){return mt().memoizedState}function Eo(e,t,n,r){var i=Rt();ce.flags|=e,i.memoizedState=Oi(1|t,n,void 0,r===void 0?null:r)}function Ls(e,t,n,r){var i=mt();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var s=Ce.memoizedState;if(o=s.destroy,r!==null&&Dc(r,s.deps)){i.memoizedState=Oi(t,n,o,r);return}}ce.flags|=e,i.memoizedState=Oi(1|t,n,o,r)}function id(e,t){return Eo(8390656,8,e,t)}function Ic(e,t){return Ls(2048,8,e,t)}function Rh(e,t){return Ls(4,2,e,t)}function Nh(e,t){return Ls(4,4,e,t)}function jh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ph(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4,4,jh.bind(null,t,e),n)}function Ac(){}function Lh(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dh(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oh(e,t,n){return Un&21?(bt(n,t)||(n=Bf(),ce.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function K0(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Z=n,fa.transition=r}}function Mh(){return mt().memoizedState}function Q0(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(e))Ah(t,n);else if(n=yh(e,t,n,r),n!==null){var i=Ue();wt(n,e,r,i),$h(n,t,r)}}function J0(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))Ah(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bt(a,s)){var l=t.interleaved;l===null?(i.next=i,Rc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=yh(e,t,i,r),n!==null&&(i=Ue(),wt(n,e,r,i),$h(n,t,r))}}function Ih(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Ah(e,t){li=us=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $h(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pc(e,n)}}var ds={readContext:pt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},q0={readContext:pt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:id,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eo(4194308,4,jh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eo(4,2,e,t)},useMemo:function(e,t){var n=Rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Q0.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:rd,useDebugValue:Ac,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=rd(!1),t=e[0];return e=K0.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,i=Rt();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ee===null)throw Error(P(349));Un&30||Sh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,id(wh.bind(null,r,o,e),[e]),r.flags|=2048,Oi(9,Ch.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Rt(),t=Ee.identifierPrefix;if(oe){var n=Vt,r=Ut;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=G0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Z0={readContext:pt,useCallback:Lh,useContext:pt,useEffect:Ic,useImperativeHandle:Ph,useInsertionEffect:Rh,useLayoutEffect:Nh,useMemo:Dh,useReducer:ha,useRef:Th,useState:function(){return ha(Di)},useDebugValue:Ac,useDeferredValue:function(e){var t=mt();return Oh(t,Ce.memoizedState,e)},useTransition:function(){var e=ha(Di)[0],t=mt().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:_h,useId:Mh,unstable_isNewReconciler:!1},ey={readContext:pt,useCallback:Lh,useContext:pt,useEffect:Ic,useImperativeHandle:Ph,useInsertionEffect:Rh,useLayoutEffect:Nh,useMemo:Dh,useReducer:pa,useRef:Th,useState:function(){return pa(Di)},useDebugValue:Ac,useDeferredValue:function(e){var t=mt();return Ce===null?t.memoizedState=e:Oh(t,Ce.memoizedState,e)},useTransition:function(){var e=pa(Di)[0],t=mt().memoizedState;return[e,t]},useMutableSource:kh,useSyncExternalStore:_h,useId:Mh,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ds={isMounted:function(e){return(e=e._reactInternals)?Yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),i=xn(e),o=Wt(r,i);o.payload=t,n!=null&&(o.callback=n),t=yn(e,o,i),t!==null&&(wt(t,e,i,r),wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),i=xn(e),o=Wt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=yn(e,o,i),t!==null&&(wt(t,e,i,r),wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=xn(e),i=Wt(n,r);i.tag=2,t!=null&&(i.callback=t),t=yn(e,i,r),t!==null&&(wt(t,e,r,n),wo(t,e,r))}};function od(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ei(n,r)||!Ei(i,o):!0}function Bh(e,t,n){var r=!1,i=wn,o=t.contextType;return typeof o=="object"&&o!==null?o=pt(o):(i=qe(t)?Fn:Ae.current,r=t.contextTypes,o=(r=r!=null)?Cr(e,i):wn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ds,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function sd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ds.enqueueReplaceState(t,t.state,null)}function ml(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Nc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pt(o):(o=qe(t)?Fn:Ae.current,i.context=Cr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ds.enqueueReplaceState(i,i.state,null),ls(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Tr(e,t){try{var n="",r=t;do n+=Rg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ty=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hs||(hs=!0,El=r),gl(e,t)},n}function zh(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gl(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ad(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ty;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=my.bind(null,e,t,n),t.then(e,e))}function ld(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,yn(n,t,1))),n.lanes|=1),e)}var ny=Zt.ReactCurrentOwner,Qe=!1;function ze(e,t,n,r){t.child=e===null?gh(t,null,n,r):br(t,e.child,n,r)}function ud(e,t,n,r,i){n=n.render;var o=t.ref;return vr(t,i),r=Oc(e,t,n,r,o,i),n=Mc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(oe&&n&&Sc(t),t.flags|=1,ze(e,t,r,i),t.child)}function dd(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Hc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Uh(e,t,o,r,i)):(e=jo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(s,r)&&e.ref===t.ref)return Qt(e,t,i)}return t.flags|=1,e=kn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ei(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Qt(e,t,i)}return yl(e,t,n,r,i)}function Vh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(fr,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(fr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(fr,nt),nt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ee(fr,nt),nt|=r;return ze(e,t,i,n),t.child}function Wh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yl(e,t,n,r,i){var o=qe(n)?Fn:Ae.current;return o=Cr(t,o),vr(t,i),n=Oc(e,t,n,r,o,i),r=Mc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(oe&&r&&Sc(t),t.flags|=1,ze(e,t,n,i),t.child)}function fd(e,t,n,r,i){if(qe(n)){var o=!0;rs(t)}else o=!1;if(vr(t,i),t.stateNode===null)To(e,t),Bh(t,n,r),ml(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=qe(n)?Fn:Ae.current,c=Cr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sd(t,s,r,c),rn=!1;var h=t.memoizedState;s.state=h,ls(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Je.current||rn?(typeof d=="function"&&(pl(t,n,d,r),l=t.memoizedState),(a=rn||od(t,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vt(t.type,a),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=qe(n)?Fn:Ae.current,l=Cr(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&sd(t,s,r,l),rn=!1,h=t.memoizedState,s.state=h,ls(t,r,s,i);var x=t.memoizedState;a!==f||h!==x||Je.current||rn?(typeof y=="function"&&(pl(t,n,y,r),x=t.memoizedState),(c=rn||od(t,n,c,r,h,x,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vl(e,t,n,r,o,i)}function vl(e,t,n,r,i,o){Wh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ju(t,n,!1),Qt(e,t,o);r=t.stateNode,ny.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=br(t,e.child,null,o),t.child=br(t,null,a,o)):ze(e,t,a,o),t.memoizedState=r.state,i&&Ju(t,n,!0),t.child}function Hh(e){var t=e.stateNode;t.pendingContext?Qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qu(e,t.context,!1),jc(e,t.containerInfo)}function hd(e,t,n,r,i){return wr(),wc(i),t.flags|=256,ze(e,t,n,r),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yh(e,t,n){var r=t.pendingProps,i=le.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(le,i&1),e===null)return fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Is(s,r,0,null),e=$n(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=kl(n),t.memoizedState=xl,e):$c(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ry(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=kn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kn(a,o):(o=$n(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?kl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=xl,r}return o=e.child,e=o.sibling,r=kn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $c(e,t){return t=Is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,n,r){return r!==null&&wc(r),br(t,e.child,null,n),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ry(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ma(Error(P(422))),ao(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Is({mode:"visible",children:r.children},i,0,null),o=$n(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&br(t,e.child,null,s),t.child.memoizedState=kl(s),t.memoizedState=xl,o);if(!(t.mode&1))return ao(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(P(419)),r=ma(o,r,void 0),ao(e,t,s,r)}if(a=(s&e.childLanes)!==0,Qe||a){if(r=Ee,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kt(e,i),wt(r,e,i,-1))}return Wc(),r=ma(Error(P(421))),ao(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gy.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rt=gn(i.nextSibling),it=t,oe=!0,St=null,e!==null&&(ct[ut++]=Ut,ct[ut++]=Vt,ct[ut++]=zn,Ut=e.id,Vt=e.overflow,zn=t),t=$c(t,r.children),t.flags|=4096,t)}function pd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hl(e.return,t,n)}function ga(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Xh(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ze(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pd(e,n,t);else if(e.tag===19)pd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(le,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ga(t,!0,n,null,o);break;case"together":ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function To(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iy(e,t,n){switch(t.tag){case 3:Hh(t),wr();break;case 5:xh(t);break;case 1:qe(t.type)&&rs(t);break;case 4:jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(ss,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Yh(e,t,n):(ee(le,le.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Vh(e,t,n)}return Qt(e,t,n)}var Gh,_l,Kh,Qh;Gh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_l=function(){};Kh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,In(Pt.current);var o=null;switch(n){case"input":i=Va(e,i),r=Va(e,r),o=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":i=Ya(e,i),r=Ya(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ts)}Ga(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&te("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Qh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oy(e,t,n){var r=t.pendingProps;switch(Cc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return qe(t.type)&&ns(),De(t),null;case 3:return r=t.stateNode,Er(),ne(Je),ne(Ae),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Nl(St),St=null))),_l(e,t),De(t),null;case 5:Pc(t);var i=In(Pi.current);if(n=t.type,e!==null&&t.stateNode!=null)Kh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return De(t),null}if(e=In(Pt.current),oo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nt]=t,r[Ni]=o,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<Jr.length;i++)te(Jr[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Cu(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":bu(r,o),te("invalid",r)}Ga(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&io(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&io(r.textContent,a,e),i=["children",""+a]):xi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Qi(r),wu(r,o,!0);break;case"textarea":Qi(r),Eu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ts)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nt]=t,e[Ni]=r,Gh(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ka(n,r),n){case"dialog":te("cancel",e),te("close",e),i=r;break;case"iframe":case"object":case"embed":te("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jr.length;i++)te(Jr[i],e);i=r;break;case"source":te("error",e),i=r;break;case"img":case"image":case"link":te("error",e),te("load",e),i=r;break;case"details":te("toggle",e),i=r;break;case"input":Cu(e,r),i=Va(e,r),te("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),te("invalid",e);break;case"textarea":bu(e,r),i=Ya(e,r),te("invalid",e);break;default:i=r}Ga(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Tf(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bf(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ki(e,l):typeof l=="number"&&ki(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&te("scroll",e):l!=null&&lc(e,o,l,s))}switch(n){case"input":Qi(e),wu(e,r,!1);break;case"textarea":Qi(e),Eu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?pr(e,!!r.multiple,o,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Qh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=In(Pi.current),In(Pt.current),oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(o=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:io(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&io(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return De(t),null;case 13:if(ne(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&rt!==null&&t.mode&1&&!(t.flags&128))ph(),wr(),t.flags|=98560,o=!1;else if(o=oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[Nt]=t}else wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else St!==null&&(Nl(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?we===0&&(we=3):Wc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Er(),_l(e,t),e===null&&Ti(t.stateNode.containerInfo),De(t),null;case 10:return Tc(t.type._context),De(t),null;case 17:return qe(t.type)&&ns(),De(t),null;case 19:if(ne(le),o=t.memoizedState,o===null)return De(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Vr(o,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=cs(e),s!==null){for(t.flags|=128,Vr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}o.tail!==null&&ge()>Rr&&(t.flags|=128,r=!0,Vr(o,!1),t.lanes=4194304)}else{if(!r)if(e=cs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!oe)return De(t),null}else 2*ge()-o.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Vr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ge(),t.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Vc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function sy(e,t){switch(Cc(t),t.tag){case 1:return qe(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),ne(Je),ne(Ae),Lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pc(t),null;case 13:if(ne(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(le),null;case 4:return Er(),null;case 10:return Tc(t.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var lo=!1,Ie=!1,ay=typeof WeakSet=="function"?WeakSet:Set,$=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Sl(e,t,n){try{n()}catch(r){me(e,t,r)}}var md=!1;function ly(e,t){if(ol=qo,e=th(),_c(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sl={focusedElem:e,selectionRange:n},qo=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,T=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:vt(t.type,_),T);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){me(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=md,md=!1,x}function ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sl(t,n,o)}i=i.next}while(i!==r)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jh(e){var t=e.alternate;t!==null&&(e.alternate=null,Jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Ni],delete t[cl],delete t[W0],delete t[H0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qh(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ts));else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}var Ne=null,xt=!1;function tn(e,t,n){for(n=n.child;n!==null;)Zh(e,t,n),n=n.sibling}function Zh(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Es,n)}catch{}switch(n.tag){case 5:Ie||dr(n,t);case 6:var r=Ne,i=xt;Ne=null,tn(e,t,n),Ne=r,xt=i,Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(xt?(e=Ne,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),wi(e)):ca(Ne,n.stateNode));break;case 4:r=Ne,i=xt,Ne=n.stateNode.containerInfo,xt=!0,tn(e,t,n),Ne=r,xt=i;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sl(n,t,s),i=i.next}while(i!==r)}tn(e,t,n);break;case 1:if(!Ie&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,t,a)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,tn(e,t,n),Ie=r):tn(e,t,n);break;default:tn(e,t,n)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ay),t.forEach(function(r){var i=yy.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,xt=!1;break e;case 3:Ne=a.stateNode.containerInfo,xt=!0;break e;case 4:Ne=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(Ne===null)throw Error(P(160));Zh(o,s,i),Ne=null,xt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){me(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ep(t,e),t=t.sibling}function ep(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Tt(e),r&4){try{ci(3,e,e.return),Os(3,e)}catch(_){me(e,e.return,_)}try{ci(5,e,e.return)}catch(_){me(e,e.return,_)}}break;case 1:gt(t,e),Tt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(gt(t,e),Tt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var i=e.stateNode;try{ki(i,"")}catch(_){me(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Sf(i,o),Ka(a,s);var c=Ka(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?Tf(i,f):d==="dangerouslySetInnerHTML"?bf(i,f):d==="children"?ki(i,f):lc(i,d,f,c)}switch(a){case"input":Wa(i,o);break;case"textarea":Cf(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?pr(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?pr(i,!!o.multiple,o.defaultValue,!0):pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ni]=o}catch(_){me(e,e.return,_)}}break;case 6:if(gt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){me(e,e.return,_)}}break;case 3:if(gt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(_){me(e,e.return,_)}break;case 4:gt(t,e),Tt(e);break;case 13:gt(t,e),Tt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zc=ge())),r&4&&yd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,gt(t,e),Ie=c):gt(t,e),Tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,y=h.child,h.tag){case 0:case 11:case 14:case 15:ci(4,h,h.return);break;case 1:dr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){me(r,n,_)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){xd(f);continue}}y!==null?(y.return=h,$=y):xd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ef("display",s))}catch(_){me(e,e.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){me(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),Tt(e),r&4&&yd(e);break;case 21:break;default:gt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ki(i,""),r.flags&=-33);var o=gd(e);bl(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=gd(e);wl(e,a,s);break;default:throw Error(P(161))}}catch(l){me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cy(e,t,n){$=e,tp(e)}function tp(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||lo;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=lo;var c=Ie;if(lo=s,(Ie=l)&&!c)for($=i;$!==null;)s=$,l=s.child,s.tag===22&&s.memoizedState!==null?kd(i):l!==null?(l.return=s,$=l):kd(i);for(;o!==null;)$=o,tp(o),o=o.sibling;$=i,lo=a,Ie=c}vd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):vd(e)}}function vd(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&nd(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nd(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ie||t.flags&512&&Cl(t)}catch(h){me(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function xd(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function kd(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Os(4,t)}catch(l){me(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){me(t,i,l)}}var o=t.return;try{Cl(t)}catch(l){me(t,o,l)}break;case 5:var s=t.return;try{Cl(t)}catch(l){me(t,s,l)}}}catch(l){me(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var uy=Math.ceil,fs=Zt.ReactCurrentDispatcher,Bc=Zt.ReactCurrentOwner,ht=Zt.ReactCurrentBatchConfig,J=0,Ee=null,ke=null,je=0,nt=0,fr=En(0),we=0,Mi=null,Vn=0,Ms=0,Fc=0,ui=null,Ge=null,zc=0,Rr=1/0,Ft=null,hs=!1,El=null,vn=null,co=!1,un=null,ps=0,di=0,Tl=null,Ro=-1,No=0;function Ue(){return J&6?ge():Ro!==-1?Ro:Ro=ge()}function xn(e){return e.mode&1?J&2&&je!==0?je&-je:X0.transition!==null?(No===0&&(No=Bf()),No):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Yf(e.type)),e):1}function wt(e,t,n,r){if(50<di)throw di=0,Tl=null,Error(P(185));Bi(e,n,r),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(Ms|=n),we===4&&an(e,je)),Ze(e,r),n===1&&J===0&&!(t.mode&1)&&(Rr=ge()+500,Ps&&Tn()))}function Ze(e,t){var n=e.callbackNode;Xg(e,t);var r=Jo(e,e===Ee?je:0);if(r===0)n!==null&&Nu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nu(n),t===1)e.tag===0?Y0(_d.bind(null,e)):dh(_d.bind(null,e)),U0(function(){!(J&6)&&Tn()}),n=null;else{switch(Ff(r)){case 1:n=hc;break;case 4:n=Af;break;case 16:n=Qo;break;case 536870912:n=$f;break;default:n=Qo}n=cp(n,np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function np(e,t){if(Ro=-1,No=0,J&6)throw Error(P(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=Jo(e,e===Ee?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ms(e,r);else{t=r;var i=J;J|=2;var o=ip();(Ee!==e||je!==t)&&(Ft=null,Rr=ge()+500,An(e,t));do try{hy();break}catch(a){rp(e,a)}while(!0);Ec(),fs.current=o,J=i,ke!==null?t=0:(Ee=null,je=0,t=we)}if(t!==0){if(t===2&&(i=el(e),i!==0&&(r=i,t=Rl(e,i))),t===1)throw n=Mi,An(e,0),an(e,r),Ze(e,ge()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!dy(i)&&(t=ms(e,r),t===2&&(o=el(e),o!==0&&(r=o,t=Rl(e,o))),t===1))throw n=Mi,An(e,0),an(e,r),Ze(e,ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Pn(e,Ge,Ft);break;case 3:if(an(e,r),(r&130023424)===r&&(t=zc+500-ge(),10<t)){if(Jo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ll(Pn.bind(null,e,Ge,Ft),t);break}Pn(e,Ge,Ft);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ct(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uy(r/1960))-r,10<r){e.timeoutHandle=ll(Pn.bind(null,e,Ge,Ft),r);break}Pn(e,Ge,Ft);break;case 5:Pn(e,Ge,Ft);break;default:throw Error(P(329))}}}return Ze(e,ge()),e.callbackNode===n?np.bind(null,e):null}function Rl(e,t){var n=ui;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=ms(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Nl(t)),e}function Nl(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function dy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Fc,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function _d(e){if(J&6)throw Error(P(327));xr();var t=Jo(e,0);if(!(t&1))return Ze(e,ge()),null;var n=ms(e,t);if(e.tag!==0&&n===2){var r=el(e);r!==0&&(t=r,n=Rl(e,r))}if(n===1)throw n=Mi,An(e,0),an(e,t),Ze(e,ge()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,Ge,Ft),Ze(e,ge()),null}function Uc(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Rr=ge()+500,Ps&&Tn())}}function Wn(e){un!==null&&un.tag===0&&!(J&6)&&xr();var t=J;J|=1;var n=ht.transition,r=Z;try{if(ht.transition=null,Z=1,e)return e()}finally{Z=r,ht.transition=n,J=t,!(J&6)&&Tn()}}function Vc(){nt=fr.current,ne(fr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,z0(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:Er(),ne(Je),ne(Ae),Lc();break;case 5:Pc(r);break;case 4:Er();break;case 13:ne(le);break;case 19:ne(le);break;case 10:Tc(r.type._context);break;case 22:case 23:Vc()}n=n.return}if(Ee=e,ke=e=kn(e.current,null),je=nt=t,we=0,Mi=null,Fc=Ms=Vn=0,Ge=ui=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Mn=null}return e}function rp(e,t){do{var n=ke;try{if(Ec(),bo.current=ds,us){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}us=!1}if(Un=0,be=Ce=ce=null,li=!1,Li=0,Bc.current=null,n===null||n.return===null){we=1,Mi=t,ke=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ld(s);if(y!==null){y.flags&=-257,cd(y,s,a,o,t),y.mode&1&&ad(o,c,t),t=y,l=c;var x=t.updateQueue;if(x===null){var _=new Set;_.add(l),t.updateQueue=_}else x.add(l);break e}else{if(!(t&1)){ad(o,c,t),Wc();break e}l=Error(P(426))}}else if(oe&&a.mode&1){var T=ld(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),cd(T,s,a,o,t),wc(Tr(l,a));break e}}o=l=Tr(l,a),we!==4&&(we=2),ui===null?ui=[o]:ui.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Fh(o,l,t);td(o,g);break e;case 1:a=l;var m=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(vn===null||!vn.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=zh(o,a,t);td(o,S);break e}}o=o.return}while(o!==null)}sp(n)}catch(b){t=b,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function ip(){var e=fs.current;return fs.current=ds,e===null?ds:e}function Wc(){(we===0||we===3||we===2)&&(we=4),Ee===null||!(Vn&268435455)&&!(Ms&268435455)||an(Ee,je)}function ms(e,t){var n=J;J|=2;var r=ip();(Ee!==e||je!==t)&&(Ft=null,An(e,t));do try{fy();break}catch(i){rp(e,i)}while(!0);if(Ec(),J=n,fs.current=r,ke!==null)throw Error(P(261));return Ee=null,je=0,we}function fy(){for(;ke!==null;)op(ke)}function hy(){for(;ke!==null&&!$g();)op(ke)}function op(e){var t=lp(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?sp(e):ke=t,Bc.current=null}function sp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sy(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ke=null;return}}else if(n=oy(n,t,nt),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);we===0&&(we=5)}function Pn(e,t,n){var r=Z,i=ht.transition;try{ht.transition=null,Z=1,py(e,t,n,r)}finally{ht.transition=i,Z=r}return null}function py(e,t,n,r){do xr();while(un!==null);if(J&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Gg(e,o),e===Ee&&(ke=Ee=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||co||(co=!0,cp(Qo,function(){return xr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ht.transition,ht.transition=null;var s=Z;Z=1;var a=J;J|=4,Bc.current=null,ly(e,n),ep(n,e),O0(sl),qo=!!ol,sl=ol=null,e.current=n,cy(n),Bg(),J=a,Z=s,ht.transition=o}else e.current=n;if(co&&(co=!1,un=e,ps=i),o=e.pendingLanes,o===0&&(vn=null),Ug(n.stateNode),Ze(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hs)throw hs=!1,e=El,El=null,e;return ps&1&&e.tag!==0&&xr(),o=e.pendingLanes,o&1?e===Tl?di++:(di=0,Tl=e):di=0,Tn(),null}function xr(){if(un!==null){var e=Ff(ps),t=ht.transition,n=Z;try{if(ht.transition=null,Z=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,ps=0,J&6)throw Error(P(331));var i=J;for(J|=4,$=e.current;$!==null;){var o=$,s=o.child;if($.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ci(8,d,o)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,y=d.return;if(Jh(d),d===c){$=null;break}if(h!==null){h.return=y,$=h;break}$=y}}}var x=o.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}$=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$=s;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ci(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,$=g;break e}$=o.return}}var m=e.current;for($=m;$!==null;){s=$;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,$=p;else e:for(s=m;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Os(9,a)}}catch(b){me(a,a.return,b)}if(a===s){$=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,$=S;break e}$=a.return}}if(J=i,Tn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Es,e)}catch{}r=!0}return r}finally{Z=n,ht.transition=t}}return!1}function Sd(e,t,n){t=Tr(n,t),t=Fh(e,t,1),e=yn(e,t,1),t=Ue(),e!==null&&(Bi(e,1,t),Ze(e,t))}function me(e,t,n){if(e.tag===3)Sd(e,e,n);else for(;t!==null;){if(t.tag===3){Sd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=Tr(n,e),e=zh(t,e,1),t=yn(t,e,1),e=Ue(),t!==null&&(Bi(t,1,e),Ze(t,e));break}}t=t.return}}function my(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(je&n)===n&&(we===4||we===3&&(je&130023424)===je&&500>ge()-zc?An(e,0):Fc|=n),Ze(e,t)}function ap(e,t){t===0&&(e.mode&1?(t=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):t=1);var n=Ue();e=Kt(e,t),e!==null&&(Bi(e,t,n),Ze(e,n))}function gy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ap(e,n)}function yy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),ap(e,n)}var lp;lp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,iy(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,oe&&t.flags&1048576&&fh(t,os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;To(e,t),e=t.pendingProps;var i=Cr(t,Ae.current);vr(t,n),i=Oc(null,t,r,e,i,n);var o=Mc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(o=!0,rs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nc(t),i.updater=Ds,t.stateNode=i,i._reactInternals=t,ml(t,r,e,n),t=vl(null,t,r,!0,o,n)):(t.tag=0,oe&&o&&Sc(t),ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(To(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xy(r),e=vt(r,e),i){case 0:t=yl(null,t,r,e,n);break e;case 1:t=fd(null,t,r,e,n);break e;case 11:t=ud(null,t,r,e,n);break e;case 14:t=dd(null,t,r,vt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),yl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),fd(e,t,r,i,n);case 3:e:{if(Hh(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vh(e,t),ls(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Tr(Error(P(423)),t),t=hd(e,t,r,n,i);break e}else if(r!==i){i=Tr(Error(P(424)),t),t=hd(e,t,r,n,i);break e}else for(rt=gn(t.stateNode.containerInfo.firstChild),it=t,oe=!0,St=null,n=gh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===i){t=Qt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return xh(t),e===null&&fl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,al(r,i)?s=null:o!==null&&al(r,o)&&(t.flags|=32),Wh(e,t),ze(e,t,s,n),t.child;case 6:return e===null&&fl(t),null;case 13:return Yh(e,t,n);case 4:return jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=br(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),ud(e,t,r,i,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ee(ss,r._currentValue),r._currentValue=s,o!==null)if(bt(o.value,s)){if(o.children===i.children&&!Je.current){t=Qt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wt(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hl(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),hl(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vr(t,n),i=pt(i),r=r(i),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,i=vt(r,t.pendingProps),i=vt(r.type,i),dd(e,t,r,i,n);case 15:return Uh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),To(e,t),t.tag=1,qe(r)?(e=!0,rs(t)):e=!1,vr(t,n),Bh(t,r,i),ml(t,r,i,n),vl(null,t,r,!0,e,n);case 19:return Xh(e,t,n);case 22:return Vh(e,t,n)}throw Error(P(156,t.tag))};function cp(e,t){return If(e,t)}function vy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new vy(e,t,n,r)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xy(e){if(typeof e=="function")return Hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uc)return 11;if(e===dc)return 14}return 2}function kn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jo(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Hc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case nr:return $n(n.children,i,o,t);case cc:s=8,i|=8;break;case Ba:return e=ft(12,n,t,i|2),e.elementType=Ba,e.lanes=o,e;case Fa:return e=ft(13,n,t,i),e.elementType=Fa,e.lanes=o,e;case za:return e=ft(19,n,t,i),e.elementType=za,e.lanes=o,e;case xf:return Is(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yf:s=10;break e;case vf:s=9;break e;case uc:s=11;break e;case dc:s=14;break e;case nn:s=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=ft(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function $n(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Is(e,t,n,r){return e=ft(22,e,r,t),e.elementType=xf,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function va(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ky(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qs(0),this.expirationTimes=qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,i,o,s,a,l){return e=new ky(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ft(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(o),e}function _y(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function up(e){if(!e)return wn;e=e._reactInternals;e:{if(Yn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(qe(n))return uh(e,n,t)}return t}function dp(e,t,n,r,i,o,s,a,l){return e=Yc(n,r,!0,e,i,o,s,a,l),e.context=up(null),n=e.current,r=Ue(),i=xn(n),o=Wt(r,i),o.callback=t??null,yn(n,o,i),e.current.lanes=i,Bi(e,i,r),Ze(e,r),e}function As(e,t,n,r){var i=t.current,o=Ue(),s=xn(i);return n=up(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yn(i,t,s),e!==null&&(wt(e,i,s,o),wo(e,i,s)),s}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function Sy(){return null}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}$s.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));As(e,t,null,null)};$s.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){As(null,e,null,null)}),t[Gt]=null}};function $s(e){this._internalRoot=e}$s.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Hf(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Cy(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gs(s);o.call(c)}}var s=dp(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=s,e[Gt]=s.current,Ti(e.nodeType===8?e.parentNode:e),Wn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gs(l);a.call(c)}}var l=Yc(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=l,e[Gt]=l.current,Ti(e.nodeType===8?e.parentNode:e),Wn(function(){As(t,l,n,r)}),l}function Fs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gs(s);a.call(l)}}As(t,s,e,i)}else s=Cy(n,t,e,i,r);return gs(s)}zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(pc(t,n|1),Ze(t,ge()),!(J&6)&&(Rr=ge()+500,Tn()))}break;case 13:Wn(function(){var r=Kt(e,1);if(r!==null){var i=Ue();wt(r,e,1,i)}}),Xc(e,1)}};mc=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=Ue();wt(t,e,134217728,n)}Xc(e,134217728)}};Uf=function(e){if(e.tag===13){var t=xn(e),n=Kt(e,t);if(n!==null){var r=Ue();wt(n,e,t,r)}Xc(e,t)}};Vf=function(){return Z};Wf=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};Ja=function(e,t,n){switch(t){case"input":if(Wa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=js(r);if(!i)throw Error(P(90));_f(r),Wa(r,i)}}}break;case"textarea":Cf(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};jf=Uc;Pf=Wn;var wy={usingClientEntryPoint:!1,Events:[zi,sr,js,Rf,Nf,Uc]},Wr={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},by={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Of(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||Sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Es=uo.inject(by),jt=uo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wy;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(P(200));return _y(e,t,null,n)};st.createRoot=function(e,t){if(!Kc(e))throw Error(P(299));var n=!1,r="",i=fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Yc(e,1,!1,null,null,n,!1,r,i),e[Gt]=t.current,Ti(e.nodeType===8?e.parentNode:e),new Gc(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Of(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Wn(e)};st.hydrate=function(e,t,n){if(!Bs(t))throw Error(P(200));return Fs(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dp(t,null,e,1,n??null,i,!1,o,s),e[Gt]=t.current,Ti(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $s(t)};st.render=function(e,t,n){if(!Bs(t))throw Error(P(200));return Fs(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Bs(e))throw Error(P(40));return e._reactRootContainer?(Wn(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};st.unstable_batchedUpdates=Uc;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bs(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Fs(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(e){console.error(e)}}hp(),hf.exports=st;var Ey=hf.exports,bd=Ey;Aa.createRoot=bd.createRoot,Aa.hydrateRoot=bd.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ed="popstate";function Ty(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return jl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ii(i)}return Ny(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ot(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ry(){return Math.random().toString(36).substring(2,10)}function Td(e,t){return{usr:e.state,key:e.key,idx:t}}function jl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dr(t):t,state:n,key:t&&t.key||r||Ry()}}function Ii({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ny(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function f(){a="POP";let T=d(),g=T==null?null:T-c;c=T,l&&l({action:a,location:_.location,delta:g})}function h(T,g){a="PUSH";let m=jl(_.location,T,g);c=d()+1;let p=Td(m,c),S=_.createHref(m);try{s.pushState(p,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(S)}o&&l&&l({action:a,location:_.location,delta:1})}function y(T,g){a="REPLACE";let m=jl(_.location,T,g);c=d();let p=Td(m,c),S=_.createHref(m);s.replaceState(p,"",S),o&&l&&l({action:a,location:_.location,delta:0})}function x(T){return jy(T)}let _={get action(){return a},get location(){return e(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ed,f),l=T,()=>{i.removeEventListener(Ed,f),l=null}},createHref(T){return t(i,T)},createURL:x,encodeLocation(T){let g=x(T);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:y,go(T){return s.go(T)}};return _}function jy(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ii(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pp(e,t,n="/"){return Py(e,t,n,!1)}function Py(e,t,n,r){let i=typeof t=="string"?Dr(t):t,o=Jt(i.pathname||"/",n);if(o==null)return null;let s=mp(e);Ly(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Vy(o);a=zy(s[l],c,r)}return a}function mp(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Ht([r,d.relativePath]),h=n.concat(d);s.children&&s.children.length>0&&(ue(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),mp(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:By(f,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let c of gp(s.path))o(s,a,!0,c)}),t}function gp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=gp(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ly(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Dy=/^:[\w-]+$/,Oy=3,My=2,Iy=1,Ay=10,$y=-2,Rd=e=>e==="*";function By(e,t){let n=e.split("/"),r=n.length;return n.some(Rd)&&(r+=$y),t&&(r+=My),n.filter(i=>!Rd(i)).reduce((i,o)=>i+(Dy.test(o)?Oy:o===""?Iy:Ay),r)}function Fy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zy(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ys({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ys({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ht([o,f.pathname]),pathnameBase:Xy(Ht([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ht([o,f.pathnameBase]))}return s}function ys(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Uy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let x=a[h]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[h];return f&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function Uy(e,t=!1,n=!0){Ot(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Vy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ot(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Wy(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Dr(e):e;return{pathname:n?n.startsWith("/")?n:Hy(n,t):t,search:Gy(r),hash:Ky(i)}}function Hy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yp(e){let t=Yy(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function vp(e,t,n,r=!1){let i;typeof e=="string"?i=Dr(e):(i={...e},ue(!i.pathname||!i.pathname.includes("?"),xa("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),xa("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),xa("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Wy(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Ht=e=>e.join("/").replace(/\/\/+/g,"/"),Xy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ky=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var xp=["POST","PUT","PATCH","DELETE"];new Set(xp);var Jy=["GET",...xp];new Set(Jy);var Or=v.createContext(null);Or.displayName="DataRouter";var zs=v.createContext(null);zs.displayName="DataRouterState";v.createContext(!1);var kp=v.createContext({isTransitioning:!1});kp.displayName="ViewTransition";var qy=v.createContext(new Map);qy.displayName="Fetchers";var Zy=v.createContext(null);Zy.displayName="Await";var At=v.createContext(null);At.displayName="Navigation";var Vi=v.createContext(null);Vi.displayName="Location";var $t=v.createContext({outlet:null,matches:[],isDataRoute:!1});$t.displayName="Route";var Qc=v.createContext(null);Qc.displayName="RouteError";function ev(e,{relative:t}={}){ue(Wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(At),{hash:i,pathname:o,search:s}=Hi(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Ht([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Wi(){return v.useContext(Vi)!=null}function Xn(){return ue(Wi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Vi).location}var _p="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sp(e){v.useContext(At).static||v.useLayoutEffect(e)}function Cp(){let{isDataRoute:e}=v.useContext($t);return e?pv():tv()}function tv(){ue(Wi(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Or),{basename:t,navigator:n}=v.useContext(At),{matches:r}=v.useContext($t),{pathname:i}=Xn(),o=JSON.stringify(yp(r)),s=v.useRef(!1);return Sp(()=>{s.current=!0}),v.useCallback((l,c={})=>{if(Ot(s.current,_p),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=vp(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ht([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}v.createContext(null);function nv(){let{matches:e}=v.useContext($t),t=e[e.length-1];return t?t.params:{}}function Hi(e,{relative:t}={}){let{matches:n}=v.useContext($t),{pathname:r}=Xn(),i=JSON.stringify(yp(n));return v.useMemo(()=>vp(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function rv(e,t){return wp(e,t)}function wp(e,t,n,r,i){var m;ue(Wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(At),{matches:s}=v.useContext($t),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let p=f&&f.path||"";bp(c,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Xn(),y;if(t){let p=typeof t=="string"?Dr(t):t;ue(d==="/"||((m=p.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),y=p}else y=h;let x=y.pathname||"/",_=x;if(d!=="/"){let p=d.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(p.length).join("/")}let T=pp(e,{pathname:_});Ot(f||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ot(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=lv(T&&T.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Ht([d,o.encodeLocation?o.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Ht([d,o.encodeLocation?o.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),s,n,r,i);return t&&g?v.createElement(Vi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},g):g}function iv(){let e=hv(),t=Qy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,s)}var ov=v.createElement(iv,null),sv=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement($t.Provider,{value:this.props.routeContext},v.createElement(Qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function av({routeContext:e,match:t,children:n}){let r=v.useContext(Or);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement($t.Provider,{value:e},n)}function lv(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n==null?void 0:n.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ue(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=n,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let h,y=!1,x=null,_=null;n&&(h=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||ov,a&&(l<0&&f===0?(bp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):l===f&&(y=!0,_=d.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,f+1)),g=()=>{let m;return h?m=x:y?m=_:d.route.Component?m=v.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,v.createElement(av,{match:d,routeContext:{outlet:c,matches:T,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(sv,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:g(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):g()},null)}function Jc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cv(e){let t=v.useContext(Or);return ue(t,Jc(e)),t}function uv(e){let t=v.useContext(zs);return ue(t,Jc(e)),t}function dv(e){let t=v.useContext($t);return ue(t,Jc(e)),t}function qc(e){let t=dv(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fv(){return qc("useRouteId")}function hv(){var r;let e=v.useContext(Qc),t=uv("useRouteError"),n=qc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function pv(){let{router:e}=cv("useNavigate"),t=qc("useNavigate"),n=v.useRef(!1);return Sp(()=>{n.current=!0}),v.useCallback(async(i,o={})=>{Ot(n.current,_p),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Nd={};function bp(e,t,n){!t&&!Nd[e]&&(Nd[e]=!0,Ot(!1,n))}v.memo(mv);function mv({routes:e,future:t,state:n,unstable_onError:r}){return wp(e,void 0,n,r,t)}function Pl(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ue(!Wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Dr(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:h="default"}=n,y=v.useMemo(()=>{let x=Jt(l,s);return x==null?null:{location:{pathname:x,search:c,hash:d,state:f,key:h},navigationType:r}},[s,l,c,d,f,h,r]);return Ot(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(At.Provider,{value:a},v.createElement(Vi.Provider,{children:t,value:y}))}function yv({children:e,location:t}){return rv(Ll(e),t)}function Ll(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let o=[...t,i];if(r.type===v.Fragment){n.push.apply(n,Ll(r.props.children,o));return}ue(r.type===Pl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ll(r.props.children,o)),n.push(s)}),n}var Po="get",Lo="application/x-www-form-urlencoded";function Us(e){return e!=null&&typeof e.tagName=="string"}function vv(e){return Us(e)&&e.tagName.toLowerCase()==="button"}function xv(e){return Us(e)&&e.tagName.toLowerCase()==="form"}function kv(e){return Us(e)&&e.tagName.toLowerCase()==="input"}function _v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sv(e,t){return e.button===0&&(!t||t==="_self")&&!_v(e)}var fo=null;function Cv(){if(fo===null)try{new FormData(document.createElement("form"),0),fo=!1}catch{fo=!0}return fo}var wv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ka(e){return e!=null&&!wv.has(e)?(Ot(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lo}"`),null):e}function bv(e,t){let n,r,i,o,s;if(xv(e)){let a=e.getAttribute("action");r=a?Jt(a,t):null,n=e.getAttribute("method")||Po,i=ka(e.getAttribute("enctype"))||Lo,o=new FormData(e)}else if(vv(e)||kv(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Jt(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Po,i=ka(e.getAttribute("formenctype"))||ka(a.getAttribute("enctype"))||Lo,o=new FormData(a,e),!Cv()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(Us(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Po,r=null,i=Lo,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ev(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Jt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Tv(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Nv(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await Tv(o,n);return s.links?s.links():[]}return[]}));return Dv(r.flat(1).filter(Rv).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jd(e,t,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?t.filter((l,c)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function jv(e,t,{includeHydrateFallback:n}={}){return Pv(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Pv(e){return[...new Set(e)]}function Lv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Dv(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(Lv(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Ep(){let e=v.useContext(Or);return Zc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ov(){let e=v.useContext(zs);return Zc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var eu=v.createContext(void 0);eu.displayName="FrameworkContext";function Tp(){let e=v.useContext(eu);return Zc(e,"You must render this element inside a <HydratedRouter> element"),e}function Mv(e,t){let n=v.useContext(eu),[r,i]=v.useState(!1),[o,s]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=g=>{g.forEach(m=>{s(m.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return h.current&&T.observe(h.current),()=>{T.disconnect()}}},[e]),v.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Hr(a,y),onBlur:Hr(l,x),onMouseEnter:Hr(c,y),onMouseLeave:Hr(d,x),onTouchStart:Hr(f,y)}]:[!1,h,{}]}function Hr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Iv({page:e,...t}){let{router:n}=Ep(),r=v.useMemo(()=>pp(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement($v,{page:e,matches:r,...t}):null}function Av(e){let{manifest:t,routeModules:n}=Tp(),[r,i]=v.useState([]);return v.useEffect(()=>{let o=!1;return Nv(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function $v({page:e,matches:t,...n}){let r=Xn(),{manifest:i,routeModules:o}=Tp(),{basename:s}=Ep(),{loaderData:a,matches:l}=Ov(),c=v.useMemo(()=>jd(e,t,l,i,r,"data"),[e,t,l,i,r]),d=v.useMemo(()=>jd(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(t.forEach(g=>{var p;let m=i.routes[g.route.id];!m||!m.hasLoader||(!c.some(S=>S.route.id===g.route.id)&&g.route.id in a&&((p=o[g.route.id])!=null&&p.shouldRevalidate)||m.hasClientLoader?_=!0:x.add(g.route.id))}),x.size===0)return[];let T=Ev(e,s,"data");return _&&x.size>0&&T.searchParams.set("_routes",t.filter(g=>x.has(g.route.id)).map(g=>g.route.id).join(",")),[T.pathname+T.search]},[s,a,r,i,c,t,e,o]),h=v.useMemo(()=>jv(d,i),[d,i]),y=Av(d);return v.createElement(v.Fragment,null,f.map(x=>v.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>v.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:_})=>v.createElement("link",{key:x,nonce:n.nonce,..._})))}function Bv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Rp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rp&&(window.__reactRouterVersion="7.9.4")}catch{}function Fv({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=Ty({window:n,v5Compat:!0}));let i=r.current,[o,s]=v.useState({action:i.action,location:i.location}),a=v.useCallback(l=>{v.startTransition(()=>s(l))},[s]);return v.useLayoutEffect(()=>i.listen(a),[i,a]),v.createElement(gv,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var Np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jp=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...h},y){let{basename:x}=v.useContext(At),_=typeof c=="string"&&Np.test(c),T,g=!1;if(typeof c=="string"&&_&&(T=c,Rp))try{let A=new URL(window.location.href),F=c.startsWith("//")?new URL(A.protocol+c):new URL(c),W=Jt(F.pathname,x);F.origin===A.origin&&W!=null?c=W+F.search+F.hash:g=!0}catch{Ot(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=ev(c,{relative:i}),[p,S,b]=Mv(r,h),w=Wv(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function E(A){t&&t(A),A.defaultPrevented||w(A)}let j=v.createElement("a",{...h,...b,href:T||m,onClick:g||o?t:E,ref:Bv(y,S),target:l,"data-discover":!_&&n==="render"?"true":void 0});return p&&!_?v.createElement(v.Fragment,null,j,v.createElement(Iv,{page:m})):j});jp.displayName="Link";var zv=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},d){let f=Hi(s,{relative:c.relative}),h=Xn(),y=v.useContext(zs),{navigator:x,basename:_}=v.useContext(At),T=y!=null&&Kv(f)&&a===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,m=h.pathname,p=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(m=m.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase()),p&&_&&(p=Jt(p,_)||p);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=m===g||!i&&m.startsWith(g)&&m.charAt(S)==="/",w=p!=null&&(p===g||!i&&p.startsWith(g)&&p.charAt(g.length)==="/"),E={isActive:b,isPending:w,isTransitioning:T},j=b?t:void 0,A;typeof r=="function"?A=r(E):A=[r,b?"active":null,w?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(E):o;return v.createElement(jp,{...c,"aria-current":j,className:A,ref:d,style:F,to:s,viewTransition:a},typeof l=="function"?l(E):l)});zv.displayName="NavLink";var Uv=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Po,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...h},y)=>{let x=Xv(),_=Gv(a,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Np.test(a),m=p=>{if(l&&l(p),p.defaultPrevented)return;p.preventDefault();let S=p.nativeEvent.submitter,b=(S==null?void 0:S.getAttribute("formmethod"))||s;x(S||p.currentTarget,{fetcherKey:t,method:b,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:y,method:T,action:_,onSubmit:r?l:m,...h,"data-discover":!g&&e==="render"?"true":void 0})});Uv.displayName="Form";function Vv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pp(e){let t=v.useContext(Or);return ue(t,Vv(e)),t}function Wv(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Cp(),l=Xn(),c=Hi(e,{relative:o});return v.useCallback(d=>{if(Sv(d,t)){d.preventDefault();let f=n!==void 0?n:Ii(l)===Ii(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,t,e,i,o,s])}var Hv=0,Yv=()=>`__${String(++Hv)}__`;function Xv(){let{router:e}=Pp("useSubmit"),{basename:t}=v.useContext(At),n=fv();return v.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=bv(r,t);if(i.navigate===!1){let d=i.fetcherKey||Yv();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Gv(e,{relative:t}={}){let{basename:n}=v.useContext(At),r=v.useContext($t);ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Hi(e||".",{relative:t})},s=Xn();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ht([n,o.pathname])),Ii(o)}function Kv(e,{relative:t}={}){let n=v.useContext(kp);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pp("useViewTransitionState"),i=Hi(e,{relative:t});if(!n.isTransitioning)return!1;let o=Jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ys(i.pathname,s)!=null||ys(i.pathname,o)!=null}function Lp(){return u.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200/50 mt-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[" 2025 ",u.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),". All rights reserved."]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Developed by ",u.jsx("span",{className:"font-medium text-gray-700",children:"Binay Hazarika"})]})]})})})}const Qv="https://remote-work-backend.onrender.com/api";function Jv({onLogin:e}){const[t,n]=v.useState(!0),[r,i]=v.useState({email:"",password:"",full_name:""}),[o,s]=v.useState(!1),[a,l]=v.useState(""),c=async f=>{f.preventDefault(),s(!0),l("");try{const y=await fetch(`${Qv}${t?"/auth/login":"/auth/signup"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),x=await y.json();y.ok?e(x.user,x.token):l(x.error)}catch{l("Network error. Please try again.")}finally{s(!1)}},d=f=>{i({...r,[f.target.name]:f.target.value})};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"RemoteSync"}),u.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:t?"Welcome Back!":"Join RemoteSync"}),u.jsx("p",{className:"text-gray-600",children:t?"Sign in to your account to continue":"Create your account to get started"})]}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:u.jsxs("form",{className:"space-y-6",onSubmit:c,children:[u.jsxs("div",{className:"space-y-4",children:[!t&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),u.jsx("input",{name:"full_name",type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your full name",value:r.full_name,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{name:"email",type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",value:r.email,onChange:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{name:"password",type:"password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",value:r.password,onChange:d})]})]}),a&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-red-700 text-sm",children:a})]})}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center justify-center space-x-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),u.jsx("span",{children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1":"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),u.jsx("span",{children:t?"Sign In":"Create Account"})]})}),u.jsx("div",{className:"text-center pt-4",children:u.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})}),u.jsx(Lp,{})]})}const _a="https://remote-work-backend.onrender.com/api";function qv({user:e,onWorkspaceSelect:t,currentWorkspace:n}){const[r,i]=v.useState([]),[o,s]=v.useState(!0),[a,l]=v.useState({name:"",description:""}),[c,d]=v.useState({workspaceId:""}),[f,h]=v.useState({totalTasks:0,completedTasks:0,activeMembers:0}),[y,x]=v.useState(!1),[_,T]=v.useState(!1);v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const w=localStorage.getItem("token"),E=await fetch(`${_a}/workspace/my-workspaces`,{headers:{Authorization:`Bearer ${w}`}}),j=await E.json();E.ok&&i(j.workspaces)}catch(w){console.error("Failed to load workspaces:",w)}finally{s(!1)}},m=async()=>{h({totalTasks:Math.floor(Math.random()*50)+10,completedTasks:Math.floor(Math.random()*30)+5,activeMembers:Math.floor(Math.random()*20)+3})},p=async w=>{w.preventDefault();try{const E=localStorage.getItem("token");(await fetch(`${_a}/workspace/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify(a)})).ok&&(l({name:"",description:""}),x(!1),g())}catch(E){console.error("Failed to create workspace:",E)}},S=async w=>{w.preventDefault();try{const E=localStorage.getItem("token");(await fetch(`${_a}/workspace/join`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify(c)})).ok&&(d({workspaceId:""}),T(!1),g())}catch(E){console.error("Failed to join workspace:",E)}},b=()=>{const w=new Date().getHours();return w<12?"Good morning":w<18?"Good afternoon":"Good evening"};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your workspace..."})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),u.jsx("div",{className:"relative px-6 py-12 sm:px-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4 animate-fade-in",children:[b(),", ",e.full_name,"! "]}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Welcome to your collaborative workspace. Manage projects, communicate with your team, and achieve more together."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f.totalTasks})]}),u.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.completedTasks})]}),u.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),u.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Members"}),u.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f.activeMembers})]}),u.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Create Workspace"})]}),u.jsxs("button",{onClick:()=>T(!0),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),u.jsx("span",{children:"Join Workspace"})]})]})]})})]}),u.jsx("div",{className:"px-6 pb-12 sm:px-12",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[u.jsxs("div",{className:"px-8 py-6 border-b border-gray-200/50",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h4M9 7h6m-6 4h6m-6 4h6"})}),u.jsx("span",{children:"Your Workspaces"})]}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Select a workspace to start collaborating with your team"})]}),r.length===0?u.jsxs("div",{className:"px-8 py-12 text-center",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h4M9 7h6m-6 4h6m-6 4h6"})})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workspaces yet"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first workspace or join an existing one to get started"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Workspace"}),u.jsx("button",{onClick:()=>T(!0),className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Join Workspace"})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:r.map(w=>u.jsxs("div",{onClick:()=>t(w),className:`group cursor-pointer bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 ${(n==null?void 0:n.id)===w.id?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg",children:w.name.charAt(0).toUpperCase()}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.role==="owner"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:w.role})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:w.name}),w.description&&u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:w.description}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),u.jsxs("span",{children:[w.member_count||1," member",(w.member_count||1)!==1?"s":""]})]}),u.jsx("svg",{className:"w-4 h-4 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},w.id))})]})})}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Workspace"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace Name"}),u.jsx("input",{type:"text",placeholder:"Enter workspace name",value:a.name,onChange:w=>l({...a,name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),u.jsx("textarea",{placeholder:"Describe your workspace",value:a.description,onChange:w=>l({...a,description:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:"3"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create"})]})]})]})}),_&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Join Workspace"}),u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace ID"}),u.jsx("input",{type:"text",placeholder:"Enter workspace ID",value:c.workspaceId,onChange:w=>d({workspaceId:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Join"})]})]})]})})]})}const Dp=document.createElement("style");Dp.textContent=`
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fade-in 0.6s ease-out;
  }
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;document.head.appendChild(Dp);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(n),!0).forEach(function(r){Zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Do(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Do=function(t){return typeof t}:Do=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function Zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(){return qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}function ex(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tx(e,t){if(e==null)return{};var n=ex(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var nx="1.15.6";function Yt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var en=Yt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Yi=Yt(/Edge/i),Ld=Yt(/firefox/i),fi=Yt(/safari/i)&&!Yt(/chrome/i)&&!Yt(/android/i),tu=Yt(/iP(ad|od|hone)/i),Op=Yt(/chrome/i)&&Yt(/android/i),Mp={capture:!1,passive:!1};function K(e,t,n){e.addEventListener(t,n,!en&&Mp)}function G(e,t,n){e.removeEventListener(t,n,!en&&Mp)}function vs(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Ip(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function kt(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&vs(e,t):vs(e,t))||r&&e===n)return e;if(e===n)break}while(e=Ip(e))}return null}var Dd=/\s+/g;function et(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Dd," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Dd," ")}}function V(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function kr(e,t){var n="";if(typeof e=="string")n=e;else do{var r=V(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Ap(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Lt(){var e=document.scrollingElement;return e||document.documentElement}function xe(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,c,d,f;if(e!==window&&e.parentNode&&e!==Lt()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,d=o.height,f=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!en))do if(i&&i.getBoundingClientRect&&(V(i,"transform")!=="none"||n&&V(i,"position")!=="static")){var h=i.getBoundingClientRect();s-=h.top+parseInt(V(i,"border-top-width")),a-=h.left+parseInt(V(i,"border-left-width")),l=s+o.height,c=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var y=kr(i||e),x=y&&y.a,_=y&&y.d;y&&(s/=_,a/=x,f/=x,d/=_,l=s+d,c=a+f)}return{top:s,left:a,bottom:l,right:c,width:f,height:d}}}function Od(e,t,n){for(var r=dn(e,!0),i=xe(e)[t];r;){var o=xe(r)[n],s=void 0;if(s=i>=o,!s)return r;if(r===Lt())break;r=dn(r,!1)}return!1}function Nr(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==H.ghost&&(r||s[o]!==H.dragged)&&kt(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function nu(e,t){for(var n=e.lastElementChild;n&&(n===H.ghost||V(n,"display")==="none"||t&&!vs(n,t));)n=n.previousElementSibling;return n||null}function lt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==H.clone&&(!t||vs(e,t))&&n++;return n}function Md(e){var t=0,n=0,r=Lt();if(e)do{var i=kr(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function rx(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function dn(e,t){if(!e||!e.getBoundingClientRect)return Lt();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=V(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Lt();if(r||t)return n;r=!0}}while(n=n.parentNode);return Lt()}function ix(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Sa(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var hi;function $p(e,t){return function(){if(!hi){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),hi=setTimeout(function(){hi=void 0},t)}}}function ox(){clearTimeout(hi),hi=void 0}function Bp(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Fp(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function zp(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,s,a,l;if(!(!kt(i,t.draggable,e,!1)||i.animated||i===n)){var c=xe(i);r.left=Math.min((o=r.left)!==null&&o!==void 0?o:1/0,c.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,c.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Ke="Sortable"+new Date().getTime();function sx(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(V(i,"display")==="none"||i===H.ghost)){e.push({target:i,rect:xe(i)});var o=Mt({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=kr(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(rx(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(a){var l=0,c=a.target,d=c.fromRect,f=xe(c),h=c.prevFromRect,y=c.prevToRect,x=a.rect,_=kr(c,!0);_&&(f.top-=_.f,f.left-=_.e),c.toRect=f,c.thisAnimationDuration&&Sa(h,f)&&!Sa(d,f)&&(x.top-f.top)/(x.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(l=lx(x,h,y,i.options)),Sa(f,d)||(c.prevFromRect=d,c.prevToRect=f,l||(l=i.options.animation),i.animate(c,x,f,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,s){if(s){V(r,"transition",""),V(r,"transform","");var a=kr(this.el),l=a&&a.a,c=a&&a.d,d=(i.left-o.left)/(l||1),f=(i.top-o.top)/(c||1);r.animatingX=!!d,r.animatingY=!!f,V(r,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=ax(r),V(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),V(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){V(r,"transition",""),V(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function ax(e){return e.offsetWidth}function lx(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var qn=[],Ca={initializeByDefault:!0},Xi={mount:function(t){for(var n in Ca)Ca.hasOwnProperty(n)&&!(n in t)&&(t[n]=Ca[n]);qn.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qn.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";qn.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](Mt({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](Mt({sortable:n},r)))})},initializePlugins:function(t,n,r,i){qn.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,qt(r,c.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return qn.forEach(function(i){typeof i.eventProperties=="function"&&qt(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return qn.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function cx(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,h=e.originalEvent,y=e.putSortable,x=e.extraEventProperties;if(t=t||n&&n[Ke],!!t){var _,T=t.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!en&&!Yi?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=s||n,_.from=a||n,_.item=i||n,_.clone=o,_.oldIndex=l,_.newIndex=c,_.oldDraggableIndex=d,_.newDraggableIndex=f,_.originalEvent=h,_.pullMode=y?y.lastPutMode:void 0;var m=Mt(Mt({},x),Xi.getEventProperties(r,t));for(var p in m)_[p]=m[p];n&&n.dispatchEvent(_),T[g]&&T[g].call(t,_)}}var ux=["evt"],Ye=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=tx(r,ux);Xi.pluginEvent.bind(H)(t,n,Mt({dragEl:D,parentEl:pe,ghostEl:Y,rootEl:ie,nextEl:Ln,lastDownEl:Oo,cloneEl:ae,cloneHidden:ln,dragStarted:qr,putSortable:Re,activeSortable:H.active,originalEvent:i,oldIndex:hr,oldDraggableIndex:pi,newIndex:tt,newDraggableIndex:on,hideGhostForTarget:Hp,unhideGhostForTarget:Yp,cloneNowHidden:function(){ln=!0},cloneNowShown:function(){ln=!1},dispatchSortableEvent:function(a){Fe({sortable:n,name:a,originalEvent:i})}},o))};function Fe(e){cx(Mt({putSortable:Re,cloneEl:ae,targetEl:D,rootEl:ie,oldIndex:hr,oldDraggableIndex:pi,newIndex:tt,newDraggableIndex:on},e))}var D,pe,Y,ie,Ln,Oo,ae,ln,hr,tt,pi,on,ho,Re,er=!1,xs=!1,ks=[],Rn,yt,wa,ba,Id,Ad,qr,Zn,mi,gi=!1,po=!1,Mo,Oe,Ea=[],Dl=!1,_s=[],Vs=typeof document<"u",mo=tu,$d=Yi||en?"cssFloat":"float",dx=Vs&&!Op&&!tu&&"draggable"in document.createElement("div"),Up=function(){if(Vs){if(en)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Vp=function(t,n){var r=V(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Nr(t,0,n),s=Nr(t,1,n),a=o&&V(o),l=s&&V(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+xe(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xe(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[$d]==="none"||s&&r[$d]==="none"&&c+d>i)?"vertical":"horizontal"},fx=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||o===l||i+s/2===a+c/2},hx=function(t,n){var r;return ks.some(function(i){var o=i[Ke].options.emptyInsertThreshold;if(!(!o||nu(i))){var s=xe(i),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},Wp=function(t){function n(o,s){return function(a,l,c,d){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||f))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,c,d),s)(a,l,c,d);var h=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var r={},i=t.group;(!i||Do(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Hp=function(){!Up&&Y&&V(Y,"display","none")},Yp=function(){!Up&&Y&&V(Y,"display","")};Vs&&!Op&&document.addEventListener("click",function(e){if(xs)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),xs=!1,!1},!0);var Nn=function(t){if(D){t=t.touches?t.touches[0]:t;var n=hx(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ke]._onDragOver(r)}}},px=function(t){D&&D.parentNode[Ke]._isOutsideThisEl(t.target)};function H(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=qt({},t),e[Ke]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vp(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:H.supportPointer!==!1&&"PointerEvent"in window&&(!fi||tu),emptyInsertThreshold:5};Xi.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Wp(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:dx,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?K(e,"pointerdown",this._onTapStart):(K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),ks.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),qt(this,sx())}H.prototype={constructor:H,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Zn=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,D):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=i.filter;if(Sx(r),!D&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&fi&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=kt(l,i.draggable,r,!1),!(l&&l.animated)&&Oo!==l)){if(hr=lt(l),pi=lt(l,i.draggable),typeof d=="function"){if(d.call(this,t,l,this)){Fe({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),Ye("filter",n,{evt:t}),o&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=kt(c,f.trim(),r,!1),f)return Fe({sortable:n,rootEl:f,name:"filter",targetEl:l,fromEl:r,toEl:r}),Ye("filter",n,{evt:t}),!0}),d)){o&&t.preventDefault();return}i.handle&&!kt(c,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!D&&r.parentNode===o){var c=xe(r);if(ie=o,D=r,pe=D.parentNode,Ln=D.nextSibling,Oo=r,ho=s.group,H.dragged=D,Rn={target:D,clientX:(n||t).clientX,clientY:(n||t).clientY},Id=Rn.clientX-c.left,Ad=Rn.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,D.style["will-change"]="all",l=function(){if(Ye("delayEnded",i,{evt:t}),H.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ld&&i.nativeDraggable&&(D.draggable=!0),i._triggerDragStart(t,n),Fe({sortable:i,name:"choose",originalEvent:t}),et(D,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Ap(D,d.trim(),Ta)}),K(a,"dragover",Nn),K(a,"mousemove",Nn),K(a,"touchmove",Nn),s.supportPointer?(K(a,"pointerup",i._onDrop),!this.nativeDraggable&&K(a,"pointercancel",i._onDrop)):(K(a,"mouseup",i._onDrop),K(a,"touchend",i._onDrop),K(a,"touchcancel",i._onDrop)),Ld&&this.nativeDraggable&&(this.options.touchStartThreshold=4,D.draggable=!0),Ye("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Yi||en))){if(H.eventCanceled){this._onDrop();return}s.supportPointer?(K(a,"pointerup",i._disableDelayedDrag),K(a,"pointercancel",i._disableDelayedDrag)):(K(a,"mouseup",i._disableDelayedDrag),K(a,"touchend",i._disableDelayedDrag),K(a,"touchcancel",i._disableDelayedDrag)),K(a,"mousemove",i._delayedDragTouchMoveHandler),K(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&K(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){D&&Ta(D),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;G(t,"mouseup",this._disableDelayedDrag),G(t,"touchend",this._disableDelayedDrag),G(t,"touchcancel",this._disableDelayedDrag),G(t,"pointerup",this._disableDelayedDrag),G(t,"pointercancel",this._disableDelayedDrag),G(t,"mousemove",this._delayedDragTouchMoveHandler),G(t,"touchmove",this._delayedDragTouchMoveHandler),G(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):n?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K(D,"dragend",this),K(ie,"dragstart",this._onDragStart));try{document.selection?Io(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(er=!1,ie&&D){Ye("dragStarted",this,{evt:n}),this.nativeDraggable&&K(document,"dragover",px);var r=this.options;!t&&et(D,r.dragClass,!1),et(D,r.ghostClass,!0),H.active=this,t&&this._appendGhost(),Fe({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(yt){this._lastX=yt.clientX,this._lastY=yt.clientY,Hp();for(var t=document.elementFromPoint(yt.clientX,yt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(yt.clientX,yt.clientY),t!==n);)n=t;if(D.parentNode[Ke]._isOutsideThisEl(t),n)do{if(n[Ke]){var r=void 0;if(r=n[Ke]._onDragOver({clientX:yt.clientX,clientY:yt.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=Ip(n));Yp()}},_onTouchMove:function(t){if(Rn){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=Y&&kr(Y,!0),a=Y&&s&&s.a,l=Y&&s&&s.d,c=mo&&Oe&&Md(Oe),d=(o.clientX-Rn.clientX+i.x)/(a||1)+(c?c[0]-Ea[0]:0)/(a||1),f=(o.clientY-Rn.clientY+i.y)/(l||1)+(c?c[1]-Ea[1]:0)/(l||1);if(!H.active&&!er){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Y){s?(s.e+=d-(wa||0),s.f+=f-(ba||0)):s={a:1,b:0,c:0,d:1,e:d,f};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");V(Y,"webkitTransform",h),V(Y,"mozTransform",h),V(Y,"msTransform",h),V(Y,"transform",h),wa=d,ba=f,yt=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Y){var t=this.options.fallbackOnBody?document.body:ie,n=xe(D,!0,mo,!0,t),r=this.options;if(mo){for(Oe=t;V(Oe,"position")==="static"&&V(Oe,"transform")==="none"&&Oe!==document;)Oe=Oe.parentNode;Oe!==document.body&&Oe!==document.documentElement?(Oe===document&&(Oe=Lt()),n.top+=Oe.scrollTop,n.left+=Oe.scrollLeft):Oe=Lt(),Ea=Md(Oe)}Y=D.cloneNode(!0),et(Y,r.ghostClass,!1),et(Y,r.fallbackClass,!0),et(Y,r.dragClass,!0),V(Y,"transition",""),V(Y,"transform",""),V(Y,"box-sizing","border-box"),V(Y,"margin",0),V(Y,"top",n.top),V(Y,"left",n.left),V(Y,"width",n.width),V(Y,"height",n.height),V(Y,"opacity","0.8"),V(Y,"position",mo?"absolute":"fixed"),V(Y,"zIndex","100000"),V(Y,"pointerEvents","none"),H.ghost=Y,t.appendChild(Y),V(Y,"transform-origin",Id/parseInt(Y.style.width)*100+"% "+Ad/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(Ye("dragStart",this,{evt:t}),H.eventCanceled){this._onDrop();return}Ye("setupClone",this),H.eventCanceled||(ae=Fp(D),ae.removeAttribute("id"),ae.draggable=!1,ae.style["will-change"]="",this._hideClone(),et(ae,this.options.chosenClass,!1),H.clone=ae),r.cloneId=Io(function(){Ye("clone",r),!H.eventCanceled&&(r.options.removeCloneOnHide||ie.insertBefore(ae,D),r._hideClone(),Fe({sortable:r,name:"clone"}))}),!n&&et(D,o.dragClass,!0),n?(xs=!0,r._loopId=setInterval(r._emulateDragOver,50)):(G(document,"mouseup",r._onDrop),G(document,"touchend",r._onDrop),G(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,D)),K(document,"drop",r),V(D,"transform","translateZ(0)")),er=!0,r._dragStartId=Io(r._dragStarted.bind(r,n,t)),K(document,"selectstart",r),qr=!0,window.getSelection().removeAllRanges(),fi&&V(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,s,a=this.options,l=a.group,c=H.active,d=ho===l,f=a.sort,h=Re||c,y,x=this,_=!1;if(Dl)return;function T(O,U){Ye(O,x,Mt({evt:t,isOwner:d,axis:y?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:f,fromSortable:h,target:r,completed:m,onMove:function(k,C){return go(ie,n,D,i,k,xe(k),t,C)},changed:p},U))}function g(){T("dragOverAnimationCapture"),x.captureAnimationState(),x!==h&&h.captureAnimationState()}function m(O){return T("dragOverCompleted",{insertion:O}),O&&(d?c._hideClone():c._showClone(x),x!==h&&(et(D,Re?Re.options.ghostClass:c.options.ghostClass,!1),et(D,a.ghostClass,!0)),Re!==x&&x!==H.active?Re=x:x===H.active&&Re&&(Re=null),h===x&&(x._ignoreWhileAnimating=r),x.animateAll(function(){T("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===D&&!D.animated||r===n&&!r.animated)&&(Zn=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(D.parentNode[Ke]._isOutsideThisEl(t.target),!O&&Nn(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function p(){tt=lt(D),on=lt(D,a.draggable),Fe({sortable:x,name:"change",toEl:n,newIndex:tt,newDraggableIndex:on,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=kt(r,a.draggable,n,!0),T("dragOver"),H.eventCanceled)return _;if(D.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||x._ignoreWhileAnimating===r)return m(!1);if(xs=!1,c&&!a.disabled&&(d?f||(s=pe!==ie):Re===this||(this.lastPutMode=ho.checkPull(this,c,D,t))&&l.checkPut(this,c,D,t))){if(y=this._getDirection(t,r)==="vertical",i=xe(D),T("dragOverValid"),H.eventCanceled)return _;if(s)return pe=ie,g(),this._hideClone(),T("revert"),H.eventCanceled||(Ln?ie.insertBefore(D,Ln):ie.appendChild(D)),m(!0);var S=nu(n,a.draggable);if(!S||vx(t,y,this)&&!S.animated){if(S===D)return m(!1);if(S&&n===t.target&&(r=S),r&&(o=xe(r)),go(ie,n,D,i,r,o,t,!!r)!==!1)return g(),S&&S.nextSibling?n.insertBefore(D,S.nextSibling):n.appendChild(D),pe=n,p(),m(!0)}else if(S&&yx(t,y,this)){var b=Nr(n,0,a,!0);if(b===D)return m(!1);if(r=b,o=xe(r),go(ie,n,D,i,r,o,t,!1)!==!1)return g(),n.insertBefore(D,b),pe=n,p(),m(!0)}else if(r.parentNode===n){o=xe(r);var w=0,E,j=D.parentNode!==n,A=!fx(D.animated&&D.toRect||i,r.animated&&r.toRect||o,y),F=y?"top":"left",W=Od(r,"top","top")||Od(D,"top","top"),fe=W?W.scrollTop:void 0;Zn!==r&&(E=o[F],gi=!1,po=!A&&a.invertSwap||j),w=xx(t,r,o,y,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,po,Zn===r);var re;if(w!==0){var Te=lt(D);do Te-=w,re=pe.children[Te];while(re&&(V(re,"display")==="none"||re===Y))}if(w===0||re===r)return m(!1);Zn=r,mi=w;var Se=r.nextElementSibling,he=!1;he=w===1;var Be=go(ie,n,D,i,r,o,t,he);if(Be!==!1)return(Be===1||Be===-1)&&(he=Be===1),Dl=!0,setTimeout(gx,30),g(),he&&!Se?n.appendChild(D):r.parentNode.insertBefore(D,he?Se:r),W&&Bp(W,0,fe-W.scrollTop),pe=D.parentNode,E!==void 0&&!po&&(Mo=Math.abs(E-xe(r)[F])),p(),m(!0)}if(n.contains(D))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){G(document,"mousemove",this._onTouchMove),G(document,"touchmove",this._onTouchMove),G(document,"pointermove",this._onTouchMove),G(document,"dragover",Nn),G(document,"mousemove",Nn),G(document,"touchmove",Nn)},_offUpEvents:function(){var t=this.el.ownerDocument;G(t,"mouseup",this._onDrop),G(t,"touchend",this._onDrop),G(t,"pointerup",this._onDrop),G(t,"pointercancel",this._onDrop),G(t,"touchcancel",this._onDrop),G(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(tt=lt(D),on=lt(D,r.draggable),Ye("drop",this,{evt:t}),pe=D&&D.parentNode,tt=lt(D),on=lt(D,r.draggable),H.eventCanceled){this._nulling();return}er=!1,po=!1,gi=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ol(this.cloneId),Ol(this._dragStartId),this.nativeDraggable&&(G(document,"drop",this),G(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fi&&V(document.body,"user-select",""),V(D,"transform",""),t&&(qr&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(ie===pe||Re&&Re.lastPutMode!=="clone")&&ae&&ae.parentNode&&ae.parentNode.removeChild(ae),D&&(this.nativeDraggable&&G(D,"dragend",this),Ta(D),D.style["will-change"]="",qr&&!er&&et(D,Re?Re.options.ghostClass:this.options.ghostClass,!1),et(D,this.options.chosenClass,!1),Fe({sortable:this,name:"unchoose",toEl:pe,newIndex:null,newDraggableIndex:null,originalEvent:t}),ie!==pe?(tt>=0&&(Fe({rootEl:pe,name:"add",toEl:pe,fromEl:ie,originalEvent:t}),Fe({sortable:this,name:"remove",toEl:pe,originalEvent:t}),Fe({rootEl:pe,name:"sort",toEl:pe,fromEl:ie,originalEvent:t}),Fe({sortable:this,name:"sort",toEl:pe,originalEvent:t})),Re&&Re.save()):tt!==hr&&tt>=0&&(Fe({sortable:this,name:"update",toEl:pe,originalEvent:t}),Fe({sortable:this,name:"sort",toEl:pe,originalEvent:t})),H.active&&((tt==null||tt===-1)&&(tt=hr,on=pi),Fe({sortable:this,name:"end",toEl:pe,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ye("nulling",this),ie=D=pe=Y=Ln=ae=Oo=ln=Rn=yt=qr=tt=on=hr=pi=Zn=mi=Re=ho=H.dragged=H.ghost=H.clone=H.active=null,_s.forEach(function(t){t.checked=!0}),_s.length=wa=ba=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":D&&(this._onDragOver(t),mx(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],kt(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||_x(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];kt(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return kt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=Xi.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&Wp(r)},destroy:function(){Ye("destroy",this);var t=this.el;t[Ke]=null,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ks.splice(ks.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ln){if(Ye("hideClone",this),H.eventCanceled)return;V(ae,"display","none"),this.options.removeCloneOnHide&&ae.parentNode&&ae.parentNode.removeChild(ae),ln=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ln){if(Ye("showClone",this),H.eventCanceled)return;D.parentNode==ie&&!this.options.group.revertClone?ie.insertBefore(ae,D):Ln?ie.insertBefore(ae,Ln):ie.appendChild(ae),this.options.group.revertClone&&this.animate(D,ae),V(ae,"display",""),ln=!1}}};function mx(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function go(e,t,n,r,i,o,s,a){var l,c=e[Ke],d=c.options.onMove,f;return window.CustomEvent&&!en&&!Yi?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||xe(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(f=d.call(c,l,s)),f}function Ta(e){e.draggable=!1}function gx(){Dl=!1}function yx(e,t,n){var r=xe(Nr(n.el,0,n.options,!0)),i=zp(n.el,n.options,Y),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}function vx(e,t,n){var r=xe(nu(n.el,n.options.draggable)),i=zp(n.el,n.options,Y),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}function xx(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,d=r?n.top:n.left,f=r?n.bottom:n.right,h=!1;if(!s){if(a&&Mo<c*i){if(!gi&&(mi===1?l>d+c*o/2:l<f-c*o/2)&&(gi=!0),gi)h=!0;else if(mi===1?l<d+Mo:l>f-Mo)return-mi}else if(l>d+c*(1-i)/2&&l<f-c*(1-i)/2)return kx(t)}return h=h||s,h&&(l<d+c*o/2||l>f-c*o/2)?l>d+c/2?1:-1:0}function kx(e){return lt(D)<lt(e)?1:-1}function _x(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Sx(e){_s.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&_s.push(r)}}function Io(e){return setTimeout(e,0)}function Ol(e){return clearTimeout(e)}Vs&&K(document,"touchmove",function(e){(H.active||er)&&e.cancelable&&e.preventDefault()});H.utils={on:K,off:G,css:V,find:Ap,is:function(t,n){return!!kt(t,n,t,!1)},extend:ix,throttle:$p,closest:kt,toggleClass:et,clone:Fp,index:lt,nextTick:Io,cancelNextTick:Ol,detectDirection:Vp,getChild:Nr,expando:Ke};H.get=function(e){return e[Ke]};H.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(H.utils=Mt(Mt({},H.utils),r.utils)),Xi.mount(r)})};H.create=function(e,t){return new H(e,t)};H.version=nx;var ye=[],Zr,Ml,Il=!1,Ra,Na,Ss,ei;function Cx(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):this.options.supportPointer?K(document,"pointermove",this._handleFallbackAutoScroll):r.touches?K(document,"touchmove",this._handleFallbackAutoScroll):K(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?G(document,"dragover",this._handleAutoScroll):(G(document,"pointermove",this._handleFallbackAutoScroll),G(document,"touchmove",this._handleFallbackAutoScroll),G(document,"mousemove",this._handleFallbackAutoScroll)),Bd(),Ao(),ox()},nulling:function(){Ss=Ml=Zr=Il=ei=Ra=Na=null,ye.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Ss=n,r||this.options.forceAutoScrollFallback||Yi||en||fi){ja(n,this.options,a,r);var l=dn(a,!0);Il&&(!ei||o!==Ra||s!==Na)&&(ei&&Bd(),ei=setInterval(function(){var c=dn(document.elementFromPoint(o,s),!0);c!==l&&(l=c,Ao()),ja(n,i.options,c,r)},10),Ra=o,Na=s)}else{if(!this.options.bubbleScroll||dn(a,!0)===Lt()){Ao();return}ja(n,this.options,dn(a,!1),!1)}}},qt(e,{pluginName:"scroll",initializeByDefault:!0})}function Ao(){ye.forEach(function(e){clearInterval(e.pid)}),ye=[]}function Bd(){clearInterval(ei)}var ja=$p(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Lt(),c=!1,d;Ml!==n&&(Ml=n,Ao(),Zr=t.scroll,d=t.scrollFn,Zr===!0&&(Zr=dn(n,!0)));var f=0,h=Zr;do{var y=h,x=xe(y),_=x.top,T=x.bottom,g=x.left,m=x.right,p=x.width,S=x.height,b=void 0,w=void 0,E=y.scrollWidth,j=y.scrollHeight,A=V(y),F=y.scrollLeft,W=y.scrollTop;y===l?(b=p<E&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),w=S<j&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(b=p<E&&(A.overflowX==="auto"||A.overflowX==="scroll"),w=S<j&&(A.overflowY==="auto"||A.overflowY==="scroll"));var fe=b&&(Math.abs(m-i)<=s&&F+p<E)-(Math.abs(g-i)<=s&&!!F),re=w&&(Math.abs(T-o)<=s&&W+S<j)-(Math.abs(_-o)<=s&&!!W);if(!ye[f])for(var Te=0;Te<=f;Te++)ye[Te]||(ye[Te]={});(ye[f].vx!=fe||ye[f].vy!=re||ye[f].el!==y)&&(ye[f].el=y,ye[f].vx=fe,ye[f].vy=re,clearInterval(ye[f].pid),(fe!=0||re!=0)&&(c=!0,ye[f].pid=setInterval((function(){r&&this.layer===0&&H.active._onTouchMove(Ss);var Se=ye[this.layer].vy?ye[this.layer].vy*a:0,he=ye[this.layer].vx?ye[this.layer].vx*a:0;typeof d=="function"&&d.call(H.dragged.parentNode[Ke],he,Se,e,Ss,ye[this.layer].el)!=="continue"||Bp(ye[this.layer].el,he,Se)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&h!==l&&(h=dn(h,!1)));Il=c}},30),Xp=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=r||o;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(f)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function ru(){}ru.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Nr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Xp};qt(ru,{pluginName:"revertOnSpill"});function iu(){}iu.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Xp};qt(iu,{pluginName:"removeOnSpill"});H.mount(new Cx);H.mount(iu,ru);const Pa="https://remote-work-backend.onrender.com/api";function wx({workspaceId:e}){const[t,n]=v.useState([]),[r,i]=v.useState([]),[o,s]=v.useState(!0);v.useEffect(()=>{a()},[e]);const a=async()=>{try{const d=localStorage.getItem("token"),f=await fetch(`${Pa}/tasks/${e}/board`,{headers:{Authorization:`Bearer ${d}`}});if(f.ok){const h=await f.json();n(h.lists),i(h.tasks)}}catch(d){console.error("Error loading task board:",d)}finally{s(!1)}},l=async()=>{const d=prompt("List title:");if(d)try{const f=localStorage.getItem("token");(await fetch(`${Pa}/tasks/${e}/lists`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({title:d,position:t.length})})).ok&&a()}catch(f){console.error("Error creating list:",f)}},c=async d=>{const f=prompt("Task title:");if(!f)return;const h=prompt("Task description (optional):")||"";try{const y=localStorage.getItem("token"),x=r.filter(T=>T.list_id===d);(await fetch(`${Pa}/tasks/${e}/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({title:f,description:h,listId:d,position:x.length})})).ok&&a()}catch(y){console.error("Error creating task:",y)}};return o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading task board..."})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Task Board"}),u.jsx("p",{className:"text-gray-600",children:"Organize and track your team's progress"})]}),u.jsxs("button",{onClick:l,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Add List"})]})]}),u.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6",children:t.sort((d,f)=>d.position-f.position).map(d=>{const f=r.filter(h=>h.list_id===d.id).sort((h,y)=>h.position-y.position);return u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 w-80 flex-shrink-0 shadow-lg border border-white/20",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.title}),u.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:f.length})]}),u.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:f.map(h=>u.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100",children:[u.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:h.title}),h.description&&u.jsx("div",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:h.description}),h.assigned_user&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:h.assigned_user.full_name.charAt(0)}),u.jsx("span",{className:"text-xs text-gray-600",children:h.assigned_user.full_name})]})]},h.id))}),u.jsxs("button",{onClick:()=>c(d.id),className:"w-full p-3 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-xl border-2 border-dashed border-gray-300 hover:border-blue-300 transition-all duration-300 flex items-center justify-center space-x-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("span",{children:"Add task"})]})]},d.id)})})]})})}const Al=document.createElement("style");Al.textContent=`
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;document.head.querySelector('style[data-component="TaskBoard"]')||(Al.setAttribute("data-component","TaskBoard"),document.head.appendChild(Al));const It=Object.create(null);It.open="0";It.close="1";It.ping="2";It.pong="3";It.message="4";It.upgrade="5";It.noop="6";const $o=Object.create(null);Object.keys(It).forEach(e=>{$o[It[e]]=e});const $l={type:"error",data:"parser error"},Gp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Kp=typeof ArrayBuffer=="function",Qp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ou=({type:e,data:t},n,r)=>Gp&&t instanceof Blob?n?r(t):Fd(t,r):Kp&&(t instanceof ArrayBuffer||Qp(t))?n?r(t):Fd(new Blob([t]),r):r(It[e]+(t||"")),Fd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function zd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let La;function bx(e,t){if(Gp&&e.data instanceof Blob)return e.data.arrayBuffer().then(zd).then(t);if(Kp&&(e.data instanceof ArrayBuffer||Qp(e.data)))return t(zd(e.data));ou(e,!1,n=>{La||(La=new TextEncoder),t(La.encode(n))})}const Ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ti=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ud.length;e++)ti[Ud.charCodeAt(e)]=e;const Ex=e=>{let t=e.length*.75,n=e.length,r,i=0,o,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)o=ti[e.charCodeAt(r)],s=ti[e.charCodeAt(r+1)],a=ti[e.charCodeAt(r+2)],l=ti[e.charCodeAt(r+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return c},Tx=typeof ArrayBuffer=="function",su=(e,t)=>{if(typeof e!="string")return{type:"message",data:Jp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Rx(e.substring(1),t)}:$o[n]?e.length>1?{type:$o[n],data:e.substring(1)}:{type:$o[n]}:$l},Rx=(e,t)=>{if(Tx){const n=Ex(e);return Jp(n,t)}else return{base64:!0,data:e}},Jp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},qp="",Nx=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,s)=>{ou(o,!1,a=>{r[s]=a,++i===n&&t(r.join(qp))})})},jx=(e,t)=>{const n=e.split(qp),r=[];for(let i=0;i<n.length;i++){const o=su(n[i],t);if(r.push(o),o.type==="error")break}return r};function Px(){return new TransformStream({transform(e,t){bx(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Da;function yo(e){return e.reduce((t,n)=>t+n.length,0)}function vo(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Lx(e,t){Da||(Da=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(yo(n)<1)break;const l=vo(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(yo(n)<2)break;const l=vo(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(yo(n)<8)break;const l=vo(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue($l);break}i=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(yo(n)<i)break;const l=vo(n,i);a.enqueue(su(o?l:Da.decode(l),t)),r=0}if(i===0||i>e){a.enqueue($l);break}}}})}const Zp=4;function _e(e){if(e)return Dx(e)}function Dx(e){for(var t in _e.prototype)e[t]=_e.prototype[t];return e}_e.prototype.on=_e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_e.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};_e.prototype.off=_e.prototype.removeListener=_e.prototype.removeAllListeners=_e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};_e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};_e.prototype.emitReserved=_e.prototype.emit;_e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_e.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ws=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ox="arraybuffer";function em(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Mx=dt.setTimeout,Ix=dt.clearTimeout;function Hs(e,t){t.useNativeTimers?(e.setTimeoutFn=Mx.bind(dt),e.clearTimeoutFn=Ix.bind(dt)):(e.setTimeoutFn=dt.setTimeout.bind(dt),e.clearTimeoutFn=dt.clearTimeout.bind(dt))}const Ax=1.33;function $x(e){return typeof e=="string"?Bx(e):Math.ceil((e.byteLength||e.size)*Ax)}function Bx(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function tm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Fx(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function zx(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Ux extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class au extends _e{constructor(t){super(),this.writable=!1,Hs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Ux(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=su(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Fx(t);return n.length?"?"+n:""}}class Vx extends au{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};jx(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Nx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=tm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let nm=!1;try{nm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wx=nm;function Hx(){}class Yx extends Vx{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Dt extends _e{constructor(t,n,r){super(),this.createRequest=t,Hs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=em(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Dt.requestsCount++,Dt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Hx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Dt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Dt.requestsCount=0;Dt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vd);else if(typeof addEventListener=="function"){const e="onpagehide"in dt?"pagehide":"unload";addEventListener(e,Vd,!1)}}function Vd(){for(let e in Dt.requests)Dt.requests.hasOwnProperty(e)&&Dt.requests[e].abort()}const Xx=function(){const e=rm({xdomain:!1});return e&&e.responseType!==null}();class Gx extends Yx{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Xx&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Dt(rm,this.uri(),t)}}function rm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Wx))return new XMLHttpRequest}catch{}if(!t)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const im=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Kx extends au{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=im?{}:em(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;ou(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Ws(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=tm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Oa=dt.WebSocket||dt.MozWebSocket;class Qx extends Kx{createSocket(t,n,r){return im?new Oa(t,n,r):n?new Oa(t,n):new Oa(t)}doWrite(t,n){this.ws.send(n)}}class Jx extends au{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Lx(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=Px();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&Ws(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const qx={websocket:Qx,webtransport:Jx,polling:Gx},Zx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Zx.exec(e||""),o={},s=14;for(;s--;)o[e1[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=t1(o,o.path),o.queryKey=n1(o,o.query),o}function t1(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function n1(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const Fl=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bo=[];Fl&&addEventListener("offline",()=>{Bo.forEach(e=>e())},!1);class _n extends _e{constructor(t,n){if(super(),this.binaryType=Ox,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Bl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Bl(n.host).host);Hs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zx(this.opts.query)),Fl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Zp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&_n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=$x(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ws(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(_n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Bo.indexOf(this._offlineEventListener);r!==-1&&Bo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}_n.protocol=Zp;class r1 extends _n{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;_n.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_n.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function o(){r||(r=!0,d(),n.close(),n=null)}const s=f=>{const h=new Error("probe error: "+f);h.transport=n.name,o(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function l(){s("socket closed")}function c(f){n&&f.name!==n.name&&o()}const d=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let i1=class extends r1{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>qx[i]).filter(i=>!!i)),super(t,r)}};function o1(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Bl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const s1=typeof ArrayBuffer=="function",a1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,om=Object.prototype.toString,l1=typeof Blob=="function"||typeof Blob<"u"&&om.call(Blob)==="[object BlobConstructor]",c1=typeof File=="function"||typeof File<"u"&&om.call(File)==="[object FileConstructor]";function lu(e){return s1&&(e instanceof ArrayBuffer||a1(e))||l1&&e instanceof Blob||c1&&e instanceof File}function Fo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Fo(e[n]))return!0;return!1}if(lu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Fo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Fo(e[n]))return!0;return!1}function u1(e){const t=[],n=e.data,r=e;return r.data=zl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function zl(e,t){if(!e)return e;if(lu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=zl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=zl(e[r],t));return n}return e}function d1(e,t){return e.data=Ul(e.data,t),delete e.attachments,e}function Ul(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ul(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ul(e[n],t));return e}const f1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],h1=5;var Q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class p1{constructor(t){this.replacer=t}encode(t){return(t.type===Q.EVENT||t.type===Q.ACK)&&Fo(t)?this.encodeAsBinary({type:t.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Q.BINARY_EVENT||t.type===Q.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=u1(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Wd(e){return Object.prototype.toString.call(e)==="[object Object]"}class cu extends _e{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Q.BINARY_EVENT;r||n.type===Q.BINARY_ACK?(n.type=r?Q.EVENT:Q.ACK,this.reconstructor=new m1(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(lu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Q[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Q.BINARY_EVENT||r.type===Q.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(cu.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Q.CONNECT:return Wd(n);case Q.DISCONNECT:return n===void 0;case Q.CONNECT_ERROR:return typeof n=="string"||Wd(n);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&f1.indexOf(n[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class m1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=d1(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const g1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cu,Encoder:p1,get PacketType(){return Q},protocol:h1},Symbol.toStringTag,{value:"Module"}));function _t(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const y1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class sm extends _e{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_t(t,"open",this.onopen.bind(this)),_t(t,"packet",this.onpacket.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,o;if(y1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Q.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),s.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,i)=>{const o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(t);break;case Q.ACK:case Q.BINARY_ACK:this.onack(t);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Q.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Mr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Mr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Mr.prototype.reset=function(){this.attempts=0};Mr.prototype.setMin=function(e){this.ms=e};Mr.prototype.setMax=function(e){this.max=e};Mr.prototype.setJitter=function(e){this.jitter=e};class Vl extends _e{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Hs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Mr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||g1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new i1(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=_t(n,"open",function(){r.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=_t(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_t(t,"ping",this.onping.bind(this)),_t(t,"data",this.ondata.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this)),_t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ws(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new sm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yr={};function Bn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=o1(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Yr[i]&&o in Yr[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let l;return a?l=new Vl(r,t):(Yr[i]||(Yr[i]=new Vl(r,t)),l=Yr[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Bn,{Manager:Vl,Socket:sm,io:Bn,connect:Bn});const Hd="https://remote-work-backend.onrender.com/api",v1="https://remote-work-backend.onrender.com";function x1({workspaceId:e}){const[t,n]=v.useState([]),[r,i]=v.useState(""),[o,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(!1),f=v.useRef(null),h=v.useRef(null);v.useEffect(()=>(y(),x(),()=>{o&&o.disconnect()}),[e]),v.useEffect(()=>{m()},[t]);const y=async()=>{try{const p=localStorage.getItem("token"),S=await fetch(`${Hd}/chat/${e}/messages`,{headers:{Authorization:`Bearer ${p}`}});if(S.ok){const b=await S.json();n(b.messages)}}catch(p){console.error("Error loading messages:",p)}},x=()=>{const p=localStorage.getItem("token"),S=Bn(v1,{auth:{token:p}});S.on("connect",()=>{S.emit("join_workspace",e)}),S.on("new_message",b=>{n(w=>[...w,b])}),s(S)},_=async p=>{p.preventDefault(),!(!r.trim()&&!a||!o)&&(a?await T():(o.emit("send_message",{workspaceId:e,content:r.trim(),messageType:"text"}),i("")))},T=async()=>{if(!a)return;d(!0);const p=new FormData;p.append("file",a),p.append("workspaceId",e);try{const S=localStorage.getItem("token"),b=await fetch(`${Hd}/upload/file`,{method:"POST",headers:{Authorization:`Bearer ${S}`},body:p});if(b.ok){const w=await b.json();o.emit("send_message",{workspaceId:e,content:r.trim()||`Shared a file: ${a.name}`,messageType:"file",fileUrl:w.fileUrl,fileName:a.name}),i(""),l(null),h.current&&(h.current.value="")}}catch(S){console.error("File upload failed:",S),alert("File upload failed. Please try again.")}finally{d(!1)}},g=p=>{const S=p.target.files[0];S&&S.size<=10*1024*1024?l(S):alert("File size must be less than 10MB")},m=()=>{var p;(p=f.current)==null||p.scrollIntoView({behavior:"smooth"})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Team Chat"}),u.jsx("p",{className:"text-gray-600",children:"Real-time communication with your team"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[u.jsxs("div",{className:"h-96 overflow-y-auto p-6 space-y-4",children:[t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),u.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):t.map(p=>{var w,E,j,A;const S=JSON.parse(localStorage.getItem("user")||"{}"),b=((w=p.sender)==null?void 0:w.id)===S.id;return u.jsx("div",{className:`flex ${b?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md ${b?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-bold ${b?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gradient-to-br from-purple-500 to-purple-600"}`,children:((j=(E=p.sender)==null?void 0:E.full_name)==null?void 0:j.charAt(0))||"U"})}),u.jsxs("div",{className:`flex-1 ${b?"text-right":""}`,children:[u.jsxs("div",{className:`flex items-center space-x-2 mb-1 ${b?"justify-end":""}`,children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:b?"You":((A=p.sender)==null?void 0:A.full_name)||"Unknown User"}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleTimeString()})]}),u.jsx("div",{className:`inline-block px-4 py-2 rounded-2xl shadow-sm ${b?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:p.messageType==="file"?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),u.jsx("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:`text-sm underline hover:no-underline ${b?"text-blue-100":"text-blue-600"}`,children:p.fileName||"Download File"})]}):u.jsx("p",{className:"text-sm",children:p.content})})]})]})},p.id)}),u.jsx("div",{ref:f})]}),u.jsxs("div",{className:"border-t border-gray-200/50 p-6",children:[a&&u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),u.jsx("span",{className:"text-sm text-blue-800",children:a.name})]}),u.jsx("button",{onClick:()=>{l(null),h.current&&(h.current.value="")},className:"text-blue-600 hover:text-blue-800",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:_,className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),placeholder:a?"Add a message (optional)...":"Type your message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),u.jsx("input",{ref:h,type:"file",onChange:g,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar"}),u.jsx("button",{type:"button",onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"px-4 py-3 border border-gray-300 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors flex items-center",title:"Attach File",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),u.jsxs("button",{type:"submit",disabled:!r.trim()&&!a||c,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:[c?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),u.jsx("span",{children:c?"Sending...":"Send"})]})]})]})]})]})})}class k1{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return _1(t).buffer}}function _1(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e){const o=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(o,r),r+=i.byteLength}return n}function am(e){return new S1(e).unpack()}function lm(e){const t=new C1,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class S1{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,i="",o,s;for(;r<t;)o=n[r],o<160?(s=o,r++):(o^192)<32?(s=(o&31)<<6|n[r+1]&63,r+=2):(o^224)<16?(s=(o&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(s=(o&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(s);return this.index+=t,i}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,i=t&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,i=(t>>20&2047)-1023,s=(t&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*s}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class C1{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const o=this.pack(t[i]);return o instanceof Promise?o.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),i=t/2**r-1,o=Math.floor(i*2**52),s=2**32,a=n<<31|r+1023<<20|o/s&1048575,l=o%s;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=o=>{if(o<n.length){const s=n[o];if(t.hasOwnProperty(s)){this.pack(s);const a=this.pack(t[s]);if(a instanceof Promise)return a.then(()=>i(o+1))}return i(o+1)}};return i(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new k1,this._textEncoder=new TextEncoder}}let cm=!0,um=!0;function ni(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Gn(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,a){if(s!==t)return i.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,l),i.apply(this,[s,l])};const o=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(a))return o.apply(this,arguments);const l=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function w1(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(cm=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function b1(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(um=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function dm(){if(typeof window=="object"){if(cm)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function uu(e,t){um&&console.warn(e+" is deprecated, please use "+t+" instead.")}function E1(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(ni(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(ni(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(ni(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=ni(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Yd(e){return Object.prototype.toString.call(e)==="[object Object]"}function fm(e){return Yd(e)?Object.keys(e).reduce(function(t,n){const r=Yd(e[n]),i=r?fm(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function Wl(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Wl(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{Wl(e,e.get(i),n)})}))}function Xd(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(a=>{a.type===r&&a.trackId===s.id&&Wl(e,a,i)})}),i}const Gd=dm;function hm(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,y){return h?h+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",c)]=d.ideal,l.optional.push(h),h={},h[f("max",c)]=d.ideal,l.optional.push(h)):(h[f("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(t.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(x=>x.kind==="videoinput");let y=h.find(x=>f.some(_=>x.label.toLowerCase().includes(_)));return!y&&h.length&&f.includes("back")&&(y=h[h.length-1]),y&&(a.video.deviceId=c.exact?{exact:y.deviceId}:{ideal:y.deviceId}),a.video=r(a.video),Gd("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return Gd("chrome: "+JSON.stringify(a)),l(a)},o=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){i(a,d=>{n.webkitGetUserMedia(d,l,f=>{c&&c(o(f))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(o(d))))}}}function pm(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function mm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Gn(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function gm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=t(this,a),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ym(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>Xd(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Gn(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Xd(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(a=>{a.track===r&&(i?s=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(o?s=!0:o=a),a.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function vm(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function xm(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return vm(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(y=>y.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new e.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(_=>_===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(_=>_.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[f.id];if(x)x.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const _=new e.MediaStream([d]);this._streams[f.id]=_,this._reverseStreams[_.id]=f,this.addStream(_)}return this.getSenders().find(_=>_.track===d)};function o(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],x=c._streams[y.id];f=f.replace(new RegExp(x.id,"g"),y.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function s(c,d){let f=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const y=c._reverseStreams[h],x=c._streams[y.id];f=f.replace(new RegExp(y.id,"g"),x.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const d=e.RTCPeerConnection.prototype[c],f={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[x=>{const _=o(this,x);h[0].apply(null,[_])},x=>{h[1]&&h[1].apply(null,x)},arguments[2]]):d.apply(this,arguments).then(x=>o(this,x))}};e.RTCPeerConnection.prototype[c]=f[c]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(_=>d.track===_)&&(h=this._streams[y])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Hl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function km(e,t){Gn(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Kd=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:km,shimAddTrackRemoveTrack:xm,shimAddTrackRemoveTrackWithNative:vm,shimGetSendersWithDtmf:gm,shimGetUserMedia:hm,shimMediaStream:pm,shimOnTrack:mm,shimPeerConnection:Hl,shimSenderReceiverGetStats:ym},Symbol.toStringTag,{value:"Module"}));function _m(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){uu("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function T1(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Sm(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yl(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,a]=arguments;return r.apply(this,[o||null]).then(l=>{if(t.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(s,a)}}function Cm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function wm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Gn(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function bm(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){uu("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Em(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Tm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function Rm(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Nm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function jm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Qd=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Tm,shimCreateAnswer:jm,shimCreateOffer:Nm,shimGetDisplayMedia:T1,shimGetParameters:Rm,shimGetUserMedia:_m,shimOnTrack:Sm,shimPeerConnection:Yl,shimRTCDataChannel:Em,shimReceiverGetStats:wm,shimRemoveStream:bm,shimSenderGetStats:Cm},Symbol.toStringTag,{value:"Module"}));function Pm(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function Lm(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function Dm(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h},t.createAnswer=function(c,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const f=i.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f};t.setLocalDescription=a,a=function(l,c,d){const f=o.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},t.setRemoteDescription=a,a=function(l,c,d){const f=s.apply(this,[l]);return d?(f.then(c,d),Promise.resolve()):f},t.addIceCandidate=a}function Om(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(Mm(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}).bind(t))}function Mm(e){return e&&e.video!==void 0?Object.assign({},e,{video:fm(e.video)}):e}function Im(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(uu("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Am(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function $m(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Bm(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Jd=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Bm,shimCallbacksAPI:Dm,shimConstraints:Mm,shimCreateOfferLegacy:$m,shimGetUserMedia:Om,shimLocalStreamsAPI:Pm,shimRTCIceServerUrls:Im,shimRemoteStreamsAPI:Lm,shimTrackEventTransceiver:Am},Symbol.toStringTag,{value:"Module"}));var Fm={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const l=o[a],c=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=t.parseRtpMap(c),f=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=f.length?t.parseFmtp(f[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const s=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});let o=0;return r.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(x=>parseInt(x,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let y={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(y.rtx={ssrc:c}),r.push(y),o&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(y))}}),r.length===0&&l&&r.push({ssrc:l});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let o;const s=r!==void 0?r:2;return n?o=n:o=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(Fm);var zm=Fm.exports;const _r=ef(zm),R1=Zm({__proto__:null,default:_r},[zm]);function zo(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),o=_r.parseCandidate(r.candidate);for(const s in o)s in i||Object.defineProperty(i,s,{value:o[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Gn(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Xl(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Gn(e,"icecandidate",t=>{if(t.candidate){const n=_r.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Uo(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=_r.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=_r.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return t.browser==="firefox"&&(t.version<57?a===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},o=function(a,l){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const d=_r.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),d=o(arguments[0],l);let f;c===0&&d===0?f=Number.POSITIVE_INFINITY:c===0||d===0?f=Math.max(c,d):f=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return s.apply(this,arguments)}}function Vo(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Gn(e,"datachannel",r=>(t(r.channel,r.target),r))}function Gl(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Kl(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Wo(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ho(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}const N1=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Kl,shimAddIceCandidateNullOrEmpty:Wo,shimConnectionState:Gl,shimMaxMessageSize:Uo,shimParameterlessSetLocalDescription:Ho,shimRTCIceCandidate:zo,shimRTCIceCandidateRelayProtocol:Xl,shimSendThrowTypeError:Vo},Symbol.toStringTag,{value:"Module"}));function j1({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=dm,r=E1(e),i={browserDetails:r,commonShim:N1,extractVersion:ni,disableLog:w1,disableWarnings:b1,sdp:R1};switch(r.browser){case"chrome":if(!Kd||!Hl||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Kd,Wo(e,r),Ho(e),hm(e,r),pm(e),Hl(e,r),mm(e),xm(e,r),gm(e),ym(e),km(e,r),zo(e),Xl(e),Gl(e),Uo(e,r),Vo(e),Kl(e,r);break;case"firefox":if(!Qd||!Yl||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Qd,Wo(e,r),Ho(e),_m(e,r),Yl(e,r),Sm(e),bm(e),Cm(e),wm(e),Em(e),Tm(e),Rm(e),Nm(e),jm(e),zo(e),Gl(e),Uo(e,r),Vo(e);break;case"safari":if(!Jd||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Jd,Wo(e,r),Ho(e),Im(e),$m(e),Dm(e),Pm(e),Lm(e),Am(e),Om(e),Bm(e),zo(e),Xl(e),Uo(e,r),Vo(e),Kl(e,r);break;default:n("Unsupported browser!");break}return i}const qd=j1({window:typeof window>"u"?void 0:window});function Kn(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Um{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,i=Math.ceil(r/this.chunkedMTU);let o=0,s=0;for(;s<r;){const a=Math.min(r,s+this.chunkedMTU),l=t.slice(s,a),c={__peerData:this._dataCount,n:o,data:l,total:i};n.push(c),s=a,o++}return this._dataCount++,n}}}function P1(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.byteLength;return n}const Ma=qd.default||qd,Xr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Ma.browserDetails.browser}getVersion(){return Ma.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Ma.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},L1=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),Vm=()=>Math.random().toString(36).slice(2),Zd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class D1 extends Um{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Zd,this.browser=Xr.getBrowser(),this.browserVersion=Xr.getVersion(),this.pack=lm,this.unpack=am,this.supports=function(){const n={browser:Xr.isBrowserSupported(),webRTC:Xr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Zd),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!Xr.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=L1,this.randomToken=Vm}}const Xe=new D1,O1="PeerJS: ";class M1{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[O1,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var B=new M1,du={},I1=Object.prototype.hasOwnProperty,Ve="~";function Ai(){}Object.create&&(Ai.prototype=Object.create(null),new Ai().__proto__||(Ve=!1));function A1(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Wm(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new A1(n,r||e,i),s=Ve?Ve+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Yo(e,t){--e._eventsCount===0?e._events=new Ai:delete e._events[t]}function $e(){this._events=new Ai,this._eventsCount=0}$e.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)I1.call(n,r)&&t.push(Ve?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};$e.prototype.listeners=function(t){var n=Ve?Ve+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};$e.prototype.listenerCount=function(t){var n=Ve?Ve+t:t,r=this._events[n];return r?r.fn?1:r.length:0};$e.prototype.emit=function(t,n,r,i,o,s){var a=Ve?Ve+t:t;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,d,f;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,i),!0;case 5:return l.fn.call(l.context,n,r,i,o),!0;case 6:return l.fn.call(l.context,n,r,i,o,s),!0}for(f=1,d=new Array(c-1);f<c;f++)d[f-1]=arguments[f];l.fn.apply(l.context,d)}else{var h=l.length,y;for(f=0;f<h;f++)switch(l[f].once&&this.removeListener(t,l[f].fn,void 0,!0),c){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,i);break;default:if(!d)for(y=1,d=new Array(c-1);y<c;y++)d[y-1]=arguments[y];l[f].fn.apply(l[f].context,d)}}return!0};$e.prototype.on=function(t,n,r){return Wm(this,t,n,r,!1)};$e.prototype.once=function(t,n,r){return Wm(this,t,n,r,!0)};$e.prototype.removeListener=function(t,n,r,i){var o=Ve?Ve+t:t;if(!this._events[o])return this;if(!n)return Yo(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&Yo(this,o);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==n||i&&!s[a].once||r&&s[a].context!==r)&&l.push(s[a]);l.length?this._events[o]=l.length===1?l[0]:l:Yo(this,o)}return this};$e.prototype.removeAllListeners=function(t){var n;return t?(n=Ve?Ve+t:t,this._events[n]&&Yo(this,n)):(this._events=new Ai,this._eventsCount=0),this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.addListener=$e.prototype.on;$e.prefixed=Ve;$e.EventEmitter=$e;du=$e;var Qn={};Kn(Qn,"ConnectionType",()=>Sn);Kn(Qn,"PeerErrorType",()=>ve);Kn(Qn,"BaseConnectionErrorType",()=>Ql);Kn(Qn,"DataConnectionErrorType",()=>fu);Kn(Qn,"SerializationType",()=>Ys);Kn(Qn,"SocketEventType",()=>fn);Kn(Qn,"ServerMessageType",()=>Me);var Sn=function(e){return e.Data="data",e.Media="media",e}({}),ve=function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e}({}),Ql=function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e}({}),fu=function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e}({}),Ys=function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e}({}),fn=function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e}({}),Me=function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e}({});const Hm="1.5.5";class $1 extends du.EventEmitter{constructor(t,n,r,i,o,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+i+"peerjs?key="+o}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Hm),this._disconnected=!1,this._socket.onmessage=i=>{let o;try{o=JSON.parse(i.data),B.log("Server message received:",o)}catch{B.log("Invalid server message",i.data);return}this.emit(fn.Message,o)},this._socket.onclose=i=>{this._disconnected||(B.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(fn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),B.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){B.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Me.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(fn.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Ym{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Sn.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r._initializeDataChannel(o),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){B.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,o=this.connection.provider;B.log("Listening for ICE candidates."),t.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(B.log(`Received ICE candidates for ${n}:`,s.candidate),o.socket.send({type:Me.Candidate,payload:{candidate:s.candidate,type:i,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":B.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Ql.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":B.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Ql.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":B.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},B.log("Listening for data channel"),t.ondatachannel=s=>{B.log("Received data channel");const a=s.channel;o.getConnection(n,r)._initializeDataChannel(a)},B.log("Listening for remote stream"),t.ontrack=s=>{B.log("Received remote stream");const a=s.streams[0],l=o.getConnection(n,r);if(l.type===Sn.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){B.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);B.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),B.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Sn.Data){const o=this.connection;i={...i,label:o.label,reliable:o.reliable,serialization:o.serialization}}n.socket.send({type:Me.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ve.WebRTC,i),B.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(ve.WebRTC,r),B.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();B.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),B.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Me.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(ve.WebRTC,i),B.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(ve.WebRTC,r),B.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;B.log("Setting remote description",n);const o=this;try{await r.setRemoteDescription(n),B.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await o._makeAnswer()}catch(s){i.emitError(ve.WebRTC,s),B.log("Failed to setRemoteDescription, ",s)}}async handleCandidate(t){B.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),B.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ve.WebRTC,n),B.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(B.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return B.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){B.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Xm extends du.EventEmitter{emitError(t,n){B.error("Error:",n),this.emit("error",new B1(`${t}`,n))}}class B1 extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class Gm extends Xm{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var ql;const yi=class yi extends Gm{get type(){return Sn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||yi.ID_PREFIX+Xe.randomToken(),this._negotiator=new Ym(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{B.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{B.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){B.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Me.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Me.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:B.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){B.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};ql=new WeakMap,Ir(yi,ql,yi.ID_PREFIX="mc_");let Cs=yi;class F1{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:i,path:o,key:s}=this._options,a=new URL(`${n}://${r}:${i}${o}${s}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Hm),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){B.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Xe.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Xe.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw B.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var Zl,ec;const Dn=class Dn extends Gm{get type(){return Sn.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Dn.ID_PREFIX+Vm(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Ym(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{B.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{B.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{B.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(fu.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Me.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Me.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:B.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};Zl=new WeakMap,ec=new WeakMap,Ir(Dn,Zl,Dn.ID_PREFIX="dc_"),Ir(Dn,ec,Dn.MAX_BUFFERED_AMOUNT=8388608);let ws=Dn;class hu extends ws{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ws.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return B.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Ia extends hu{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new Um,this.serialization=Ys.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=am(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=P1(r.data);this._handleDataMessage({data:i})}}_send(t,n){const r=lm(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);B.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class z1 extends hu{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Ys.None}}class U1 extends hu{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Xe.chunkedMTU){this.emitError(fu.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Ys.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var tc;const vi=class vi extends Xm{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:z1,json:U1,binary:Ia,"binary-utf8":Ia,default:Ia},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Xe.CLOUD_HOST,port:Xe.CLOUD_PORT,path:"/",key:vi.DEFAULT_KEY,token:Xe.randomToken(),config:Xe.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Xe.CLOUD_HOST?this._options.secure=Xe.isSecure():this._options.host==Xe.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&B.setLogFunction(this._options.logFunction),B.logLevel=this._options.debug||0,this._api=new F1(n),this._socket=this._createServerConnection(),!Xe.supports.audioVideo&&!Xe.supports.data){this._delayedAbort(ve.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Xe.validateId(r)){this._delayedAbort(ve.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(ve.ServerError,i))}_createServerConnection(){const t=new $1(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(fn.Message,n=>{this._handleMessage(n)}),t.on(fn.Error,n=>{this._abort(ve.SocketError,n)}),t.on(fn.Disconnected,()=>{this.disconnected||(this.emitError(ve.Network,"Lost connection to server."),this.disconnect())}),t.on(fn.Close,()=>{this.disconnected||this._abort(ve.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,i=t.src;switch(n){case Me.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Me.Error:this._abort(ve.ServerError,r.msg);break;case Me.IdTaken:this._abort(ve.UnavailableID,`ID "${this.id}" is taken`);break;case Me.InvalidKey:this._abort(ve.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Me.Leave:B.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Me.Expire:this.emitError(ve.PeerUnavailable,`Could not connect to peer ${i}`);break;case Me.Offer:{const o=r.connectionId;let s=this.getConnection(i,o);if(s&&(s.close(),B.warn(`Offer received for existing Connection ID:${o}`)),r.type===Sn.Media){const l=new Cs(i,this,{connectionId:o,_payload:r,metadata:r.metadata});s=l,this._addConnection(i,s),this.emit("call",l)}else if(r.type===Sn.Data){const l=new this._serializers[r.serialization](i,this,{connectionId:o,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});s=l,this._addConnection(i,s),this.emit("connection",l)}else{B.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(o);for(const l of a)s.handleMessage(l);break}default:{if(!r){B.warn(`You received a malformed message from ${i} of type ${n}`);return}const o=r.connectionId,s=this.getConnection(i,o);s&&s.peerConnection?s.handleMessage(t):o?this._storeMessage(o,t):B.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){B.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ve.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){B.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ve.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){B.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Cs(t,this,{...r,_stream:n});return this._addConnection(t,i),i}_addConnection(t,n){B.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){B.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(B.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;B.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)B.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)B.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ve.ServerError,n))}};tc=new WeakMap,Ir(vi,tc,vi.DEFAULT_KEY="peerjs");let Jl=vi;var Km=Jl;const V1="https://remote-work-backend.onrender.com",W1={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"}]}};function H1({workspaceId:e}){const[t,n]=v.useState(null),[r,i]=v.useState(null),[o,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(null),[f,h]=v.useState(!1),[y,x]=v.useState(!1),[_,T]=v.useState(!1),[g,m]=v.useState(!1),[p,S]=v.useState("idle"),[b,w]=v.useState(!1),E=v.useRef(null),j=v.useRef(null),A=v.useRef(null),F=v.useRef(null),W=v.useRef(null),fe=v.useRef(null),re=v.useRef(!1);v.useEffect(()=>(he(),Se(),()=>{Te()}),[e]);const Te=v.useCallback(()=>{re.current||(re.current=!0,W.current&&W.current.close(),A.current&&A.current.destroy(),F.current&&F.current.disconnect(),a&&a.getTracks().forEach(L=>L.stop()),fe.current&&fe.current.getTracks().forEach(L=>L.stop()),E.current&&(E.current.srcObject=null),j.current&&(j.current.srcObject=null))},[a]),Se=()=>{A.current&&A.current.destroy();const L=new Km(W1);L.on("open",M=>{console.log("Peer connected with ID:",M),s(M)}),L.on("call",M=>{console.log("Incoming call from:",M.peer),p==="idle"||p==="calling"?U(M):(console.log("Rejecting call - already in call"),M.close())}),L.on("error",M=>{console.error("Peer error:",M),S("idle")}),n(L),A.current=L},he=()=>{F.current&&F.current.disconnect();const L=localStorage.getItem("token"),M=Bn(V1,{auth:{token:L}});M.on("connect",()=>{M.emit("join_workspace",e)}),M.on("user_calling",z=>{if(console.log(" User is calling:",z),p!=="idle"){console.log(" Ignoring call - already in call state:",p);return}if(A.current&&z.peerId&&z.peerId!==o){const q=JSON.parse(localStorage.getItem("user")||"{}");z.userId!==q.id&&(console.log(" Making call to peer:",z.peerId),O(z.peerId))}}),M.on("call_ended",z=>{console.log("Call ended by remote user"),k()}),i(M),F.current=M},Be=async()=>{if(p!=="idle"){console.log("Call already in progress");return}try{S("calling"),a&&a.getTracks().forEach(M=>M.stop());const L=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});l(L),E.current&&(E.current.srcObject=L),F.current&&A.current&&(console.log("Broadcasting call with peer ID:",A.current.id),F.current.emit("user_calling",{workspaceId:e,peerId:A.current.id})),h(!0)}catch(L){console.error("Error accessing camera/microphone:",L),S("idle"),alert("Error: "+L.message)}},O=async L=>{if(p!=="calling"&&p!=="idle"){console.log("Cannot make call in current state:",p);return}if(W.current){console.log("Call already exists, ignoring");return}console.log("Making call to:",L),S("calling");let M=a;if(!M)try{M=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(M),E.current&&(E.current.srcObject=M)}catch(z){console.error("Error accessing camera/microphone:",z),S("idle");return}if(!A.current){console.error("Peer not initialized"),S("idle");return}try{const z=A.current.call(L,M);if(!z){console.error("Failed to create call"),S("idle");return}console.log(" Call created successfully"),d(z),W.current=z,z.on("stream",q=>{console.log(" Outgoing call - received remote stream"),R(q),S("connected")}),z.on("close",()=>{console.log("Call closed by remote user"),k()}),z.on("error",q=>{console.error("Call error:",q),S("idle")})}catch(z){console.error("Error making call:",z),S("idle")}},U=async L=>{if(console.log(" Handling incoming call from:",L.peer),W.current&&p==="connected"){console.log(" Already connected, rejecting incoming call"),L.close();return}W.current&&p==="calling"&&(console.log(" Replacing outgoing call with incoming call"),W.current.close(),W.current=null);try{S("calling");let M=a;M||(M=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(M),E.current&&(E.current.srcObject=M)),console.log(" Answering call"),L.answer(M),d(L),W.current=L,h(!0),L.on("stream",z=>{console.log(" Incoming call - received remote stream"),R(z),S("connected")}),L.on("close",()=>{console.log("Incoming call closed by remote user"),k()}),L.on("error",z=>{console.error("Incoming call error:",z),S("idle")})}catch(M){console.error("Error handling incoming call:",M),S("idle")}},R=L=>{console.log(" Handling remote stream with tracks:",L.getTracks().length);const M=L.getVideoTracks()[0],z=L.getAudioTracks()[0];if(M&&(console.log(" Video track - muted:",M.muted,"enabled:",M.enabled,"readyState:",M.readyState),console.log(" Video track settings:",M.getSettings()),M.enabled=!0),z&&(console.log(" Audio track - muted:",z.muted,"enabled:",z.enabled),z.enabled=!0),fe.current=L,w(!0),j.current){j.current.srcObject=L,j.current.load();const q=()=>{j.current.play().then(()=>{console.log(" Remote video playing");const se=()=>{if(j.current){const Et=j.current.videoWidth,Bt=j.current.videoHeight;console.log(" Video dimensions:",Et,"x",Bt),Et>0&&Bt>0?(console.log(" Video has valid dimensions"),w(!0)):(console.log(" Video has no dimensions, retrying..."),setTimeout(se,500))}};setTimeout(se,100)}).catch(se=>{console.log(" Play failed:",se.message),setTimeout(q,1e3)})};setTimeout(q,100)}},k=()=>{p!=="ending"&&(S("idle"),h(!1),d(null),w(!1),W.current&&(W.current.close(),W.current=null),a&&(a.getTracks().forEach(L=>L.stop()),l(null)),fe.current&&(fe.current.getTracks().forEach(L=>L.stop()),fe.current=null),E.current&&(E.current.srcObject=null),j.current&&(j.current.srcObject=null),F.current&&F.current.emit("end_call",{workspaceId:e}))},C=()=>{a&&(a.getAudioTracks().forEach(L=>{L.enabled=y}),x(!y))},N=()=>{a&&(a.getVideoTracks().forEach(L=>{L.enabled=_}),T(!_))},I=async()=>{if(W.current)try{if(g){const L=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});if(l(L),E.current&&(E.current.srcObject=L),W.current&&W.current.peerConnection){const M=L.getVideoTracks()[0],z=W.current.peerConnection.getSenders().find(q=>q.track&&q.track.kind==="video");z&&await z.replaceTrack(M)}m(!1)}else{const L=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),M=a==null?void 0:a.getAudioTracks()[0];if(M&&L.addTrack(M),l(L),E.current&&(E.current.srcObject=L),W.current&&W.current.peerConnection){const z=L.getVideoTracks()[0],q=W.current.peerConnection.getSenders().find(se=>se.track&&se.track.kind==="video");q&&await q.replaceTrack(z)}m(!0),L.getVideoTracks()[0].onended=()=>{re.current||I()}}}catch(L){console.error("Screen sharing error:",L),alert("Screen sharing failed: "+L.message)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-1 sm:p-6",children:u.jsxs("div",{className:"w-full max-w-6xl mx-auto px-1 sm:px-0",children:[u.jsxs("div",{className:"mb-2 sm:mb-8 text-center",children:[u.jsx("h1",{className:"text-xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"Video Conference v2"}),u.jsx("p",{className:"text-gray-600 text-xs sm:text-base",children:"Connect face-to-face with your team"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-2xl shadow-xl border border-white/20 p-2 sm:p-8",children:[u.jsxs("div",{className:"grid grid-cols-3 sm:flex sm:flex-wrap gap-1 sm:gap-4 mb-4 sm:mb-8 sm:justify-center",children:[u.jsxs("button",{onClick:Be,disabled:p!=="idle",className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-xs sm:text-base",children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Start"})]}),u.jsxs("button",{onClick:k,disabled:p==="idle",className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-xs sm:text-base",children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 3l18 18"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"End"})]}),u.jsxs("button",{onClick:C,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${y?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:y?"Unmute":"Mute"})]}),u.jsxs("button",{onClick:N,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${_?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-purple-600 to-purple-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Video"})]}),u.jsxs("button",{onClick:I,disabled:!f,className:`px-2 sm:px-6 py-1.5 sm:py-3 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex flex-col sm:flex-row items-center justify-center space-y-0 sm:space-y-0 sm:space-x-2 text-white text-xs sm:text-base ${g?"bg-gradient-to-r from-blue-600 to-blue-700":"bg-gradient-to-r from-gray-600 to-gray-700"}`,children:[u.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs sm:text-base",children:"Share"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-8",children:[u.jsxs("div",{className:"space-y-1 sm:space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),u.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Your Video"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:E,autoPlay:!0,muted:!0,className:"w-full h-40 sm:h-80 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl shadow-lg object-cover"}),!a&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("p",{className:"text-sm opacity-75",children:"Camera not active"})]})})]})]}),u.jsxs("div",{className:"space-y-1 sm:space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${c?"bg-green-500 animate-pulse":"bg-gray-400"}`}),u.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Remote Video"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full h-40 sm:h-80 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl shadow-lg object-cover",onLoadedMetadata:L=>{console.log(" Metadata loaded:",L.target.videoWidth,"x",L.target.videoHeight)},onPlay:()=>console.log(" Video playing"),onTimeUpdate:()=>{var L;(L=j.current)!=null&&L.hasLoggedTimeUpdate||(console.log(" Video dimensions:",j.current.videoWidth,"x",j.current.videoHeight),j.current.videoWidth>0&&j.current.videoHeight>0&&(console.log(" Video has valid dimensions"),w(!0)),j.current.hasLoggedTimeUpdate=!0)}}),!b&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg sm:rounded-2xl",children:u.jsxs("div",{className:"text-center text-white",children:[p==="idle"&&u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Waiting for participant"})]}),p==="connected"&&u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Remote video disabled"})]}),p==="calling"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-4 border-4 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"Connecting..."})]})]})})]})]})]}),p!=="idle"&&u.jsx("div",{className:"mt-4 sm:mt-8 p-3 sm:p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${p==="connected"?"bg-green-500 animate-pulse":"bg-yellow-500 animate-pulse"}`}),u.jsxs("p",{className:"text-green-800 font-medium text-sm sm:text-base",children:[p==="calling"&&"Connecting...",p==="connected"&&"Call is active",p==="ending"&&"Ending call..."]})]})})]})]})})}const Y1="https://remote-work-backend.onrender.com",X1={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"}]}};function G1({workspaceId:e}){const[t,n]=v.useState(null),[r,i]=v.useState(null),[o,s]=v.useState(null),[a,l]=v.useState(null),[c,d]=v.useState(new Map),[f,h]=v.useState(!1),[y,x]=v.useState(!1),[_,T]=v.useState(!1),[g,m]=v.useState("idle"),p=v.useRef(null),S=v.useRef(null),b=v.useRef(null),w=v.useRef(new Map),E=v.useRef(new Set),j=v.useRef(!1);v.useEffect(()=>(W(),F(),()=>A()),[e]);const A=v.useCallback(()=>{j.current||(j.current=!0,w.current.forEach(k=>{try{k.close()}catch(C){console.log("Error closing call:",C)}}),w.current.clear(),S.current&&S.current.destroy(),b.current&&b.current.disconnect(),a&&a.getTracks().forEach(k=>k.stop()),c.forEach(k=>{k.getTracks().forEach(C=>C.stop())}),p.current&&(p.current.srcObject=null))},[a,c]),F=()=>{S.current&&S.current.destroy();const k=new Km(X1);k.on("open",C=>{console.log("Multi-peer connected with ID:",C),s(C),b.current&&f&&(console.log("Auto-emitting peer_joined for existing call:",C),b.current.emit("peer_joined",{workspaceId:e,peerId:C}))}),k.on("call",C=>{console.log("Incoming multi-call from:",C.peer),E.current.has(C.peer)?(console.log("Call already pending from:",C.peer),C.close()):Te(C)}),k.on("error",C=>{console.error("Multi-peer error:",C)}),n(k),S.current=k},W=()=>{b.current&&b.current.disconnect();const k=localStorage.getItem("token"),C=Bn(Y1,{auth:{token:k}});C.on("connect",()=>{C.emit("join_workspace",e)}),C.on("peer_joined",N=>{var I,L;console.log("Multi-peer joined:",N),N.peerId&&N.peerId!==(o||((I=S.current)==null?void 0:I.id))?(console.log("Attempting to call peer:",N.peerId),setTimeout(()=>{!w.current.has(N.peerId)&&!E.current.has(N.peerId)?(console.log("Making call to new peer:",N.peerId),re(N.peerId)):console.log("Already connected/connecting to peer:",N.peerId)},1e3)):console.log("Skipping call - peerId:",N.peerId,"myPeerId:",o||((L=S.current)==null?void 0:L.id))}),C.on("peer_left",N=>{console.log("Multi-peer left:",N.peerId),Se(N.peerId)}),i(C),b.current=C},fe=async()=>{if(g!=="idle"){console.log("Already joining/in call");return}try{m("joining"),a&&a.getTracks().forEach(C=>C.stop());const k=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}});l(k),p.current&&(p.current.srcObject=k),h(!0),m("active"),b.current&&S.current&&(console.log("Emitting peer_joined with peerId:",S.current.id),b.current.emit("peer_joined",{workspaceId:e,peerId:S.current.id}))}catch(k){console.error("Error accessing camera/microphone:",k),m("idle"),alert("Error: "+k.message)}},re=async k=>{if(!S.current){console.log("Cannot make call - no peer instance");return}let C=a;if(!C){console.log("No local stream, getting media first");try{C=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(C),console.log(" Setting local stream - ref exists:",!!p.current,"stream tracks:",C.getTracks().length),p.current?(p.current.srcObject=C,console.log(" Local video srcObject set")):console.log(" Local video ref is null"),h(!0),m("active"),console.log(" Got media stream for call - tracks:",C.getTracks().length),C.getTracks().forEach((N,I)=>{console.log(`Track ${I}: kind=${N.kind}, enabled=${N.enabled}, readyState=${N.readyState}`)})}catch(N){console.error("Error getting media for call:",N);return}}if(w.current.has(k)){console.log("Already connected to:",k);return}console.log("Making multi-call to:",k,"with stream:",!!C),E.current.add(k);try{const N=S.current.call(k,C);N&&(w.current.set(k,N),N.on("stream",I=>{console.log("Received multi-stream from:",k);const L=I.getVideoTracks()[0],M=I.getAudioTracks()[0];L&&(console.log("Multi-video track - muted:",L.muted,"enabled:",L.enabled,"readyState:",L.readyState),L.enabled=!0),M&&(M.enabled=!0),d(z=>{const q=new Map(z),se=q.get(k);return se&&se!==I&&(console.log("Stopping old stream for peer:",k),se.getTracks().forEach(Et=>Et.stop())),console.log("Setting new stream for peer:",k,"tracks:",I.getTracks().length),q.set(k,I),q}),E.current.delete(k)}),N.on("close",()=>{console.log("Multi-call closed:",k),Se(k)}),N.on("error",I=>{console.error("Multi-call error:",I),Se(k)}))}catch(N){console.error("Error making multi-call:",N),E.current.delete(k)}},Te=async k=>{if(w.current.has(k.peer)){console.log("Already connected to:",k.peer),k.close();return}E.current.add(k.peer);try{let C=a;C||(C=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640,min:320},height:{ideal:480,min:240},frameRate:{ideal:30,min:15}},audio:{echoCancellation:!0,noiseSuppression:!0}}),l(C),p.current&&(p.current.srcObject=C),h(!0),m("active")),k.answer(C),w.current.set(k.peer,k),k.on("stream",N=>{console.log("Incoming multi-stream from:",k.peer);const I=N.getVideoTracks()[0],L=N.getAudioTracks()[0];I&&(console.log("Incoming multi-video track - muted:",I.muted,"enabled:",I.enabled,"readyState:",I.readyState),console.log("Incoming multi-video track settings:",I.getSettings()),I.enabled=!0),L&&(L.enabled=!0),d(M=>{const z=new Map(M),q=z.get(k.peer);return q&&q!==N&&(console.log("Stopping old incoming stream for peer:",k.peer),q.getTracks().forEach(se=>se.stop())),console.log("Setting new incoming stream for peer:",k.peer,"tracks:",N.getTracks().length),z.set(k.peer,N),z}),E.current.delete(k.peer)}),k.on("close",()=>{console.log("Incoming multi-call closed:",k.peer),Se(k.peer)}),k.on("error",N=>{console.error("Incoming multi-call error:",N),Se(k.peer)})}catch(C){console.error("Error handling incoming multi-call:",C),E.current.delete(k.peer),k.close()}},Se=k=>{d(N=>{const I=new Map(N),L=I.get(k);return L&&L.getTracks().forEach(M=>M.stop()),I.delete(k),I});const C=w.current.get(k);if(C)try{C.close()}catch(N){console.log("Error closing connection:",N)}w.current.delete(k),E.current.delete(k)},he=()=>{g!=="idle"&&(m("idle"),w.current.forEach(k=>{try{k.close()}catch(C){console.log("Error closing call:",C)}}),w.current.clear(),E.current.clear(),a&&(a.getTracks().forEach(k=>k.stop()),l(null)),c.forEach(k=>{k.getTracks().forEach(C=>C.stop())}),d(new Map),p.current&&(p.current.srcObject=null),h(!1),b.current&&o&&b.current.emit("peer_left",{workspaceId:e,peerId:o}))},Be=()=>{a&&(a.getAudioTracks().forEach(k=>{k.enabled=y}),x(!y))},O=()=>{a&&(a.getVideoTracks().forEach(k=>{k.enabled=_}),T(!_))},U=()=>{const k=c.size+(a?1:0);console.log("VideoGrid render - localStream exists:",!!a,"remoteStreams:",c.size,"totalVideos:",k);const C=()=>{switch(k){case 1:return"grid-cols-1 max-w-md mx-auto";case 2:return"grid-cols-1 lg:grid-cols-2";case 3:return"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";case 4:return"grid-cols-2";case 5:return"grid-cols-2 lg:grid-cols-3";case 6:return"grid-cols-2 lg:grid-cols-3";default:return"grid-cols-3"}},N=()=>{switch(k){case 1:return"h-96 md:h-[500px]";case 2:return"h-80 md:h-96";case 3:case 4:return"h-64 md:h-80";case 5:case 6:return"h-48 md:h-64";default:return"h-40 md:h-48"}};return u.jsxs("div",{className:`grid ${C()} gap-4`,children:[a&&u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:I=>{p.current=I,I&&a&&(console.log(" Assigning stream to local video ref"),I.srcObject=a)},autoPlay:!0,muted:!0,playsInline:!0,className:`w-full ${N()} bg-gray-900 rounded-xl object-cover`,onLoadedMetadata:I=>{console.log(" Local video metadata loaded:",I.target.videoWidth,"x",I.target.videoHeight)},onPlay:()=>console.log(" Local video playing"),onError:I=>console.log(" Local video error:",I.target.error)}),u.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:"You"})]},"local-video"),Array.from(c.entries()).map(([I,L])=>u.jsx(R,{peerId:I,stream:L},I))]})},R=({peerId:k,stream:C})=>{const N=v.useRef(null),I=c.size+(a?1:0),L=()=>{switch(I){case 1:return"h-96 md:h-[500px]";case 2:return"h-80 md:h-96";case 3:case 4:return"h-64 md:h-80";case 5:case 6:return"h-48 md:h-64";default:return"h-40 md:h-48"}};return v.useEffect(()=>{if(N.current&&C&&!j.current){console.log(" Setting up remote video for peer:",k);const M=C.getVideoTracks()[0],z=C.getAudioTracks()[0];if(M){if(console.log(" Multi-video track - muted:",M.muted,"enabled:",M.enabled,"readyState:",M.readyState),M.readyState==="ended"){console.log(" Video track has ended - stream may have been stopped");return}M.enabled=!0}z&&(z.enabled=!0),N.current.srcObject=C,N.current.load();const q=()=>{N.current.play().then(()=>{console.log(" Multi-video playing for peer:",k);const se=()=>{if(N.current){const Et=N.current.videoWidth,Bt=N.current.videoHeight;console.log(" Multi-video dimensions:",Et,"x",Bt),Et>0&&Bt>0?console.log(" Multi-video has valid dimensions"):Et===2&&Bt===2?console.log(" Multi-video showing 2x2 - track likely ended or empty"):(console.log(" Multi-video has no dimensions, retrying..."),setTimeout(se,500))}};setTimeout(se,100)}).catch(se=>{console.log(" Multi-video play failed:",se.message),setTimeout(q,1e3)})};setTimeout(q,100)}return()=>{N.current&&(N.current.srcObject=null)}},[C,k]),u.jsxs("div",{className:"relative",children:[u.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,className:`w-full ${L()} bg-gray-900 rounded-xl object-cover`}),u.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[k.substring(0,8),"..."]})]})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Multi-User Video Conference"}),u.jsx("p",{className:"text-gray-600",children:"Connect with up to 6 team members"})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 justify-center",children:[u.jsx("button",{onClick:fe,disabled:g!=="idle",className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:u.jsx("span",{children:"Join Call"})}),u.jsx("button",{onClick:he,disabled:g==="idle",className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2",children:u.jsx("span",{children:"Leave Call"})}),u.jsx("button",{onClick:Be,disabled:!f,className:`px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2 text-white ${y?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"}`,children:u.jsx("span",{children:y?"Unmute":"Mute"})}),u.jsx("button",{onClick:O,disabled:!f,className:`px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none flex items-center space-x-2 text-white ${_?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-purple-600 to-purple-700"}`,children:u.jsx("span",{children:_?"Turn On Video":"Turn Off Video"})})]}),u.jsx(U,{}),g!=="idle"&&u.jsx("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${g==="active"?"bg-green-500":"bg-yellow-500"}`}),u.jsxs("p",{className:"text-green-800 font-medium",children:[g==="joining"&&"Joining call...",g==="active"&&"Call is active"]})]}),g==="active"&&u.jsxs("p",{className:"text-green-700 text-sm",children:[c.size+1," participant",c.size!==0?"s":""]})]})})]})]})})}const K1="https://remote-work-backend.onrender.com";function Q1({workspaceId:e}){const[t,n]=v.useState(null),[r,i]=v.useState(!1),[o,s]=v.useState("#000000"),[a,l]=v.useState(3),[c,d]=v.useState("pen"),[f,h]=v.useState([]),[y,x]=v.useState(null),[_,T]=v.useState(!1),[g,m]=v.useState({x:0,y:0}),[p,S]=v.useState({x:0,y:0}),b=v.useRef(null),w=v.useRef(null);v.useEffect(()=>{E(),j();const R=k=>{if(k.ctrlKey||k.metaKey)switch(k.key){case"z":k.preventDefault();break}else switch(k.key.toLowerCase()){case"s":d("select");break;case"p":d("pen");break;case"e":d("eraser");break;case"l":d("line");break;case"r":d("rectangle");break;case"c":d("circle");break}};return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),t&&t.disconnect()}},[e]);const E=()=>{const k=b.current.getContext("2d");k.lineCap="round",k.lineJoin="round",w.current=k},j=()=>{const R=localStorage.getItem("token"),k=Bn(K1,{auth:{token:R}});k.on("connect",()=>{k.emit("join_workspace",e)}),k.on("whiteboard_draw",C=>{C.action==="shape"&&(h(N=>[...N,C.data]),he([...f,C.data]))}),k.on("whiteboard_clear",()=>{h([]),Be()}),n(k)},A=R=>{const k=b.current.getBoundingClientRect(),C=R.clientX||R.touches&&R.touches[0].clientX,N=R.clientY||R.touches&&R.touches[0].clientY;return{x:C-k.left,y:N-k.top}},F=(R,k)=>{for(let C=f.length-1;C>=0;C--)if(W(R,k,f[C]))return C;return-1},W=(R,k,C)=>{switch(C.type){case"rectangle":return R>=C.x&&R<=C.x+C.width&&k>=C.y&&k<=C.y+C.height;case"circle":const N=R-C.centerX,I=k-C.centerY;return Math.sqrt(N*N+I*I)<=C.radius;case"line":return fe(R,k,C.startX,C.startY,C.endX,C.endY)<=8;default:return!1}},fe=(R,k,C,N,I,L)=>{const M=R-C,z=k-N,q=I-C,se=L-N,Et=M*q+z*se,Bt=q*q+se*se;if(Bt===0)return Math.sqrt(M*M+z*z);const pu=Math.max(0,Math.min(1,Et/Bt)),Qm=C+pu*q,Jm=N+pu*se,mu=R-Qm,gu=k-Jm;return Math.sqrt(mu*mu+gu*gu)},re=R=>{const k=A(R);if(S(k),c==="select"){const C=F(k.x,k.y);if(C!==-1){x(C),T(!0);const N=f[C];m({x:k.x-(N.x||N.centerX||N.startX),y:k.y-(N.y||N.centerY||N.startY)})}else x(null);he();return}i(!0),(c==="pen"||c==="eraser")&&(w.current.beginPath(),w.current.moveTo(k.x,k.y))},Te=R=>{const k=A(R);if(c==="select"&&_&&y!==null){const N=[...f],I=N[y],L=k.x-g.x,M=k.y-g.y;switch(I.type){case"rectangle":I.x=L,I.y=M;break;case"circle":I.centerX=L,I.centerY=M;break;case"line":const z=I.endX-I.startX,q=I.endY-I.startY;I.startX=L,I.startY=M,I.endX=L+z,I.endY=M+q;break}h(N),he(N);return}if(!r)return;const C=w.current;c==="pen"?(C.globalCompositeOperation="source-over",C.strokeStyle=o,C.lineWidth=a,C.lineTo(k.x,k.y),C.stroke()):c==="eraser"&&(C.globalCompositeOperation="destination-out",C.lineWidth=a*2,C.lineTo(k.x,k.y),C.stroke())},Se=R=>{if(c==="select"){T(!1);return}if(!r)return;const k=A(R);w.current;let C=null;if(c==="line")C={type:"line",startX:p.x,startY:p.y,endX:k.x,endY:k.y,color:o,strokeWidth:a};else if(c==="rectangle")C={type:"rectangle",x:Math.min(p.x,k.x),y:Math.min(p.y,k.y),width:Math.abs(k.x-p.x),height:Math.abs(k.y-p.y),color:o,strokeWidth:a};else if(c==="circle"){const N=Math.sqrt(Math.pow(k.x-p.x,2)+Math.pow(k.y-p.y,2));C={type:"circle",centerX:p.x,centerY:p.y,radius:N,color:o,strokeWidth:a}}if(C){const N=[...f,C];h(N),he(N),t&&t.emit("whiteboard_draw",{workspaceId:e,action:"shape",data:C})}i(!1),w.current.beginPath()},he=(R=f)=>{const k=w.current,C=b.current;k.clearRect(0,0,C.width,C.height),R.forEach((N,I)=>{switch(k.globalCompositeOperation="source-over",k.strokeStyle=I===y?"#007bff":N.color,k.lineWidth=N.strokeWidth+(I===y?2:0),N.type){case"rectangle":k.strokeRect(N.x,N.y,N.width,N.height);break;case"circle":k.beginPath(),k.arc(N.centerX,N.centerY,N.radius,0,2*Math.PI),k.stroke();break;case"line":k.beginPath(),k.moveTo(N.startX,N.startY),k.lineTo(N.endX,N.endY),k.stroke();break}})},Be=()=>{w.current.clearRect(0,0,b.current.width,b.current.height),h([]),x(null),t&&t.emit("whiteboard_clear",{workspaceId:e})},O=()=>{if(y!==null){const R=f.filter((k,C)=>C!==y);h(R),x(null),he(R)}},U=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB"];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Enhanced Whiteboard"}),u.jsx("p",{className:"text-gray-600",children:"Draw, select, drag, and create shapes collaboratively"})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/30 overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-b border-slate-200 p-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Tools:"}),u.jsx("div",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm border",children:[{id:"select",icon:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z",name:"Select & Drag"},{id:"pen",icon:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",name:"Pen"},{id:"eraser",icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",name:"Eraser"},{id:"line",icon:"M5 12h14",name:"Line"},{id:"rectangle",icon:"M4 6h16v12H4z",name:"Rectangle"},{id:"circle",icon:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z",name:"Circle"}].map(R=>u.jsx("button",{onClick:()=>d(R.id),className:`p-2 rounded-md transition-all duration-200 ${c===R.id?"bg-blue-600 text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,title:R.name,children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:R.icon})})},R.id))})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Colors:"}),u.jsx("div",{className:"flex space-x-1",children:U.map(R=>u.jsx("button",{onClick:()=>s(R),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 ${o===R?"border-slate-400 scale-110":"border-slate-200 hover:scale-105"}`,style:{backgroundColor:R}},R))})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Size:"}),u.jsx("input",{type:"range",min:"1",max:"20",value:a,onChange:R=>l(R.target.value),className:"w-24 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"}),u.jsx("span",{className:"text-sm font-medium text-slate-600 bg-white px-2 py-1 rounded-md border min-w-[40px] text-center",children:a})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-4",children:[y!==null&&u.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),u.jsx("span",{children:"Delete Selected"})]}),u.jsxs("button",{onClick:Be,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),u.jsx("span",{children:"Clear All"})]})]})]}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-inner border-2 border-slate-200",children:[u.jsx("canvas",{ref:b,width:1200,height:700,className:`w-full max-w-full touch-none rounded-xl ${c==="select"?"cursor-pointer":c==="pen"?"cursor-crosshair":c==="eraser"?"cursor-cell":"cursor-crosshair"}`,onMouseDown:re,onMouseMove:Te,onMouseUp:Se,onMouseLeave:Se,onTouchStart:R=>{R.preventDefault(),re(R)},onTouchMove:R=>{R.preventDefault(),Te(R)},onTouchEnd:R=>{R.preventDefault(),Se(R)}}),u.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[u.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-3 py-2 rounded-lg shadow-lg border",children:u.jsx("span",{className:"text-sm font-medium text-slate-700 capitalize",children:c})}),y!==null&&u.jsx("div",{className:"bg-blue-100 px-3 py-2 rounded-lg shadow-lg border border-blue-200",children:u.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Shape Selected"})})]})]})})]}),u.jsxs("div",{className:"mt-6 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Keyboard Shortcuts"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 text-xs",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"S"}),u.jsx("span",{className:"text-slate-600",children:"Select"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"P"}),u.jsx("span",{className:"text-slate-600",children:"Pen"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"E"}),u.jsx("span",{className:"text-slate-600",children:"Eraser"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"L"}),u.jsx("span",{className:"text-slate-600",children:"Line"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"R"}),u.jsx("span",{className:"text-slate-600",children:"Rectangle"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded border",children:"C"}),u.jsx("span",{className:"text-slate-600",children:"Circle"})]})]})]})]})})}function J1({workspaceId:e,onClose:t}){const[n,r]=v.useState(""),[i,o]=v.useState(!1),[s,a]=v.useState(!1),l=async()=>{o(!0);try{const d=await fetch("https://remote-work-backend.onrender.com/api/invite/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({workspaceId:e})}),f=await d.json();d.ok?r(f.inviteLink):alert("Failed to generate invite: "+f.error)}catch{alert("Error generating invite")}o(!1)},c=()=>{navigator.clipboard.writeText(n),a(!0),setTimeout(()=>a(!1),2e3)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invite to Workspace"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n?u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"Share this link with team members:"}),u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-xl bg-gray-50"}),u.jsx("button",{onClick:c,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:s?"Copied!":"Copy"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Link expires in 7 days"})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600 mb-6",children:"Generate an invitation link to share with team members"}),u.jsx("button",{onClick:l,disabled:i,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50",children:i?"Generating...":"Generate Invite Link"})]})]})})}function q1(){var x;const[e,t]=v.useState(null),[n,r]=v.useState("dashboard"),[i,o]=v.useState(null),[s,a]=v.useState(!1),[l,c]=v.useState(!1),[d,f]=v.useState(!1);v.useEffect(()=>{const _=localStorage.getItem("token"),T=localStorage.getItem("user");_&&T&&t(JSON.parse(T))},[]);const h=(_,T)=>{localStorage.setItem("token",T),localStorage.setItem("user",JSON.stringify(_)),t(_);const g=localStorage.getItem("pendingInvite");g&&(window.location.href=`/join/${g}`)},y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null),r("dashboard"),o(null)};return e?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white/95 backdrop-blur-sm shadow-xl border-r border-white/20 transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:inset-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-gray-200",children:[u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),u.jsx("button",{onClick:()=>c(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i&&u.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-900",children:i.name}),u.jsx("p",{className:"text-xs text-blue-600",children:"Active Workspace"})]})]})}),u.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[u.jsxs("button",{onClick:()=>{r("dashboard"),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="dashboard"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})}),u.jsx("span",{className:"font-medium",children:"Dashboard"})]}),i&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{r("tasks"),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="tasks"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"text-gray-700 hover:bg-green-50 hover:text-green-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),u.jsx("span",{className:"font-medium",children:"Tasks"})]}),u.jsxs("button",{onClick:()=>{r("chat"),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="chat"?"bg-gradient-to-r from-purple-600 to-purple-700 text-white shadow-lg":"text-gray-700 hover:bg-purple-50 hover:text-purple-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),u.jsx("span",{className:"font-medium",children:"Chat"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>f(!d),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="video"||n==="multivideo"?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),u.jsx("span",{className:"font-medium",children:"Video Calls"})]}),u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&u.jsxs("div",{className:"mt-2 ml-4 space-y-1",children:[u.jsxs("button",{onClick:()=>{r("video"),f(!1),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-left transition-all duration-200 ${n==="video"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsx("span",{children:"1-on-1 Call"})]}),u.jsxs("button",{onClick:()=>{r("multivideo"),f(!1),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-left transition-all duration-200 ${n==="multivideo"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("span",{children:"Group Call"})]})]})]}),u.jsxs("button",{onClick:()=>{r("whiteboard"),window.innerWidth<1024&&c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 ${n==="whiteboard"?"bg-gradient-to-r from-yellow-600 to-orange-600 text-white shadow-lg":"text-gray-700 hover:bg-yellow-50 hover:text-yellow-600"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),u.jsx("span",{className:"font-medium",children:"Whiteboard"})]}),u.jsxs("button",{onClick:()=>{a(!0),window.innerWidth<1024&&c(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-200 text-gray-700 hover:bg-green-50 hover:text-green-600",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{className:"font-medium",children:"Invite Members"})]})]})]}),u.jsxs("div",{className:"px-4 py-4 border-t border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 rounded-xl bg-gray-50",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-medium",children:((x=e.name)==null?void 0:x.charAt(0))||"U"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]}),u.jsxs("button",{onClick:y,className:"w-full mt-3 flex items-center space-x-3 px-4 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white hover:shadow-lg transition-all duration-200",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),u.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>c(!1)}),u.jsxs("div",{className:"flex-1 lg:ml-0",children:[u.jsx("div",{className:"lg:hidden bg-white/80 backdrop-blur-sm shadow-sm border-b border-white/20 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"RemoteSync"}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("main",{className:"flex-1",children:[n==="dashboard"&&u.jsx(qv,{user:e,onWorkspaceSelect:o,currentWorkspace:i}),n==="tasks"&&i&&u.jsx(wx,{workspaceId:i.id}),n==="chat"&&i&&u.jsx(x1,{workspaceId:i.id}),n==="video"&&i&&u.jsx(H1,{workspaceId:i.id}),n==="multivideo"&&i&&u.jsx(G1,{workspaceId:i.id}),n==="whiteboard"&&i&&u.jsx(Q1,{workspaceId:i.id}),s&&i&&u.jsx(J1,{workspaceId:i.id,onClose:()=>a(!1)})]}),u.jsx(Lp,{})]})]}):u.jsx(Jv,{onLogin:h})}function Z1(){var h,y;const{code:e}=nv(),t=Cp(),[n,r]=v.useState(null),[i,o]=v.useState(!0),[s,a]=v.useState(!1),[l,c]=v.useState("");v.useEffect(()=>{d()},[e]);const d=async()=>{try{const x=await fetch(`https://remote-work-backend.onrender.com/api/invite/info/${e}`),_=await x.json();x.ok?r(_):c(_.error)}catch{c("Failed to load workspace info")}o(!1)},f=async()=>{const x=localStorage.getItem("token");if(!x){localStorage.setItem("pendingInvite",e),t("/");return}a(!0);try{const _=await fetch(`https://remote-work-backend.onrender.com/api/invite/join/${e}`,{method:"POST",headers:{Authorization:`Bearer ${x}`}}),T=await _.json();_.ok?(localStorage.removeItem("pendingInvite"),alert("Successfully joined workspace!"),t("/")):c(T.error)}catch{c("Failed to join workspace")}a(!1)};return i?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading workspace info..."})]})}):l?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 max-w-md w-full mx-4 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Invite"}),u.jsx("p",{className:"text-gray-600 mb-6",children:l}),u.jsx("button",{onClick:()=>t("/"),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:"Go to Dashboard"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 max-w-md w-full mx-4 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join Workspace"}),u.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-2",children:(h=n==null?void 0:n.workspace)==null?void 0:h.name}),u.jsx("p",{className:"text-gray-600 mb-6",children:(y=n==null?void 0:n.workspace)==null?void 0:y.description}),u.jsx("button",{onClick:f,disabled:s,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 disabled:opacity-50 disabled:transform-none mb-4",children:s?"Joining...":"Join Workspace"}),u.jsx("button",{onClick:()=>t("/"),className:"w-full text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"})]})})}function ek(){return u.jsx(Fv,{children:u.jsxs(yv,{children:[u.jsx(Pl,{path:"/join/:code",element:u.jsx(Z1,{})}),u.jsx(Pl,{path:"/*",element:u.jsx(q1,{})})]})})}Aa.createRoot(document.getElementById("root")).render(u.jsx(mg.StrictMode,{children:u.jsx(ek,{})}));
//# sourceMappingURL=index-k0X4cU26.js.map
